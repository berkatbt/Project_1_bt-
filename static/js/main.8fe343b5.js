/*! For license information please see main.8fe343b5.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case _:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(_u){}}return null}var D=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var B,q,H=U(null),W=U(null),K=U(null),G=U(null);function Q(e,t){switch(z(K,t),z(W,e),z(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bh(t=vh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(H),z(H,e)}function Y(){V(H),V(W),V(K)}function X(e){null!==e.memoizedState&&z(G,e);var t=H.current,n=bh(t,e.type);t!==n&&(z(W,e),z(H,n))}function $(e){W.current===e&&(V(H),V(W)),G.current===e&&(V(G),hd._currentValue=j)}function J(e){if(void 0===B)try{throw Error()}catch(_u){var t=_u.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<_u.stack.indexOf("\n    at")?" (<anonymous>)":-1<_u.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(_u){var r=_u}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(_u){return"\nError generating stack: "+_u.message+"\n"+_u.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(_e(e)/Se|0)|0},_e=Math.log,Se=Math.LN2;var xe=256,ke=262144,Ee=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Te(r):0!==(o&=a)?i=Te(o):n||0!==(n=a&~e)&&(i=Te(n)):0!==(a=r&~s)?i=Te(a):0!==o?i=Te(o):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Cd(e.type)}function Ue(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ve=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ve,Be="__reactProps$"+Ve,qe="__reactContainer$"+Ve,He="__reactEvents$"+Ve,We="__reactListeners$"+Ve,Ke="__reactHandles$"+Ve,Ge="__reactResources$"+Ve,Qe="__reactMarker$"+Ve;function Ye(e){delete e[ze],delete e[Be],delete e[He],delete e[We],delete e[Ke]}function Xe(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mh(e);null!==e;){if(n=e[ze])return n;e=Mh(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[ze]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,ht(t)):null!=n?wt(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(D(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Tt(e,s,t[s])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Dt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,jt=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Lt||null!==jt)&&(Zc(),Lt&&(t=Lt,e=jt,jt=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jd){Bt=!1}var Ht=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),sn=$t(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=$t(on),ln=$t(f({},on,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),un=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),_n=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=$t(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=$t(f({},tn,{newState:0,oldState:0})),kn=[9,13,27,32],En=zt&&"CompositionEvent"in window,Tn=null;zt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=zt&&"TextEvent"in window&&!Tn,Nn=zt&&(!En||Tn&&8<Tn&&11>=Tn),In=String.fromCharCode(32),Pn=!1;function An(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function jn(e,t,n,r){Lt?jt?jt.push(r):jt=[r]:Lt=r,0<(t=ih(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function Un(e){Xu(e,0)}function Vn(e){if(pt(Je(e)))return e}function zn(e,t){if("change"===e)return t}var Bn=!1;if(zt){var qn;if(zt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}qn=Hn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Fn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Vn(Fn)){var t=[];jn(t,Fn,e,Ot(e)),Ut(Un,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Fn)}function Xn(e,t){if("click"===e)return Vn(t)}function $n(e,t){if("input"===e||"change"===e)return Vn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=zt&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ih(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),_r=mr("transitioncancel"),Sr=mr("transitionend"),xr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){xr.set(e,t),rt(t,[e])}kr.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Nr=0,Ir=0;function Pr(){for(var e=Nr,t=Ir=Nr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Ar(e,t,n,r){Cr[Nr++]=e,Cr[Nr++]=t,Cr[Nr++]=n,Cr[Nr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ar(e,t,n,r),Lr(e)}function Dr(e,t){return Ar(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Hc)throw Hc=0,Wc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Mr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Ur(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Fr(31,n,t,i)).elementType=C,e.lanes=s,e;case y:return qr(n.children,i,s,t);case v:a=8,i|=24;break;case b:return(e=Fr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case x:return(e=Fr(13,n,t,i)).elementType=x,e.lanes=s,e;case k:return(e=Fr(19,n,t,i)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case w:a=9;break e;case S:a=11;break e;case E:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,$r=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Xr++]=Jr,Yr[Xr++]=$r,$r=e,Jr=t}function si(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-we(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,hi=!1,di=null,fi=!1,pi=Error(o(519));function mi(e){throw _i(Qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Be]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)$u(Qu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uh(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||mi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=jh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=jh(e)}else 27===n?(n=ui,Ch(e.type)?(e=Lh,Lh=null,ui=e):ui=n):ui=ci?Oh(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,hi=!1}function wi(){var e=di;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),di=null),e}function _i(e){null===di?di=[e]:di.push(e)}var Si=U(null),xi=null,ki=null;function Ei(e,t,n){z(Si,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=Si.current,V(Si)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ci(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ci(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ii(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hd):e=[hd])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){xi=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Oi(xi,e)}function Di(e,t){return null===xi&&Ai(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(o(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,Fi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&ji(Mi,function(){e.controller.abort()})}var zi=null,Bi=0,qi=0,Hi=null;function Wi(){if(0===--Bi&&null!==zi){null!==Hi&&(Hi.status="fulfilled");var e=zi;zi=null,qi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=O.S;O.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Bi=0,qi=qu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=U(null);function Qi(){var e=Gi.current;return null!==e?e:pc.pooledCache}function Yi(e,t){z(Gi,null===t?Gi.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:Fi._currentValue,pool:e}}var $i=Error(o(460)),Ji=Error(o(474)),Zi=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,$i}}function rs(e){try{return(0,e._init)(e._payload)}catch(_u){if(null!==_u&&"object"===typeof _u&&"function"===typeof _u.then)throw is=_u,$i;throw _u}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===$i||e===Zi)throw Error(o(483))}var as=null,ls=0;function cs(e){var t=ls;return ls+=1,null===as&&(as=[]),ns(as,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&rs(s)===t.type)?(us(t=i(t,n.props),n),t.return=e,t):(us(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return us(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case T:return d(e,t=rs(t),n)}if(D(t)||P(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,cs(t),n);if(t.$$typeof===_)return d(e,Di(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=rs(n),r)}if(D(n)||P(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,cs(n),r);if(n.$$typeof===_)return f(e,t,Di(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return p(e,t,n,r=rs(r),i)}if(D(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,cs(r),i);if(r.$$typeof===_)return p(e,t,n,Di(t,r),i);hs(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&rs(b)===c.type){n(l,c.sibling),us(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((h=qr(u.props.children,l.mode,h,u.key)).return=l,l=h):(us(h=Br(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Kr(u,l.mode,h)).return=l,l=h}return a(l);case T:return v(l,c,u=rs(u),h)}if(D(u))return function(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),hi&&ii(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return hi&&ii(i,m),c}for(h=r(h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,m),c}(l,c,u,h);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(o(150));return function(i,a,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),hi&&ii(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return hi&&ii(i,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),hi&&ii(i,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,cs(u),h);if(u.$$typeof===_)return v(l,c,Di(l,u),h);hs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Hr(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,r){try{ls=0;var i=v(e,t,n,r);return as=null,i}catch(_u){if(_u===$i||_u===Zi)throw _u;var s=Fr(29,_u,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ds(!0),ps=ds(!1),ms=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return Ar(e,r,t,n),Lr(e)}function ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function _s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ss=!1;function xs(){if(Ss){if(null!==Hi)throw Hi}}function ks(e,t,n,r){Ss=!1;var i=e.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(gc&d)===d:(r&d)===d){0!==d&&d===qi&&(Ss=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:ms=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),kc|=o,e.lanes=o,e.memoizedState=h}}function Es(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Es(n[e],t)}var Cs=U(null),Ns=U(0);function Is(e,t){z(Ns,e=Sc),z(Cs,t),Sc=e|t.baseLanes}function Ps(){z(Ns,Sc),z(Cs,Cs.current)}function As(){Sc=Ns.current,V(Cs),V(Ns)}var Rs=U(null),Ds=null;function Os(e){var t=e.alternate;z(Us,1&Us.current),z(Rs,e),null===Ds&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Ds=e)}function Ls(e){z(Us,Us.current),z(Rs,e),null===Ds&&(Ds=e)}function js(e){22===e.tag?(z(Us,Us.current),z(Rs,e),null===Ds&&(Ds=e)):Ms()}function Ms(){z(Us,Us.current),z(Rs,Rs.current)}function Fs(e){V(Rs),Ds===e&&(Ds=null),V(Us)}var Us=U(0);function Vs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rh(n)||Dh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=0,Bs=null,qs=null,Hs=null,Ws=!1,Ks=!1,Gs=!1,Qs=0,Ys=0,Xs=null,$s=0;function Js(){throw Error(o(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return zs=s,Bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?ga:ya,Gs=!1,s=n(r,i),Gs=!1,Ks&&(s=no(t,n,r,i)),to(e),s}function to(e){O.H=ma;var t=null!==qs&&null!==qs.next;if(zs=0,Hs=qs=Bs=null,Ws=!1,Ys=0,Xs=null,t)throw Error(o(300));null===e||Da||null!==(e=e.dependencies)&&Pi(e)&&(Da=!0)}function no(e,t,n,r){Bs=e;var i=0;do{if(Ks&&(Xs=null),Ys=0,Ks=!1,25<=i)throw Error(o(301));if(i+=1,Hs=qs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=va,s=t(n,r)}while(Ks);return s}function ro(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==qs?qs.memoizedState:null)!==e&&(Bs.flags|=1024),t}function io(){var e=0!==Qs;return Qs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}zs=0,Hs=qs=Bs=null,Ks=!1,Ys=Qs=0,Xs=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hs?Bs.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function lo(){if(null===qs){var e=Bs.alternate;e=null!==e?e.memoizedState:null}else e=qs.next;var t=null===Hs?Bs.memoizedState:Hs.next;if(null!==t)Hs=t,qs=e;else{if(null===e){if(null===Bs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qs=e).memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},null===Hs?Bs.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function co(e){var t=Ys;return Ys+=1,null===Xs&&(Xs=[]),e=ns(Xs,e,t),t=Bs,null===(null===Hs?t.memoizedState:Hs.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?ga:ya),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===_)return Ri(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(lo(),qs,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(gc&d)===d:(zs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===qi&&(h=!0);else{if((zs&f)===f){u=u.next,f===qi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=s):c=c.next=d,Bs.lanes|=f,kc|=f}d=u.action,Gs&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,Bs.lanes|=d,kc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Jn(s,e.memoizedState)&&(Da=!0,h&&null!==(n=Hi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Jn(s,t.memoizedState)||(Da=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yo(e,t,n){var r=Bs,i=lo(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Jn((qs||i).memoizedState,n);if(a&&(i.memoizedState=n,Da=!0),i=i.queue,Bo(wo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Hs&&1&Hs.memoizedState.tag){if(r.flags|=2048,Mo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pc)throw Error(o(349));s||0!==(127&zs)||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&So(e)}function wo(e,t,n){return n(function(){_o(t)&&So(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(Sw){return!0}}function So(e){var t=Dr(e,2);null!==t&&Qc(t,e,2)}function xo(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Gs){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function ko(e,t,n,r){return e.baseState=n,mo(e,qs,"function"===typeof r?r:fo)}function Eo(e,t,n,r,i){if(da(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,To(t,s)):(s.next=n.next,t.pending=n.next=s)}}function To(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=n(i,r),l=O.S;null!==l&&l(o,a),Co(e,t,a)}catch(Sw){Io(e,t,Sw)}finally{null!==s&&null!==o.types&&(s.types=o.types),O.T=s}}else try{Co(e,t,s=n(i,r))}catch(c){Io(e,t,c)}}function Co(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){No(e,t,n)},function(n){return Io(e,t,n)}):No(e,t,n)}function No(e,t,n){t.status="fulfilled",t.value=n,Po(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,To(e,n)))}function Io(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Po(t),t=t.next}while(t!==r)}e.action=null}function Po(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ao(e,t){return t}function Ro(e,t){if(hi){var n=pc.formState;if(null!==n){e:{var r=Bs;if(hi){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Oh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=Oh(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:t},n.queue=r,n=ca.bind(null,Bs,r),r.dispatch=n,r=xo(!1),s=ha.bind(null,Bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=Eo.bind(null,Bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Do(e){return Oo(lo(),qs,e)}function Oo(e,t,n){if(t=mo(e,t,Ao)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(_u){if(_u===$i)throw Zi;throw _u}else r=t;var i=(t=lo()).queue,s=i.dispatch;return n!==t.memoizedState&&(Bs.flags|=2048,Mo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,s,e]}function Lo(e,t){e.action=t}function jo(e){var t=lo(),n=qs;if(null!==n)return Oo(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return lo().memoizedState}function Uo(e,t,n,r){var i=ao();Bs.flags|=e,i.memoizedState=Mo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vo(e,t,n,r){var i=lo();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==qs&&null!==r&&Zs(r,qs.memoizedState.deps)?i.memoizedState=Mo(t,s,n,r):(Bs.flags|=e,i.memoizedState=Mo(1|t,s,n,r))}function zo(e,t){Uo(8390656,8,e,t)}function Bo(e,t){Vo(2048,8,e,t)}function qo(e){var t=lo().memoizedState;return function(e){Bs.flags|=4;var t=Bs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ho(e,t){return Vo(4,2,e,t)}function Wo(e,t){return Vo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zs(t,r[1]))return r[0];if(r=e(),Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $o(e,t,n){return void 0===n||0!==(1073741824&zs)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Bs.lanes|=e,kc|=e,n)}function Jo(e,t,n,r){return Jn(n,t)?n:null!==Cs.current?(e=$o(e,n,r),Jn(e,t)||(Da=!0),e):0===(42&zs)||0!==(1073741824&zs)&&0===(261930&gc)?(Da=!0,e.memoizedState=n):(e=Gc(),Bs.lanes|=e,kc|=e,t)}function Zo(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var o=O.T,a={};O.T=a,ha(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);ua(e,t,u,Kc())}else ua(e,t,r,Kc())}catch(Sw){ua(e,t,{then:function(){},status:"rejected",reason:Sw},Kc())}finally{L.p=s,null!==o&&null!==a.types&&(o.types=a.types),O.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;Zo(e,i,t,j,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Kc())}function ia(){return Ri(hd)}function sa(){return lo().memoizedState}function oa(){return lo().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=bs(t,e=vs(n),n);return null!==r&&(Qc(r,t,n),ws(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=Rr(e,t,n,r))&&(Qc(n,e,r),pa(n,t,r))}function ca(e,t,n){ua(e,t,n,Kc())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o))return Ar(e,t,i,0),null===pc&&Pr(),!1}catch(Sw){}if(null!==(n=Rr(e,t,i,r)))return Qc(n,e,r),pa(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(o(479))}else null!==(t=Rr(e,n,r,2))&&Qc(t,e,2)}function da(e){var t=e.alternate;return e===Bs||null!==t&&t===Bs}function fa(e,t){Ks=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var ma={readContext:Ri,use:uo,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};ma.useEffectEvent=Js;var ga={readContext:Ri,use:uo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Gs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Gs){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=xo(e)).queue,n=ca.bind(null,Bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return $o(ao(),e,t)},useTransition:function(){var e=xo(!1);return e=Zo.bind(null,Bs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bs,i=ao();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pc)throw Error(o(349));0!==(127&gc)||vo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zo(wo.bind(null,r,s,e),[e]),r.flags|=2048,Mo(9,{destroy:void 0},bo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pc.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=$s++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Ro,useActionState:Ro,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,Bs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Ri,use:uo,useCallback:Yo,useContext:Ri,useEffect:Bo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:po,useRef:Fo,useState:function(){return po(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){return Jo(lo(),qs.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){return ko(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};ya.useEffectEvent=qo;var va={readContext:Ri,use:uo,useCallback:Yo,useContext:Ri,useEffect:Bo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:go,useRef:Fo,useState:function(){return go(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=lo();return null===qs?$o(n,e,t):Jo(n,qs.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:jo,useActionState:jo,useOptimistic:function(e,t){var n=lo();return null!==qs?ko(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=qo;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=vs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Qc(t,e,r),ws(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=vs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Qc(t,e,r),ws(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=vs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Qc(t,e,n),ws(t,e,n))}};function _a(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function Sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function ka(e){Tr(e)}function Ea(e){console.error(e)}function Ta(e){Tr(e)}function Ca(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Na(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ia(e,t,n){return(n=vs(n)).tag=3,n.payload={element:null},n.callback=function(){Ca(e,t)},n}function Pa(e){return(e=vs(e)).tag=3,e}function Aa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Na(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Na(t,n,r),"function"!==typeof i&&(null===jc?jc=new Set([this]):jc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ra=Error(o(461)),Da=!1;function Oa(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ai(t),r=eo(e,t,n,o,s,i),a=io(),null===e||Da?(hi&&a&&oi(t),t.flags|=1,Oa(e,t,r,i),t.child):(so(e,t,i),il(e,t,i))}function ja(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ma(e,t,s,r,i))}if(s=e.child,!sl(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Vr(s,r)).ref=t.ref,e.return=t,t.child=e}function Ma(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Da=!1,t.pendingProps=r=s,!sl(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Da=!0)}}return Ha(e,t,n,r,i)}function Fa(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Va(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Va(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?Is(t,s):Ps(),js(t)}else null!==s?(Yi(0,s.cachePool),Is(t,s),Ms(),t.memoizedState=null):(null!==e&&Yi(0,null),Ps(),Ms());return Oa(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Va(e,t,n,r,i){var s=Qi();return s=null===s?null:{parent:Fi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ps(),js(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function za(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ba(e,t,n){return fs(t,e.child,null,n),(e=za(t,t.pendingProps)).flags|=2,Fs(t),t.memoizedState=null,e}function qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ha(e,t,n,r,i){return Ai(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Da?(hi&&r&&oi(t),t.flags|=1,Oa(e,t,n,i),t.child):(so(e,t,i),il(e,t,i))}function Wa(e,t,n,r,i,s){return Ai(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Da?(hi&&r&&oi(t),t.flags|=1,Oa(e,t,n,s),t.child):(so(e,t,s),il(e,t,s))}function Ka(e,t,n,r,i){if(Ai(t),null===t.stateNode){var s=jr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ri(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ri(o):jr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ba(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&wa.enqueueReplaceState(s,s.state,null),ks(t,r,s,i),xs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=xa(n,a);s.props=l;var c=s.context,u=n.contextType;o=jr,"object"===typeof u&&null!==u&&(o=Ri(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&Sa(t,s,r,o),ms=!1;var d=t.memoizedState;s.state=d,ks(t,r,s,i),xs(),c=t.memoizedState,a||d!==c||ms?("function"===typeof h&&(ba(t,n,h,r),c=t.memoizedState),(l=ms||_a(t,n,l,r,d,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),u=xa(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Ri(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&Sa(t,s,r,l),ms=!1,d=t.memoizedState,s.state=d,ks(t,r,s,i),xs();var f=t.memoizedState;o!==h||d!==f||ms||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),f=t.memoizedState),(u=ms||_a(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,qa(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Oa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=il(e,t,i),e}function Ga(e,t,n,r){return bi(),t.flags|=256,Oa(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(e){return{baseLanes:e,cachePool:Xi()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function $a(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Us.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Os(t):Ms(),(e=ui)?null!==(e=null!==(e=Ah(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Dh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Ms(),l=Za({mode:"hidden",children:l},s=t.mode),i=qr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ya(n),i.childLanes=Xa(e,r,n),t.memoizedState=Qa,Ua(null,i)):(Os(t),Ja(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Os(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ms(),t.child=e.child,t.flags|=128,t=null):(Ms(),l=i.fallback,s=t.mode,i=Za({mode:"visible",children:i.children},s),(l=qr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ya(n),i.childLanes=Xa(e,r,n),t.memoizedState=Qa,t=Ua(null,i));else if(Os(t),Dh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,_i({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Da||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Da||r){if(null!==(r=pc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Dr(e,i),Qc(r,e,i),Ra;Rh(l)||ou(),t=el(e,t,n)}else Rh(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Oh(l.nextSibling),ci=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Ja(t,i.children)).flags|=4096);return t}return s?(Ms(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=Vr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vr(u,l):(l=qr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ya(n):(null!==(s=l.cachePool)?(c=Fi._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Xi(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Xa(e,r,n),t.memoizedState=Qa,Ua(e.child,i)):(Os(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fs(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function nl(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Us.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,z(Us,o),Oa(e,t,r,n),r=hi?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Da=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ei(0,Fi,e.memoizedState.cache),bi();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$a(e,t,n):(Os(t),null!==(e=il(e,t,n))?e.sibling:null);Os(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Us,Us.current),r)break;return null;case 22:return t.lanes=0,Fa(e,t,n,t.pendingProps);case 24:Ei(0,Fi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Da=0!==(131072&e.flags)}else Da=!1,hi&&0!==(1048576&t.flags)&&si(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===S){t.tag=11,t=La(null,t,e,r,n);break e}if(i===E){t.tag=14,t=ja(null,t,e,r,n);break e}}throw t=R(e)||e,Error(o(306,t,""))}Ur(e)?(r=xa(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=Ha(null,t,e,r,n))}return t;case 0:return Ha(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=xa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),ks(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ei(0,Fi,r),r!==s.cache&&Ni(t,[Fi],n,!0),xs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ga(e,t,r,n);break e}if(r!==i){_i(i=Qr(Error(o(424)),t)),t=Ga(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Oh(e.firstChild),ci=t,hi=!0,di=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 26:return qa(e,t),null===e?(n=Kh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=yh(K.current).createElement(n))[ze]=t,r[Be]=e,fh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&hi&&(r=t.stateNode=Fh(t.type,t.pendingProps,K.current),ci=t,fi=!0,i=ui,Ch(t.type)?(Lh=i,ui=Oh(r.firstChild)):ui=i),Oa(e,t,t.pendingProps.children,n),qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Oh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Oh(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),X(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,wh(i,s)?r=null:null!==a&&wh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),hd._currentValue=i),qa(e,t),Oa(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Oh(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return $a(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Oa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Ri(i)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return ja(e,t,t.type,t.pendingProps,n);case 15:return Ma(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=za(t,r),t.lanes=536870912,Ua(null,e);if(Ls(t),(e=ui)?null!==(e=null!==(e=Ah(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return za(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=Ba(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Da||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Da||i){if(null!==(r=pc)&&0!==(a=Le(r,n))&&a!==s.retryLane)throw s.retryLane=a,Dr(e,a),Qc(r,e,a),Ra;ou(),t=Ba(e,t,n)}else e=s.treeContext,ui=Oh(a.nextSibling),ci=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=za(t,r)).flags|=4096;return t}return(e=Vr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fa(e,t,n,t.pendingProps);case 24:return Ai(t),r=Ri(Fi),null===e?(null===(i=Qi())&&(i=pc,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},gs(t),Ei(0,Fi,i)):(0!==(e.lanes&n)&&(ys(e,t),ks(t,null,null,n),xs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,Fi,r)):(r=s.cache,Ei(0,Fi,r),r!==i.cache&&Ni(t,[Fi],n,!0))),Oa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw is=es,Ji;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sd(t)){if(!ru())throw is=es,Ji;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Nc|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Fi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),dl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(al(t),null!==s?(dl(t),cl(t,s)):(dl(t),ll(t,i,0,0,n))):s?s!==e.memoizedState?(al(t),dl(t),cl(t,s)):(dl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),dl(t),ll(t,i,0,0,n)),null;case 27:if($(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}e=H.current,vi(t)?gi(t):(e=Fh(i,r,n),t.stateNode=e,al(t))}return dl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dl(t),null}if(s=H.current,vi(t))gi(t);else{var a=yh(K.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[ze]=t,s[Be]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(fh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return dl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||uh(e.nodeValue,n)))||mi(t,!0)}else(e=yh(e).createTextNode(r))[ze]=t,t.stateNode=e}return dl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fs(t),t):(Fs(t),null);if(0!==(128&t.flags))throw Error(o(558))}return dl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fs(t),t):(Fs(t),null)}return Fs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),dl(t),null);case 4:return Y(),null===e&&eh(t.stateNode.containerInfo),dl(t),null;case 10:return Ti(t.type),dl(t),null;case 19:if(V(Us),null===(r=t.memoizedState))return dl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hl(r,!1);else{if(0!==xc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Vs(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Us,1&Us.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Vs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return dl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Us.current,z(Us,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(dl(t),null);case 22:case 23:return Fs(t),As(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dl(t),6&t.subtreeFlags&&(t.flags|=8192)):dl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Fi),dl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Fi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Fs(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Us),null;case 4:return Y(),null;case 10:return Ti(t.type),null;case 22:case 23:return Fs(t),As(),null!==e&&V(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Fi),null;default:return null}}function ml(e,t){switch(ai(t),t.tag){case 3:Ti(Fi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fs(t);break;case 13:Fs(t);break;case 19:V(Us);break;case 10:Ti(t.type);break;case 22:case 23:Fs(t),As(),null!==e&&V(Gi);break;case 24:Ti(Fi)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(Sw){ku(t,t.return,Sw)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(Sw){ku(i,l,Sw)}}}r=r.next}while(r!==s)}}catch(Sw){ku(t,t.return,Sw)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(Sw){ku(e,e.return,Sw)}}}function bl(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Sw){ku(e,t,Sw)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(Sw){ku(e,t,Sw)}}function _l(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Sw){ku(e,t,Sw)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ku(e,t,i)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(Sw){ku(e,e.return,Sw)}}function xl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||hh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&hh(e,t,f,p,r,d)}}return void vt(e,a,l,c,u,h,s,i);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||hh(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&hh(e,t,i,s,r,c)}return t=l,n=a,r=p,void(null!=f?_t(e,!!n,f,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hh(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&hh(e,t,a,i,r,s)}return void St(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hh(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else hh(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&hh(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:hh(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||dh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&hh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||hh(e,t,d,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(Sw){ku(e,e.return,Sw)}}function kl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ch(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ch(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fh(t,r,n),t[ze]=e,t[Be]=n}catch(Sw){ku(e,e.return,Sw)}}var Il=!1,Pl=!1,Al=!1,Rl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&gl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Sw){ku(n,n.return,Sw)}else{var i=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ku(n,n.return,o)}}64&r&&vl(n),512&r&&wl(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(Sw){ku(n,n.return,Sw)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Ql(e,n),null===t&&4&r&&Sl(n),512&r&&wl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&Vl(e,n);break;case 13:Ql(e,n),4&r&&zl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Nu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Pl,i=Il;var s=Pl;Il=r,(Pl=t)&&!s?Xl(e,n,0!==(8772&n.subtreeFlags)):Ql(e,n),Il=i,Pl=s}break;case 30:break;default:Ql(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jl=null,Ml=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Pl||_l(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||_l(n,t);var r=jl,i=Ml;Ch(n.type)&&(jl=n.stateNode,Ml=!1),Fl(e,t,n),Uh(n.stateNode),jl=r,Ml=i;break;case 5:Pl||_l(n,t);case 6:if(r=jl,i=Ml,jl=null,Fl(e,t,n),Ml=i,null!==(jl=r))if(Ml)try{(9===jl.nodeType?jl.body:"HTML"===jl.nodeName?jl.ownerDocument.body:jl).removeChild(n.stateNode)}catch(Sw){ku(n,t,Sw)}else try{jl.removeChild(n.stateNode)}catch(Sw){ku(n,t,Sw)}break;case 18:null!==jl&&(Ml?(Nh(9===(e=jl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wd(e)):Nh(jl,n.stateNode));break;case 4:r=jl,i=Ml,jl=n.stateNode.containerInfo,Ml=!0,Fl(e,t,n),jl=r,Ml=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Pl||yl(4,n,t),Fl(e,t,n);break;case 1:Pl||(_l(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Fl(e,t,n),Pl=r;break;default:Fl(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wd(e)}catch(Sw){ku(t,t.return,Sw)}}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wd(e)}catch(Sw){ku(t,t.return,Sw)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Ch(l.type)){jl=l.stateNode,Ml=!1;break e}break;case 5:jl=l.stateNode,Ml=!1;break e;case 3:case 4:jl=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===jl)throw Error(o(160));Ul(s,a,i),jl=null,Ml=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Hl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Kl(e),4&r&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:ql(t,e),Kl(e),512&r&&(Pl||null===n||_l(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Hl;if(ql(t,e),Kl(e),512&r&&(Pl||null===n||_l(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),fh(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var a=rd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=rd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else id(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?id(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Kl(e),512&r&&(Pl||null===n||_l(n,n.return)),null!==n&&4&r&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Kl(e),512&r&&(Pl||null===n||_l(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(Sw){ku(e,e.return,Sw)}}4&r&&null!=e.stateNode&&xl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Al=!0);break;case 6:if(ql(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Sw){ku(e,e.return,Sw)}}break;case 3:if(nd=null,i=Hl,Hl=Bh(t.containerInfo),ql(t,e),Hl=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wd(t.containerInfo)}catch(Sw){ku(e,e.return,Sw)}Al&&(Al=!1,Gl(e));break;case 4:r=Hl,Hl=Bh(e.stateNode.containerInfo),ql(t,e),Kl(e),Hl=r;break;case 12:default:ql(t,e),Kl(e);break;case 31:case 19:ql(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 13:ql(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,h=Pl;if(Il=u||i,Pl=h||c,ql(t,e),Pl=h,Il=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Pl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(Sw){ku(c,c.return,Sw)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(Sw){ku(c,c.return,Sw)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ih(p,!0):Ih(c.stateNode,!1)}catch(Sw){ku(c,c.return,Sw)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(kl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,El(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),Cl(e,El(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Tl(e,El(e),a);break;default:throw Error(o(161))}}catch(Sw){ku(e,e.return,Sw)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Yl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Yl(t);break;case 27:Uh(t.stateNode);case 26:case 5:_l(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Xl(i,s,n),gl(4,s);break;case 1:if(Xl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(Sw){ku(r,r.return,Sw)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Es(l[i],a)}catch(Sw){ku(r,r.return,Sw)}}n&&64&o&&vl(s),wl(s,s.return);break;case 27:Nl(s);case 26:case 5:Xl(i,s,n),n&&null===r&&4&o&&Sl(s),wl(s,s.return);break;case 12:Xl(i,s,n);break;case 31:Xl(i,s,n),n&&4&o&&Vl(i,s);break;case 13:Xl(i,s,n),n&&4&o&&zl(i,s);break;case 22:null===s.memoizedState&&Xl(i,s,n),wl(s,s.return);break;case 30:break;default:Xl(i,s,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Sw){ku(t,t.return,Sw)}}else Zl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,r):nc(e,t):2&s._visibility?Zl(e,t,n,r):(s._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&$l(o,t);break;case 24:Zl(e,t,n,r),2048&i&&Jl(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(s,o,a,l,i),gl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tc(s,o,a,l,i):nc(s,o):(u._visibility|=2,tc(s,o,a,l,i)),i&&2048&c&&$l(o.alternate,o);break;case 24:tc(s,o,a,l,i),i&&2048&c&&Jl(o.alternate,o);break;default:tc(s,o,a,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&$l(r.alternate,r);break;case 24:nc(n,r),2048&i&&Jl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gh(r.href),s=t.querySelector(Qh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ad.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Yh(r),(i=Vh.get(i))&&ed(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ad.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Hl;Hl=Bh(e.stateNode.containerInfo),ic(e,t,n),Hl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,uc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ac(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,uc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var i=(r=Dl).sibling,s=r.return;if(Ll(r),r===n){Dl=null;break e}if(null!==i){i.return=s,Dl=i;break e}Dl=s}}}var hc={getCacheForType:function(e){var t=Ri(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(Fi).controller.signal}},dc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,yc=0,vc=null,bc=!1,wc=!1,_c=!1,Sc=0,xc=0,kc=0,Ec=0,Tc=0,Cc=0,Nc=0,Ic=null,Pc=null,Ac=!1,Rc=0,Dc=0,Oc=1/0,Lc=null,jc=null,Mc=0,Fc=null,Uc=null,Vc=0,zc=0,Bc=null,qc=null,Hc=0,Wc=null;function Kc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==O.T?qu():Fe()}function Gc(){if(0===Cc)if(0===(536870912&gc)||hi){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Cc=e}else Cc=536870912;return null!==(e=Rs.current)&&(e.flags|=32),Cc}function Qc(e,t,n){(e!==pc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,gc,Cc,!1)),Re(e,n),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Ec|=n),4===xc&&Jc(e,gc,Cc,!1)),ju(e))}function Yc(e,t,n){if(0!==(6&fc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ne(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=iu(),i=su();pc!==e||gc!==t?(Lc=null,Oc=le()+500,tu(e,t)):wc=Ne(e,t);e:for(;;)try{if(0!==yc&&null!==mc){t=mc;var s=vc;t:switch(yc){case 1:yc=0,vc=null,du(e,t,s,1);break;case 2:case 9:if(ts(s)){yc=0,vc=null,hu(t);break}t=function(){2!==yc&&9!==yc||pc!==e||(yc=7),ju(e)},s.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ts(s)?(yc=0,vc=null,hu(t)):(yc=0,vc=null,du(e,t,s,7));break;case 5:var a=null;switch(mc.tag){case 26:a=mc.memoizedState;case 5:case 27:var l=mc;if(a?sd(a):l.stateNode.complete){yc=0,vc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}yc=0,vc=null,du(e,t,s,5);break;case 6:yc=0,vc=null,du(e,t,s,6);break;case 8:eu(),xc=6;break e;default:throw Error(o(462))}}cu();break}catch(h){nu(e,h)}return ki=xi=null,O.H=r,O.A=i,fc=n,null!==mc?0:(pc=null,gc=0,Pr(),xc)}(e,t):au(e,t,!0),s=r;;){if(0===i){wc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!s||$c(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,a).flags|=256),2!==(a=au(l,a,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=s,Ec|=s,i=4;break e}s=Pc,Pc=i,null!==s&&(null===Pc?Pc=s:Pc.push.apply(Pc,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tu(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Cc,!bc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Rc+300-le())){if(Jc(r,t,Cc,!bc),0!==Ce(r,0,!0))break e;Vc=t,r.timeoutHandle=Sh(Xc.bind(null,r,n,Pc,Lc,Ac,t,Cc,Ec,Nc,bc,s,"Throttled",-0,0),i)}else Xc(r,n,Pc,Lc,Ac,t,Cc,Ec,Nc,bc,s,null,-0,0)}break}i=au(e,t,!1),s=!1}ju(e)}function Xc(e,t,n,r,i,s,o,a,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){sc(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&s)===s?Rc-le():(4194048&s)===s?Dc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&cd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===od&&(od=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&ph(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,h=l.initiatorType;u&&ph(h)&&(o+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p),null!==p)return Vc=s,e.cancelPendingCommit=p(mu.bind(null,e,t,s,n,r,i,o,a,l,u,h,null,d,f)),void Jc(e,s,o,!c)}mu(e,t,s,n,r,i,o,a,l)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(Sw){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~Tc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&De(e,n,t)}function Zc(){return 0!==(6&fc)||(Mu(0,!1),!1)}function eu(){if(null!==mc){if(0===yc)var e=mc.return;else ki=xi=null,oo(e=mc),as=null,ls=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,eu(),pc=e,mc=n=Vr(e.current,null),gc=t,yc=0,vc=null,bc=!1,wc=Ne(e,t),_c=!1,Nc=Cc=Tc=Ec=kc=xc=0,Pc=Ic=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return Sc=t,Pr(),n}function nu(e,t){Bs=null,O.H=ma,t===$i||t===Zi?(t=ss(),yc=3):t===Ji?(t=ss(),yc=4):yc=t===Ra?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===mc&&(xc=1,Ca(e,Qr(t,e.current)))}function ru(){var e=Rs.current;return null===e||((4194048&gc)===gc?null===Ds:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ds)}function iu(){var e=O.H;return O.H=ma,null===e?ma:e}function su(){var e=O.A;return O.A=hc,e}function ou(){xc=4,bc||(4194048&gc)!==gc&&null!==Rs.current||(wc=!0),0===(134217727&kc)&&0===(134217727&Ec)||null===pc||Jc(pc,gc,Cc,!1)}function au(e,t,n){var r=fc;fc|=2;var i=iu(),s=su();pc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var o=xc;e:for(;;)try{if(0!==yc&&null!==mc){var a=mc,l=vc;switch(yc){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Rs.current&&(t=!0);var c=yc;if(yc=0,vc=null,du(e,a,l,c),n&&wc){o=0;break e}break;default:c=yc,yc=0,vc=null,du(e,a,l,c)}}lu(),o=xc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,ki=xi=null,fc=r,O.H=i,O.A=s,null===mc&&(pc=null,gc=0,Pr()),o}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!oe();)uu(mc)}function uu(e){var t=ol(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wa(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Wa(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:ml(n,t),t=ol(n,t=mc=zr(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e,t,n,r){ki=xi=null,oo(t),as=null,ls=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Rs.current)){switch(n.tag){case 31:case 13:return null===Ds?ou():null===n.alternate&&0===xc&&(xc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(o(435,n.tag))}return Eu(e,r,i),ou(),!1}if(hi)return null!==(t=Rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&_i(Qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&_i(Qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),_s(e,i=Ia(e.stateNode,r,i)),4!==xc&&(xc=2)),!1;var s=Error(o(520),{cause:r});if(s=Qr(s,n),null===Ic?Ic=[s]:Ic.push(s),4!==xc&&(xc=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,_s(n,e=Ia(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===jc||!jc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Aa(i=Pa(i),e,n,r),_s(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return xc=1,Ca(e,Qr(n,e.current)),void(mc=null)}catch(Sw){if(null!==i)throw mc=i,Sw;return xc=1,Ca(e,Qr(n,e.current)),void(mc=null)}32768&t.flags?(hi||1===r?e=!0:wc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Rs.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=fl(t.alternate,t,Sc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===xc&&(xc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);xc=6,mc=null}function mu(e,t,n,r,i,s,a,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Mc);if(0!==(6&fc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-we(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&De(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Ir,a,l,c),e===pc&&(mc=pc=null,gc=0),Uc=t,Fc=e,Vc=n,zc=s,Bc=i,qc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,a=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,mh=wd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wd=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(s=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=xa(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(Sw){ku(n,n.return,Sw)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ph(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ph(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{fc=a,L.p=i,O.T=r}}Mc=1,gu(),yu(),vu()}}function gu(){if(1===Mc){Mc=0;var e=Fc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fc;fc|=4;try{Wl(t,e);var s=gh,o=rr(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var w=h[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wd=!!mh,gh=mh=null}finally{fc=i,L.p=r,O.T=n}}e.current=t,Mc=2}}function yu(){if(2===Mc){Mc=0;var e=Fc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=fc;fc|=4;try{Ol(e,t.alternate,t)}finally{fc=i,L.p=r,O.T=n}}Mc=3}}function vu(){if(4===Mc||3===Mc){Mc=0,ae();var e=Fc,t=Uc,n=Vc,r=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Uc=Fc=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(jc=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{O.T=t,L.p=i}}0!==(3&Vc)&&wu(),ju(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wc?Hc++:(Hc=0,Wc=e):Hc=0,Mu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function wu(){return gu(),yu(),vu(),Su()}function Su(){if(5!==Mc)return!1;var e=Fc,t=zc;zc=0;var n=Me(Vc),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=Bc,Bc=null;var s=Fc,a=Vc;if(Mc=0,Uc=Fc=null,Vc=0,0!==(6&fc))throw Error(o(331));var l=fc;if(fc|=4,lc(s.current),ec(s,s.current,a,n),fc=l,Mu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{L.p=i,O.T=r,bu(e,t)}}function xu(e,t,n){t=Qr(n,t),null!==(e=bs(e,t=Ia(e.stateNode,t,2),2))&&(Re(e,2),ju(e))}function ku(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===jc||!jc.has(r))){e=Qr(n,e),null!==(r=bs(t,n=Pa(2),2))&&(Aa(n,r,t,e),Re(r,2),ju(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(_c=!0,i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===xc||3===xc&&(62914560&gc)===gc&&300>le()-Rc?0===(2&fc)&&tu(e,0):Tc|=n,Nc===gc&&(Nc=0)),ju(e)}function Cu(e,t){0===t&&(t=Pe()),null!==(e=Dr(e,t))&&(Re(e,t),ju(e))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cu(e,n)}var Pu=null,Au=null,Ru=!1,Du=!1,Ou=!1,Lu=0;function ju(e){e!==Au&&null===e.next&&(null===Au?Pu=Au=e:Au=Au.next=e),Du=!0,Ru||(Ru=!0,Eh(function(){0!==(6&fc)?ie(ue,Fu):Uu()}))}function Mu(e,t){if(!Ou&&Du){Ou=!0;do{for(var n=!1,r=Pu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Bu(r,s))}else s=gc,0===(3&(s=Ce(r,r===pc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,s)||(n=!0,Bu(r,s));r=r.next}}while(n);Ou=!1}}function Fu(){Uu()}function Uu(){Du=Ru=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==_h&&(_h=e,!0);return _h=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Pu;null!==r;){var i=r.next,s=Vu(r,t);0===s?(r.next=null,null===n?Pu=i:n.next=i,null===i&&(Au=n)):(n=r,(0!==e||0!==(3&s))&&(Du=!0)),r=i}0!==Mc&&5!==Mc||Mu(e,!1),0!==Lu&&(Lu=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-we(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Ie(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=gc,n=Ce(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Me(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=zu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ce(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Bu(e,t){if(wu())return null;Yc(e,t,!0)}function qu(){if(0===Lu){var e=qi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<kr.length;Ku++){var Gu=kr[Ku];Er(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Er(gr,"onAnimationEnd"),Er(yr,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(br,"onTransitionRun"),Er(wr,"onTransitionStart"),Er(_r,"onTransitionCancel"),Er(Sr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(Sw){Tr(Sw)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(Sw){Tr(Sw)}i.currentTarget=null,s=l}}}}function $u(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(th(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),th(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function th(e,t,n,r){switch(Cd(t)){case 2:var i=_d;break;case 8:i=Sd;break;default:i=xd}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nh(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Xe(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Ut(function(){var r=s,i=Ot(n),o=[];e:{var a=xr.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case yr:case vr:c=un;break;case Sr:c=_n;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=xn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Vt(m,f))&&h.push(rh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new c(a,u,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[qe])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?a:Je(c),p=null==u?a:Je(u),(a=new h(g,m+"leave",c,n,i)).target=d,a.relatedTarget=p,g=null,Xe(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(h=sh,m=u,p=0,g=f=c;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==c&&oh(o,a,c,h,!1),null!==u&&null!==d&&oh(o,d,u,h,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=zn;else if(Ln(a))if(Bn)v=$n;else{v=Yn;var b=Qn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Nt(r.elementType)&&(v=zn):v=Xn;switch(v&&(v=v(e,r))?jn(o,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(or=b,ar=r,lr=null);break;case"focusout":lr=ar=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(o,n,i)}var w;if(En)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Dn?An(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Nn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Dn&&(w=Gt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Dn=!0)),0<(b=ih(r,_)).length&&(_=new dn(_,e,null,n,i),o.push({event:_,listeners:b}),w?_.data=w:null!==(w=Rn(n))&&(_.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Pn=!0,In);case"textInput":return(e=t.data)===In&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!En&&An(e,t)?(e=Gt(),Kt=Wt=Ht=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=ih(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:_}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Hu((i[Be]||null).action),o=r.submitter;o&&null!==(t=(t=o[Be]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=o?Wu(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Wu(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Xu(o,t)})}function rh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Vt(e,n))&&r.unshift(rh(e,i,s)),null!=(i=Vt(e,t))&&r.push(rh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function sh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function oh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Vt(n,s))&&o.unshift(rh(n,c,l)):i||null!=(c=Vt(n,s))&&o.push(rh(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ah=/\r\n?/g,lh=/\u0000|\uFFFD/g;function ch(e){return("string"===typeof e?e:""+e).replace(ah,"\n").replace(lh,"")}function uh(e,t){return t=ch(t),ch(e)===t}function hh(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&hh(e,t,"name",i.name,i,null),hh(e,t,"formEncType",i.formEncType,i,null),hh(e,t,"formMethod",i.formMethod,i,null),hh(e,t,"formTarget",i.formTarget,i,null)):(hh(e,t,"encType",i.encType,i,null),hh(e,t,"method",i.method,i,null),hh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function dh(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:hh(e,t,r,a,n,null)}}return s&&hh(e,t,"srcSet",n.srcSet,n,null),void(i&&hh(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:hh(e,t,i,h,n,null)}}return void bt(e,r,l,c,u,a,s,!1);case"select":for(s in $u("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:hh(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(a in $u("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:hh(e,t,a,l,n,null)}return void xt(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else hh(e,t,c,i,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)$u(Qu[i],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:hh(e,t,u,i,n,null)}return;default:if(Nt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&dh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&hh(e,t,l,i,n,null))}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mh=null,gh=null;function yh(e){return 9===e.nodeType?e:e.ownerDocument}function vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _h=null;var Sh="function"===typeof setTimeout?setTimeout:void 0,xh="function"===typeof clearTimeout?clearTimeout:void 0,kh="function"===typeof Promise?Promise:void 0,Eh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kh?function(e){return kh.resolve(null).then(e).catch(Th)}:Sh;function Th(e){setTimeout(function(){throw e})}function Ch(e){return"head"===e}function Nh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Uh(e.ownerDocument.documentElement);else if("head"===n){Uh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Uh(e.ownerDocument.body);n=i}while(n);Wd(t)}function Ih(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ph(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ph(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ah(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Oh(e.nextSibling)))return null}return e}function Rh(e){return"$?"===e.data||"$~"===e.data}function Dh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Oh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lh=null;function jh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Oh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fh(e,t,n){switch(t=yh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Uh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Vh=new Map,zh=new Set;function Bh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qh=L.d;L.d={f:function(){var e=qh.f(),t=Zc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):qh.r(e)},D:function(e){qh.D(e),Wh("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),Wh("preconnect",e,t)},L:function(e,t,n){qh.L(e,t,n);var r=Hh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Gh(e);break;case"script":s=Xh(e)}Vh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qh(s))||"script"===t&&r.querySelector($h(s))||(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var n=Hh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xh(e)}if(!Vh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Vh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($h(s)))return}fh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qh.X(e,t);var n=Hh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0},t),(t=Vh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){qh.S(e,t,n);var r=Hh;if(r&&e){var i=Ze(r).hoistableStyles,s=Gh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Qh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vh.get(s))&&ed(e,n);var l=o=r.createElement("link");et(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){qh.M(e,t);var n=Hh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Vh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Hh="undefined"===typeof document?null:document;function Wh(e,t,n){var r=Hh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zh.has(i)||(zh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kh(e,t,n,r){var i,s,a,l,c=(c=K.current)?Bh(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gh(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gh(n.href);var u=Ze(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Qh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Vh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vh.set(e,n),u||(i=c,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xh(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Gh(e){return'href="'+yt(e)+'"'}function Qh(e){return'link[rel="stylesheet"]['+e+"]"}function Yh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e){return'[src="'+yt(e)+'"]'}function $h(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fh(r,"style",i),Zh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gh(n.href);var s=e.querySelector(Qh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Yh(n),(i=Vh.get(i))&&ed(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fh(s,"link",r),t.state.loading|=4,Zh(s,n.precedence,e),t.instance=s;case"script":return s=Xh(n.src),(i=e.querySelector($h(s)))?(t.instance=i,et(i),i):(r=n,(i=Vh.get(s))&&td(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zh(r,n.precedence,e));return t.instance}function Zh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nd=null;function rd(e,t,n){if(null===nd){var r=new Map,i=nd=new Map;i.set(n,r)}else(r=(i=nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var od=0;function ad(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ld=null;function cd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ld=new Map,t.forEach(ud,e),ld=null,ad.call(e))}function ud(e,t){if(!(4&t.state.loading)){var n=ld.get(e);if(n)var r=n.get(null);else{n=new Map,ld.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=ad.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hd={$$typeof:_,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function dd(e,t,n,r,i,s,o,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fd(e,t,n,r,i,s,o,a,l,c,u,h){return e=new dd(e,t,n,o,l,c,u,h,a),t=1,!0===s&&(t|=24),s=Fr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function pd(e){return e?e=jr:jr}function md(e,t,n,r,i,s){i=pd(i),null===r.context?r.context=i:r.pendingContext=i,(r=vs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Qc(n,0,t),ws(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yd(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Qc(t,0,67108864),yd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Dr(e,t=je(t));null!==n&&Qc(n,0,t),yd(e,t)}}var wd=!0;function _d(e,t,n,r){var i=O.T;O.T=null;var s=L.p;try{L.p=2,xd(e,t,n,r)}finally{L.p=s,O.T=i}}function Sd(e,t,n,r){var i=O.T;O.T=null;var s=L.p;try{L.p=8,xd(e,t,n,r)}finally{L.p=s,O.T=i}}function xd(e,t,n,r){if(wd){var i=kd(r);if(null===i)nh(e,t,r,Ed,n),jd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Id=Md(Id,e,t,n,r,i),!0;case"dragenter":return Pd=Md(Pd,e,t,n,r,i),!0;case"mouseover":return Ad=Md(Ad,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rd.set(s,Md(Rd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dd.set(s,Md(Dd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jd(e,r),4&t&&-1<Ld.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Te(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-we(o);a.entanglements[1]|=l,o&=~l}ju(s),0===(6&fc)&&(Oc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(a=Dr(s,2))&&Qc(a,0,2),Zc(),yd(s,2)}if(null===(s=kd(r))&&nh(e,t,r,Ed,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else nh(e,t,r,null,n)}}function kd(e){return Td(e=Ot(e))}var Ed=null;function Td(e){if(Ed=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ed=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Nd=!1,Id=null,Pd=null,Ad=null,Rd=new Map,Dd=new Map,Od=[],Ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Pd=null;break;case"mouseover":case"mouseout":Ad=null;break;case"pointerover":case"pointerout":Rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(t.pointerId)}}function Md(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fd(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kd(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function Vd(e,t,n){Ud(e)&&n.delete(t)}function zd(){Nd=!1,null!==Id&&Ud(Id)&&(Id=null),null!==Pd&&Ud(Pd)&&(Pd=null),null!==Ad&&Ud(Ad)&&(Ad=null),Rd.forEach(Vd),Dd.forEach(Vd)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zd)))}var qd=null;function Hd(e){qd!==e&&(qd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qd===e&&(qd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Td(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wd(e){function t(t){return Bd(t,e)}null!==Id&&Bd(Id,e),null!==Pd&&Bd(Pd,e),null!==Ad&&Bd(Ad,e),Rd.forEach(t),Dd.forEach(t);for(var n=0;n<Od.length;n++){var r=Od[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Od.length&&null===(n=Od[0]).blockedOn;)Fd(n),null===n.blockedOn&&Od.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Be]||null;if("function"===typeof s)o||Hd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Be]||null)a=o.formAction;else if(null!==Td(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Hd(n)}}}function Kd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gd(e){this._internalRoot=e}function Qd(e){this._internalRoot=e}Qd.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));md(t.current,Kc(),e,t,null,null)},Qd.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),Zc(),t[qe]=null}},Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Od.length&&0!==t&&t<Od[n].priority;n++);Od.splice(n,0,e),0===n&&Fd(e)}};var Yd=i.version;if("19.2.0"!==Yd)throw Error(o(527,Yd,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ye=$d.inject(Xd),ve=$d}catch(Zd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=ka,s=Ea,l=Ta;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fd(e,1,!1,null,0,n,r,null,i,s,l,Kd),e[qe]=t.current,eh(e),new Gd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=ka,l=Ea,c=Ta,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fd(e,1,!0,t,0,r,i,u,s,l,c,Kd)).context=pd(null),n=t.current,(i=vs(r=je(r=Kc()))).callback=null,bs(n,i,r),n=r,t.current.lanes=n,Re(t,n),ju(t),e[qe]=t.current,eh(e),new Qd(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var _=w.prototype=new b;_.constructor=w,g(_,v.prototype),_.isPureReactComponent=!0;var S=Array.isArray;function x(){}var k={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function T(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return P((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+I(e,0):s,S(o)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+u,o=T(l.type,c,l.props)),t.push(o)),1;u=0;var h,f=""===s?".":s+":";if(S(e))for(var m=0;m<e.length;m++)u+=P(s=e[m],t,i,a=f+I(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,a=f+I(s,m++),o);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!E.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return T(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return T(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,D)}catch(Sw){D(Sw)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},341:(e,t,n)=>{var r=n(579),i=n(43),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n,r;switch(t.type){case"TYPE":return s(s({},e),{speed:t.speed,text:null===(n=t.payload)||void 0===n?void 0:n.substring(0,e.text.length+1)});case"DELAY":return s(s({},e),{speed:t.payload});case"DELETE":return s(s({},e),{speed:t.speed,text:null===(r=t.payload)||void 0===r?void 0:r.substring(0,e.text.length-1)});case"COUNT":return s(s({},e),{count:e.count+1});default:return e}}var a=function(e){var t=e.words,n=void 0===t?["Hello World!","This is","a simple Typewriter"]:t,r=e.loop,s=void 0===r?1:r,a=e.typeSpeed,l=void 0===a?80:a,c=e.deleteSpeed,u=void 0===c?50:c,h=e.delaySpeed,d=void 0===h?1500:h,f=e.onLoopDone,p=e.onType,m=e.onDelete,g=e.onDelay,y=i.useReducer(o,{speed:l,text:"",count:0}),v=y[0],b=v.speed,w=v.text,_=v.count,S=y[1],x=i.useRef(0),k=i.useRef(!1),E=i.useRef(!1),T=i.useRef(!1),C=i.useRef(!1),N=i.useCallback(function(){var e=_%n.length,t=n[e];E.current?(S({type:"DELETE",payload:t,speed:u}),""===w&&(E.current=!1,S({type:"COUNT"}))):(S({type:"TYPE",payload:t,speed:l}),T.current=!0,w===t&&(S({type:"DELAY",payload:d}),T.current=!1,C.current=!0,setTimeout(function(){C.current=!1,E.current=!0},d),s>0&&(x.current+=1,x.current/n.length===s&&(C.current=!1,k.current=!0)))),T.current&&p&&p(x.current),E.current&&m&&m(),C.current&&g&&g()},[_,d,u,s,l,n,w,p,m,g]);return i.useEffect(function(){var e=setTimeout(N,b);return k.current&&clearTimeout(e),function(){return clearTimeout(e)}},[N,b]),i.useEffect(function(){f&&k.current&&f()},[f]),[w,{isType:T.current,isDelay:C.current,isDelete:E.current,isDone:k.current}]};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var l=i.memo(function(e){var t=e.cursorBlinking,n=void 0===t||t,i=e.cursorStyle,o=void 0===i?"|":i,a=e.cursorColor,l=void 0===a?"inherit":a;return r.jsx("span",s({style:{color:l},className:"".concat("styles-module_blinkingCursor__yugAC"," ").concat(n?"styles-module_blinking__9VXRT":"")},{children:o}))});t.cU=function(e){var t=e.words,n=void 0===t?["Hello World!","This is","a simple Typewriter"]:t,i=e.loop,s=void 0===i?1:i,o=e.typeSpeed,c=void 0===o?80:o,u=e.deleteSpeed,h=void 0===u?50:u,d=e.delaySpeed,f=void 0===d?1500:d,p=e.cursor,m=void 0!==p&&p,g=e.cursorStyle,y=void 0===g?"|":g,v=e.cursorColor,b=void 0===v?"inherit":v,w=e.cursorBlinking,_=void 0===w||w,S=e.onLoopDone,x=e.onType,k=e.onDelay,E=e.onDelete,T=a({words:n,loop:s,typeSpeed:c,deleteSpeed:h,delaySpeed:f,onLoopDone:S,onType:x,onDelay:k,onDelete:E})[0];return r.jsxs(r.Fragment,{children:[r.jsx("span",{children:T}),m&&r.jsx(l,{cursorStyle:y,cursorColor:b,cursorBlinking:_})]})}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,k||(k=!0,x());else{var t=r(u);null!==t&&R(S,t.startTime-e)}}var x,k=!1,E=-1,T=5,C=-1;function N(){return!!y||!(t.unstable_now()-C<T)}function I(){if(y=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var s=f;try{t:{for(_(e),d=r(c);null!==d&&!(d.expirationTime>e&&N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,_(e),n=!0;break t}d===r(c)&&i(c),_(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&R(S,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?x():k=!1}}}if("function"===typeof w)x=function(){w(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=I,x=function(){A.postMessage(null)}}else x=function(){v(I,0)};function R(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,R(S,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,k||(k=!0,x()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".f3642e6f.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend-react:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Project_1_bt-/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfrontend_react=self.webpackChunkfrontend_react||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>An,hasStandardBrowserEnv:()=>Dn,hasStandardBrowserWebWorkerEnv:()=>On,navigator:()=>Rn,origin:()=>Ln});var i=n(43),s=n(391);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function b(){return T(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=E(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),x("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:k(t))},function(e,t){_("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,o.replaceState(h(h({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v,d),l=e,()=>{i.removeEventListener(v,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=x(p.location,e,t);n&&n(r,e),c=u()+1;let h=S(r,c),d=p.createHref(r);try{o.pushState(h,"",d)}catch(Sw){if(Sw instanceof DOMException&&"DataCloneError"===Sw.name)throw Sw;i.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=x(p.location,e,t);n&&n(r,e),c=u();let i=S(r,c),h=p.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function N(e,t){return I(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function I(e,t,n,r){let i=H(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let s=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=q(i);o=V(s[a],e,r)}return o}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=Y([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))s(e,t,!0,r);else s(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=A(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,D=3,O=2,L=1,j=10,M=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=M),t&&(r+=O),n.filter(e=>!F(e)).reduce((e,t)=>e+(R.test(t)?D:""===t?L:j),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Y([s,u.pathname]),pathnameBase:X(Y([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=Y([s,u.pathnameBase]))}return o}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Sw){return _(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Sw,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function G(e){let t=K(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=h({},e),w(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?E(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:$(r),hash:J(i)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=i.createContext(null);ne.displayName="DataRouter";var re=i.createContext(null);re.displayName="DataRouterState";var ie=i.createContext(!1);var se=i.createContext({isTransitioning:!1});se.displayName="ViewTransition";var oe=i.createContext(new Map);oe.displayName="Fetchers";var ae=i.createContext(null);ae.displayName="Await";var le=i.createContext(null);le.displayName="Navigation";var ce=i.createContext(null);ce.displayName="Location";var ue=i.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var he=i.createContext(null);he.displayName="RouteError";function de(){return null!=i.useContext(ce)}function fe(){return w(de(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(ce).location}var pe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){i.useContext(le).static||i.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=i.useContext(ue);return e?function(){let{router:e}=Te("useNavigate"),t=Ne("useNavigate"),n=i.useRef(!1);me(()=>{n.current=!0});let r=i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(n.current,pe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,h({fromRouteId:t},i)))},[e,t]);return r}():function(){w(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(ne),{basename:t,navigator:n}=i.useContext(le),{matches:r}=i.useContext(ue),{pathname:s}=fe(),o=JSON.stringify(G(r)),a=i.useRef(!1);me(()=>{a.current=!0});let l=i.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_(a.current,pe),!a.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Y([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,s,e]);return l}()}var ye=i.createContext(null);function ve(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(ue),{pathname:r}=fe(),s=JSON.stringify(G(n));return i.useMemo(()=>Q(e,JSON.parse(s),r,"path"===t),[e,s,r,t])}function be(e,t,n,r,s){w(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(le),{matches:a}=i.useContext(ue),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ae(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=fe();if(t){var g;let e="string"===typeof t?E(t):t;w("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=N(e,{pathname:v});_(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),_(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=ke(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Y([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Y([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,n,r,s);return t&&S?i.createElement(ce.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},S):S}function we(){let e=Ie(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,a)}var _e=i.createElement(we,null),Se=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(ue.Provider,{value:this.props.routeContext},i.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(ne);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ue.Provider,{value:t},r)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(n)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let h,d=!1,f=null,p=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,f=c.route.errorElement||_e,a&&(l<0&&0===u?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===u&&(d=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=h?f:d?p:c.route.Component?i.createElement(c.route.Component,null):c.route.element?c.route.element:e,i.createElement(xe,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?i.createElement(Se,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):g()},null)}function Ee(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Te(e){let t=i.useContext(ne);return w(t,Ee(e)),t}function Ce(e){let t=i.useContext(re);return w(t,Ee(e)),t}function Ne(e){let t=function(e){let t=i.useContext(ue);return w(t,Ee(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ie(){var e;let t=i.useContext(he),n=Ce("useRouteError"),r=Ne("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Pe={};function Ae(e,t,n){t||Pe[e]||(Pe[e]=!0,_(!1,n))}var Re={};function De(e,t){e||Re[t]||(Re[t]=!0,console.warn(t))}i.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return be(t,void 0,r,i,n)});function Oe(e){return function(e){let t=i.useContext(ue).outlet;return i.useMemo(()=>t&&i.createElement(ye.Provider,{value:e},t),[t,e])}(e.context)}function Le(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:a=!1}=e;w(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);"string"===typeof r&&(r=E(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=i.useMemo(()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}},[l,u,h,d,f,p,s]);return _(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(le.Provider,{value:c},i.createElement(ce.Provider,{children:n,value:m}))}function Me(e){let{children:t,location:n}=e;return be(Fe(t),n)}i.Component;function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Fe(e.props.children,s));w(e.type===Le,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,s)),n.push(o)}),n}var Ue="get",Ve="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Be=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||qe.has(e)?e:(_(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ve,'"')),null)}function We(e,t){let n,r,i,s,o;if(ze(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?H(o,t):null,n=e.getAttribute("method")||Ue,i=He(e.getAttribute("enctype"))||Ve,s=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?H(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ue,i=He(e.getAttribute("formenctype"))||He(o.getAttribute("enctype"))||Ve,s=new FormData(o,e),!function(){if(null===Be)try{new FormData(document.createElement("form"),0),Be=!1}catch(e){Be=!0}return Be}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ue,r=null,i=Ve,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ke(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ge(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Sw){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Sw),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ye(e){return null!=e&&"string"===typeof e.page}function Xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function $e(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ze(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ye(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function et(e,t){return"lazy"===e.mode&&!0===t}function tt(){let e=i.useContext(ne);return Ke(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nt(){let e=i.useContext(re);return Ke(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rt=i.createContext(void 0);function it(){let e=i.useContext(rt);return Ke(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot(e,t,n){if(n&&!ut)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}rt.displayName="FrameworkContext";function at(e){let{page:t}=e,n=o(e,f),{router:r}=tt(),s=i.useMemo(()=>N(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?i.createElement(ct,h({page:t,matches:s},n)):null}function lt(e){let{manifest:t,routeModules:n}=it(),[r,s]=i.useState([]);return i.useEffect(()=>{let r=!1;return async function(e,t,n){return Ze((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Xe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),r}function ct(e){let{page:t,matches:n}=e,r=o(e,p),s=fe(),{manifest:a,routeModules:l}=it(),{basename:c}=tt(),{loaderData:u,matches:d}=nt(),f=i.useMemo(()=>$e(t,n,d,a,s,"data"),[t,n,d,a,s]),m=i.useMemo(()=>$e(t,n,d,a,s,"assets"),[t,n,d,a,s]),g=i.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ge(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,s,a,f,n,t,l]),y=i.useMemo(()=>Je(m,a),[m,a]),v=lt(m);return i.createElement(i.Fragment,null,g.map(e=>i.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},r))),y.map(e=>i.createElement("link",h({key:e,rel:"modulepreload",href:e},r))),v.map(e=>{let{key:t,link:n}=e;return i.createElement("link",h({key:t,nonce:r.nonce},n))}))}var ut=!1;function ht(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:s,routeDiscovery:a,ssr:l}=it(),{router:c,static:u,staticContext:f}=tt(),{matches:p}=nt(),m=i.useContext(ie),g=et(a,l);s&&(s.didRenderScripts=!0);let y=ot(p,null,r);i.useEffect(()=>{ut=!0},[]);let v=i.useMemo(()=>{var r;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=u?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ke(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let n=N(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return h(h({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),b=ut||m?[]:(w=t.entry.imports.concat(Je(y,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let _="object"===typeof t.sri?t.sri:{};return De(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ut||m?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}}):null,g?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:_[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:_[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:_[t],suppressHydrationWarning:!0})),v)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function ft(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return i.createElement(pt,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(pt,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function pt(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=it();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?i.createElement(ht,null):null)))}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.9.3")}catch(iO){}function gt(e){let{basename:t,children:n,window:r}=e,s=i.useRef();null==s.current&&(s.current=b({window:r,v5Compat:!0}));let o=s.current,[a,l]=i.useState({action:o.action,location:o.location}),c=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>o.listen(c),[o,c]),i.createElement(je,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=i.forwardRef(function(e,t){let n,{onClick:r,discover:s="render",prefetch:a="none",relative:l,reloadDocument:c,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y}=e,v=o(e,m),{basename:b}=i.useContext(le),S="string"===typeof p&&yt.test(p),x=!1;if("string"===typeof p&&S&&(n=p,mt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=H(t.pathname,b);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:x=!0}catch(iO){_(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(le),{hash:s,pathname:o,search:a}=ve(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:Y([n,o])),r.createHref({pathname:l,search:a,hash:s})}(p,{relative:l}),[T,C,N]=function(e,t){let n=i.useContext(rt),[r,s]=i.useState(!1),[o,a]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=i.useRef(null);i.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:st(l,p),onBlur:st(c,m),onMouseEnter:st(u,p),onMouseLeave:st(h,m),onTouchStart:st(d,p)}]:[!1,f,{}]}(a,v),I=function(e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ge(),c=fe(),u=ve(e,{relative:o});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:k(c)===k(u);l(e,{replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,n,r,t,e,s,o,a])}(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let P=i.createElement("a",h(h(h({},v),N),{},{href:n||E,onClick:x||c?r:function(e){r&&r(e),e.defaultPrevented||I(e)},ref:dt(t,C),target:f,"data-discover":S||"render"!==s?void 0:"true"}));return T&&!S?i.createElement(i.Fragment,null,P,i.createElement(at,{page:E})):P});vt.displayName="Link",i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,f=o(e,g),p=ve(c,{relative:f.relative}),m=fe(),y=i.useContext(re),{navigator:v,basename:b}=i.useContext(le),_=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(se);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_t("useViewTransitionState"),s=ve(e,{relative:t});if(!n.isTransitioning)return!1;let o=H(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=H(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=z(s.pathname,a)||null!=z(s.pathname,o)}(p)&&!0===u,S=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,x=m.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(x=x.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&b&&(k=H(k,b)||k);const E="/"!==S&&S.endsWith("/")?S.length-1:S.length;let T,C=x===S||!a&&x.startsWith(S)&&"/"===x.charAt(E),N=null!=k&&(k===S||!a&&k.startsWith(S)&&"/"===k.charAt(S.length)),I={isActive:C,isPending:N,isTransitioning:_},P=C?n:void 0;T="function"===typeof s?s(I):[s,C?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(I):l;return i.createElement(vt,h(h({},f),{},{"aria-current":P,className:T,ref:t,style:A,to:c,viewTransition:u}),"function"===typeof d?d(I):d)}).displayName="NavLink";var bt=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:s,reloadDocument:a,replace:l,state:c,method:u=Ue,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g}=e,v=o(e,y),b=kt(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(le),r=i.useContext(ue);w(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o=h({},ve(e||".",{relative:t})),a=fe();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:Y([n,o.pathname]));return k(o)}(d,{relative:p}),S="get"===u.toLowerCase()?"get":"post",x="string"===typeof d&&yt.test(d);return i.createElement("form",h(h({ref:t,method:S,action:_,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})}},v),{},{"data-discover":x||"render"!==n?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _t(e){let t=i.useContext(ne);return w(t,wt(e)),t}bt.displayName="Form";var St=0,xt=()=>"__".concat(String(++St),"__");function kt(){let{router:e}=_t("useSubmit"),{basename:t}=i.useContext(le),n=Ne("useRouteId");return i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=We(r,t);if(!1===i.navigate){let t=i.fetcherKey||xt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Et(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tt}=Object.prototype,{getPrototypeOf:Ct}=Object,{iterator:Nt,toStringTag:It}=Symbol,Pt=(At=Object.create(null),e=>{const t=Tt.call(e);return At[t]||(At[t]=t.slice(8,-1).toLowerCase())});var At;const Rt=e=>(e=e.toLowerCase(),t=>Pt(t)===e),Dt=e=>t=>typeof t===e,{isArray:Ot}=Array,Lt=Dt("undefined");function jt(e){return null!==e&&!Lt(e)&&null!==e.constructor&&!Lt(e.constructor)&&Ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mt=Rt("ArrayBuffer");const Ft=Dt("string"),Ut=Dt("function"),Vt=Dt("number"),zt=e=>null!==e&&"object"===typeof e,Bt=e=>{if("object"!==Pt(e))return!1;const t=Ct(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(It in e)&&!(Nt in e)},qt=Rt("Date"),Ht=Rt("File"),Wt=Rt("Blob"),Kt=Rt("FileList"),Gt=Rt("URLSearchParams"),[Qt,Yt,Xt,$t]=["ReadableStream","Request","Response","Headers"].map(Rt);function Jt(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ot(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(jt(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Zt(e,t){if(jt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const en="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,tn=e=>!Lt(e)&&e!==en;const nn=(rn="undefined"!==typeof Uint8Array&&Ct(Uint8Array),e=>rn&&e instanceof rn);var rn;const sn=Rt("HTMLFormElement"),on=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),an=Rt("RegExp"),ln=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Jt(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)};const cn=Rt("AsyncFunction"),un=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],en.addEventListener("message",e=>{let{source:t,data:i}=e;t===en&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),en.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Ut(en.postMessage)),hn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(en):"undefined"!==typeof process&&process.nextTick||un,dn={isArray:Ot,isArrayBuffer:Mt,isBuffer:jt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ut(e.append)&&("formdata"===(t=Pt(e))||"object"===t&&Ut(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Mt(e.buffer),t},isString:Ft,isNumber:Vt,isBoolean:e=>!0===e||!1===e,isObject:zt,isPlainObject:Bt,isEmptyObject:e=>{if(!zt(e)||jt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(iO){return!1}},isReadableStream:Qt,isRequest:Yt,isResponse:Xt,isHeaders:$t,isUndefined:Lt,isDate:qt,isFile:Ht,isBlob:Wt,isRegExp:an,isFunction:Ut,isStream:e=>zt(e)&&Ut(e.pipe),isURLSearchParams:Gt,isTypedArray:nn,isFileList:Kt,forEach:Jt,merge:function e(){const{caseless:t,skipUndefined:n}=tn(this)&&this||{},r={},i=(i,s)=>{const o=t&&Zt(r,s)||s;Bt(r[o])&&Bt(i)?r[o]=e(r[o],i):Bt(i)?r[o]=e({},i):Ot(i)?r[o]=i.slice():n&&Lt(i)||(r[o]=i)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Jt(arguments[s],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Jt(t,(t,r)=>{n&&Ut(t)?e[r]=Et(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&Ct(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Pt,kindOfTest:Rt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ot(e))return e;let t=e.length;if(!Vt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Nt]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:sn,hasOwnProperty:on,hasOwnProp:on,reduceDescriptors:ln,freezeMethods:e=>{ln(e,(t,n)=>{if(Ut(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ut(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Ot(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Zt,global:en,isContextDefined:tn,isSpecCompliantForm:function(e){return!!(e&&Ut(e.append)&&"FormData"===e[It]&&e[Nt])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(zt(e)){if(t.indexOf(e)>=0)return;if(jt(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Ot(e)?[]:{};return Jt(e,(e,t)=>{const s=n(e,r+1);!Lt(s)&&(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:cn,isThenable:e=>e&&(zt(e)||Ut(e))&&Ut(e.then)&&Ut(e.catch),setImmediate:un,asap:hn,isIterable:e=>null!=e&&Ut(e[Nt])};function fn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}dn.inherits(fn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dn.toJSONObject(this.config),code:this.code,status:this.status}}});const pn=fn.prototype,mn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mn[e]={value:e}}),Object.defineProperties(fn,mn),Object.defineProperty(pn,"isAxiosError",{value:!0}),fn.from=(e,t,n,r,i,s)=>{const o=Object.create(pn);dn.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const a=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return fn.call(o,a,l,n,r,i),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const gn=fn;function yn(e){return dn.isPlainObject(e)||dn.isArray(e)}function vn(e){return dn.endsWith(e,"[]")?e.slice(0,-2):e}function bn(e,t,n){return e?e.concat(t).map(function(e,t){return e=vn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const wn=dn.toFlatObject(dn,{},null,function(e){return/^is[A-Z]/.test(e)});const _n=function(e,t,n){if(!dn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=dn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!dn.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&dn.isSpecCompliantForm(t);if(!dn.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(dn.isDate(e))return e.toISOString();if(dn.isBoolean(e))return e.toString();if(!a&&dn.isBlob(e))throw new gn("Blob is not supported. Use a Buffer instead.");return dn.isArrayBuffer(e)||dn.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(dn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(dn.isArray(e)&&function(e){return dn.isArray(e)&&!e.some(yn)}(e)||(dn.isFileList(e)||dn.endsWith(n,"[]"))&&(a=dn.toArray(e)))return n=vn(n),a.forEach(function(e,r){!dn.isUndefined(e)&&null!==e&&t.append(!0===o?bn([n],r,s):null===o?n:n+"[]",l(e))}),!1;return!!yn(e)||(t.append(bn(i,n,s),l(e)),!1)}const u=[],h=Object.assign(wn,{defaultVisitor:c,convertValue:l,isVisitable:yn});if(!dn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!dn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),dn.forEach(n,function(n,s){!0===(!(dn.isUndefined(n)||null===n)&&i.call(t,n,dn.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function Sn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function xn(e,t){this._pairs=[],e&&_n(e,this,t)}const kn=xn.prototype;kn.append=function(e,t){this._pairs.push([e,t])},kn.toString=function(e){const t=e?function(t){return e.call(this,t,Sn)}:Sn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const En=xn;function Tn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Cn(e,t,n){if(!t)return e;const r=n&&n.encode||Tn;dn.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):dn.isURLSearchParams(t)?t.toString():new En(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Nn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){dn.forEach(this.handlers,function(t){null!==t&&e(t)})}},In={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:En,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},An="undefined"!==typeof window&&"undefined"!==typeof document,Rn="object"===typeof navigator&&navigator||void 0,Dn=An&&(!Rn||["ReactNative","NativeScript","NS"].indexOf(Rn.product)<0),On="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ln=An&&window.location.href||"http://localhost",jn=h(h({},r),Pn);const Mn=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&dn.isArray(r)?r.length:s,a)return dn.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&dn.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&dn.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(dn.isFormData(e)&&dn.isFunction(e.entries)){const n={};return dn.forEachEntry(e,(e,r)=>{t(function(e){return dn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Fn={transitional:In,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=dn.isObject(e);i&&dn.isHTMLForm(e)&&(e=new FormData(e));if(dn.isFormData(e))return r?JSON.stringify(Mn(e)):e;if(dn.isArrayBuffer(e)||dn.isBuffer(e)||dn.isStream(e)||dn.isFile(e)||dn.isBlob(e)||dn.isReadableStream(e))return e;if(dn.isArrayBufferView(e))return e.buffer;if(dn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _n(e,new jn.classes.URLSearchParams,h({visitor:function(e,t,n,r){return jn.isNode&&dn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=dn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _n(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(dn.isString(e))try{return(t||JSON.parse)(e),dn.trim(e)}catch(iO){if("SyntaxError"!==iO.name)throw iO}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Fn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(dn.isResponse(e)||dn.isReadableStream(e))return e;if(e&&dn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(iO){if(n){if("SyntaxError"===iO.name)throw gn.from(iO,gn.ERR_BAD_RESPONSE,this,null,this.response);throw iO}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};dn.forEach(["delete","get","head","post","put","patch"],e=>{Fn.headers[e]={}});const Un=Fn,Vn=dn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zn=Symbol("internals");function Bn(e){return e&&String(e).trim().toLowerCase()}function qn(e){return!1===e||null==e?e:dn.isArray(e)?e.map(qn):String(e)}function Hn(e,t,n,r,i){return dn.isFunction(r)?r.call(this,t,n):(i&&(t=n),dn.isString(t)?dn.isString(r)?-1!==t.indexOf(r):dn.isRegExp(r)?r.test(t):void 0:void 0)}class Wn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Bn(t);if(!i)throw new Error("header name must be a non-empty string");const s=dn.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=qn(e))}const s=(e,t)=>dn.forEach(e,(e,n)=>i(e,n,t));if(dn.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(dn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Vn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(dn.isObject(e)&&dn.isIterable(e)){let n,r,i={};for(const t of e){if(!dn.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?dn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=Bn(e)){const n=dn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(dn.isFunction(t))return t.call(this,e,n);if(dn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bn(e)){const n=dn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Hn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Bn(e)){const i=dn.findKey(n,e);!i||t&&!Hn(0,n[i],i,t)||(delete n[i],r=!0)}}return dn.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Hn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return dn.forEach(this,(r,i)=>{const s=dn.findKey(n,i);if(s)return t[s]=qn(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=qn(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return dn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&dn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[zn]=this[zn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Bn(e);t[r]||(!function(e,t){const n=dn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return dn.isArray(e)?e.forEach(r):r(e),this}}Wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),dn.reduceDescriptors(Wn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),dn.freezeMethods(Wn);const Kn=Wn;function Gn(e,t){const n=this||Un,r=t||n,i=Kn.from(r.headers);let s=r.data;return dn.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Qn(e){return!(!e||!e.__CANCEL__)}function Yn(e,t,n){gn.call(this,null==e?"canceled":e,gn.ERR_CANCELED,t,n),this.name="CanceledError"}dn.inherits(Yn,gn,{__CANCEL__:!0});const Xn=Yn;function $n(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new gn("Request failed with status code "+n.status,[gn.ERR_BAD_REQUEST,gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Jn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const Zn=function(e,t){let n,r,i=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=s?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},s-t)))},()=>n&&o(n)]},er=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Jn(50,250);return Zn(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,l=i(a);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},tr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn.asap(()=>e(...n))},rr=jn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,jn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,ir=jn.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];dn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),dn.isString(r)&&o.push("path="+r),dn.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function sr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const or=e=>e instanceof Kn?h({},e):e;function ar(e,t){t=t||{};const n={};function r(e,t,n,r){return dn.isPlainObject(e)&&dn.isPlainObject(t)?dn.merge.call({caseless:r},e,t):dn.isPlainObject(t)?dn.merge({},t):dn.isArray(t)?t.slice():t}function i(e,t,n,i){return dn.isUndefined(t)?dn.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!dn.isUndefined(t))return r(void 0,t)}function o(e,t){return dn.isUndefined(t)?dn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>i(or(e),or(t),0,!0)};return dn.forEach(Object.keys(h(h({},e),t)),function(r){const s=l[r]||i,o=s(e[r],t[r],r);dn.isUndefined(o)&&s!==a||(n[r]=o)}),n}const lr=e=>{const t=ar({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=Kn.from(o),t.url=Cn(sr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),dn.isFormData(n))if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(dn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(jn.hasStandardBrowserEnv&&(r&&dn.isFunction(r)&&(r=r(t)),r||!1!==r&&rr(t.url))){const e=i&&s&&ir.read(s);e&&o.set(i,e)}return t},cr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=lr(e);let i=r.data;const s=Kn.from(r.headers).normalize();let o,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Kn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());$n(function(e){t(e),p()},function(e){n(e),p()},{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new gn("Request aborted",gn.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new gn(r,gn.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||In;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new gn(t,i.clarifyTimeoutError?gn.ETIMEDOUT:gn.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&dn.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),dn.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([l,u]=er(f,!0),m.addEventListener("progress",l)),d&&m.upload&&([a,c]=er(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new Xn(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===jn.protocols.indexOf(y)?n(new gn("Unsupported protocol "+y+":",gn.ERR_BAD_REQUEST,e)):m.send(i||null)})},ur=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof gn?t:new Xn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new gn("timeout ".concat(t," of ms exceeded"),gn.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>dn.asap(o),a}};function hr(e,t){this.v=e,this.k=t}function dr(e){return function(){return new fr(e.apply(this,arguments))}}function fr(e){var t,n;function r(t,n){try{var s=e[t](n),o=s.value,a=o instanceof hr;Promise.resolve(a?o.v:o).then(function(n){if(a){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(s,o){var a={key:e,arg:i,resolve:s,reject:o,next:null};n?n=n.next=a:(t=n=a,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function pr(e){return new hr(e,0)}function mr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new hr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function gr(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new yr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function yr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return yr=function(e){this.s=e,this.n=e.next},yr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new yr(e)}fr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},fr.prototype.next=function(e){return this._invoke("next",e)},fr.prototype.throw=function(e){return this._invoke("throw",e)},fr.prototype.return=function(e){return this._invoke("return",e)};const vr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},br=function(){var e=dr(function*(e,t){var n,r=!1,i=!1;try{for(var s,o=gr(wr(e));r=!(s=yield pr(o.next())).done;r=!1){const e=s.value;yield*mr(gr(vr(e,t)))}}catch(a){i=!0,n=a}finally{try{r&&null!=o.return&&(yield pr(o.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),wr=function(){var e=dr(function*(e){if(e[Symbol.asyncIterator])return void(yield*mr(gr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield pr(t.read());if(e)break;yield n}}finally{yield pr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),_r=(e,t,n,r)=>{const i=br(e,t);let s,o=0,a=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},{isFunction:Sr}=dn,xr=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(dn.global),{ReadableStream:kr,TextEncoder:Er}=dn.global,Tr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(iO){return!1}},Cr=e=>{e=dn.merge.call({skipUndefined:!0},xr,e);const{fetch:t,Request:n,Response:r}=e,i=t?Sr(t):"function"===typeof fetch,s=Sr(n),o=Sr(r);if(!i)return!1;const a=i&&Sr(kr),l=i&&("function"===typeof Er?(c=new Er,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=s&&a&&Tr(()=>{let e=!1;const t=new n(jn.origin,{body:new kr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&a&&Tr(()=>dn.isReadableStream(new r("").body)),f={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f[e]&&(f[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new gn("Response type '".concat(e,"' is not supported"),gn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=dn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(dn.isBlob(e))return e.size;if(dn.isSpecCompliantForm(e)){const t=new n(jn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return dn.isArrayBufferView(e)||dn.isArrayBuffer(e)?e.byteLength:(dn.isURLSearchParams(e)&&(e+=""),dn.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:o,data:a,signal:l,cancelToken:c,timeout:m,onDownloadProgress:g,onUploadProgress:y,responseType:v,headers:b,withCredentials:w="same-origin",fetchOptions:_}=lr(e),S=t||fetch;v=v?(v+"").toLowerCase():"text";let x=ur([l,c&&c.toAbortSignal()],m),k=null;const E=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let T;try{if(y&&u&&"get"!==o&&"head"!==o&&0!==(T=await p(b,a))){let e,t=new n(i,{method:"POST",body:a,duplex:"half"});if(dn.isFormData(a)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=tr(T,er(nr(y)));a=_r(t.body,65536,e,n)}}dn.isString(w)||(w=w?"include":"omit");const t=s&&"credentials"in n.prototype,l=h(h({},_),{},{signal:x,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:a,duplex:"half",credentials:t?w:void 0});k=s&&new n(i,l);let c=await(s?S(k,_):S(i,l));const m=d&&("stream"===v||"response"===v);if(d&&(g||m&&E)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=dn.toFiniteNumber(c.headers.get("content-length")),[n,i]=g&&tr(t,er(nr(g),!0))||[];c=new r(_r(c.body,65536,n,()=>{i&&i(),E&&E()}),e)}v=v||"text";let C=await f[dn.findKey(f,v)||"text"](c,e);return!m&&E&&E(),await new Promise((t,n)=>{$n(t,n,{data:C,headers:Kn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(C){if(E&&E(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new gn("Network Error",gn.ERR_NETWORK,e,k),{cause:C.cause||C});throw gn.from(C,C&&C.code,e,k)}}},Nr=new Map,Ir=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let o,a,l=s.length,c=Nr;for(;l--;)o=s[l],a=c.get(o),void 0===a&&c.set(o,a=l?new Map:Cr(t)),c=a;return a},Pr=(Ir(),{http:null,xhr:cr,fetch:{get:Ir}});dn.forEach(Pr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(iO){}Object.defineProperty(e,"adapterName",{value:t})}});const Ar=e=>"- ".concat(e),Rr=e=>dn.isFunction(e)||null===e||!1===e,Dr=(e,t)=>{e=dn.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let o=0;o<n;o++){let n;if(r=e[o],i=r,!Rr(r)&&(i=Pr[(n=String(r)).toLowerCase()],void 0===i))throw new gn("Unknown adapter '".concat(n,"'"));if(i&&(dn.isFunction(i)||(i=i.get(t))))break;s[n||"#"+o]=i}if(!i){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Ar).join("\n"):" "+Ar(e[0]):"as no adapter specified";throw new gn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function Or(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xn(null,e)}function Lr(e){Or(e),e.headers=Kn.from(e.headers),e.data=Gn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Dr(e.adapter||Un.adapter,e)(e).then(function(t){return Or(e),t.data=Gn.call(e,e.transformResponse,t),t.headers=Kn.from(t.headers),t},function(t){return Qn(t)||(Or(e),t&&t.response&&(t.response.data=Gn.call(e,e.transformResponse,t.response),t.response.headers=Kn.from(t.response.headers))),Promise.reject(t)})}const jr="1.12.2",Mr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Fr={};Mr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+jr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new gn(r(i," has been removed"+(t?" in "+t:"")),gn.ERR_DEPRECATED);return t&&!Fr[i]&&(Fr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},Mr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Ur={assertOptions:function(e,t,n){if("object"!==typeof e)throw new gn("options must be an object",gn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new gn("option "+s+" must be "+n,gn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new gn("Unknown option "+s,gn.ERR_BAD_OPTION)}},validators:Mr},Vr=Ur.validators;class zr{constructor(e){this.defaults=e||{},this.interceptors={request:new Nn,response:new Nn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(iO){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ar(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Ur.assertOptions(n,{silentJSONParsing:Vr.transitional(Vr.boolean),forcedJSONParsing:Vr.transitional(Vr.boolean),clarifyTimeoutError:Vr.transitional(Vr.boolean)},!1),null!=r&&(dn.isFunction(r)?t.paramsSerializer={serialize:r}:Ur.assertOptions(r,{encode:Vr.function,serialize:Vr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ur.assertOptions(t,{baseUrl:Vr.spelling("baseURL"),withXsrfToken:Vr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&dn.merge(i.common,i[t.method]);i&&dn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=Kn.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,h=0;if(!a){const e=[Lr.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(Sw){t.call(this,Sw);break}}try{c=Lr.call(this,d)}catch(Sw){return Promise.reject(Sw)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return Cn(sr((e=ar(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}dn.forEach(["delete","get","head","options"],function(e){zr.prototype[e]=function(t,n){return this.request(ar(n||{},{method:e,url:t,data:(n||{}).data}))}}),dn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(ar(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}zr.prototype[e]=t(),zr.prototype[e+"Form"]=t(!0)});const Br=zr;class qr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Xn(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new qr(function(t){e=t}),cancel:e}}}const Hr=qr;const Wr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wr).forEach(e=>{let[t,n]=e;Wr[n]=t});const Kr=Wr;const Gr=function e(t){const n=new Br(t),r=Et(Br.prototype.request,n);return dn.extend(r,Br.prototype,n,{allOwnKeys:!0}),dn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ar(t,n))},r}(Un);Gr.Axios=Br,Gr.CanceledError=Xn,Gr.CancelToken=Hr,Gr.isCancel=Qn,Gr.VERSION=jr,Gr.toFormData=_n,Gr.AxiosError=gn,Gr.Cancel=Gr.CanceledError,Gr.all=function(e){return Promise.all(e)},Gr.spread=function(e){return function(t){return e.apply(null,t)}},Gr.isAxiosError=function(e){return dn.isObject(e)&&!0===e.isAxiosError},Gr.mergeConfig=ar,Gr.AxiosHeaders=Kn,Gr.formToJSON=e=>Mn(dn.isHTMLForm(e)?new FormData(e):e),Gr.getAdapter=Dr,Gr.HttpStatusCode=Kr,Gr.default=Gr;const Qr=Gr;var Yr=n(341);const Xr=!1,$r=!1,Jr="${JSCORE_VERSION}",Zr=function(e,t){if(!e)throw ei(t)},ei=function(e){return new Error("Firebase Database ("+Jr+") INTERNAL ASSERT FAILED: "+e)},ti=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ni={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ti(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new ri;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ri extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ii=function(e){const t=ti(e);return ni.encodeByteArray(t,!0)},si=function(e){return ii(e).replace(/\./g,"")},oi=function(e){try{return ni.decodeString(e,!0)}catch(iO){console.error("base64Decode failed: ",iO)}return null};function ai(e){return li(void 0,e)}function li(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&ci(n)&&(e[n]=li(e[n],t[n]));return e}function ci(e){return"__proto__"!==e}function ui(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const hi=()=>{try{return ui().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Project_1_bt-",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(iO){return}const t=e&&oi(e[1]);return t&&JSON.parse(t)})()}catch(iO){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(iO))}},di=e=>{var t;return null===(t=hi())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},fi=e=>{const t=di(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pi=()=>{var e;return null===(e=hi())||void 0===e?void 0:e.config},mi=e=>{var t;return null===(t=hi())||void 0===t?void 0:t["_".concat(e)]};class gi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function yi(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function vi(e){return(await fetch(e,{credentials:"include"})).ok}function bi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=h({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[si(JSON.stringify({alg:"none",type:"JWT"})),si(JSON.stringify(s)),""].join(".")}const wi={};let _i=!1;function Si(e,t){if("undefined"===typeof window||"undefined"===typeof document||!yi(window.location.host)||wi[e]===t||wi[e]||_i)return;function n(e){return"__firebase__banner__".concat(e)}wi[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(wi))wi[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{_i=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function xi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ki(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xi())}function Ei(){var e;const t=null===(e=hi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(iO){return!1}}function Ti(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ci(){return!0===Xr||!0===$r}function Ni(){return!Ei()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ii(){try{return"object"===typeof indexedDB}catch(iO){return!1}}class Pi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ai.prototype.create)}}class Ai{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ri,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Pi(n,s,t)}}const Ri=/\{\$([^}]+)}/g;function Di(e){return JSON.parse(e)}function Oi(e){return JSON.stringify(e)}const Li=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Di(oi(s[0])||""),n=Di(oi(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(iO){}return{header:t,claims:n,data:r,signature:i}};function ji(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mi(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Fi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ui(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Vi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(zi(n)&&zi(s)){if(!Vi(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zi(e){return null!==e&&"object"===typeof e}function Bi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qi(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Hi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Wi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Ki{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Gi),void 0===r.error&&(r.error=Gi),void 0===r.complete&&(r.complete=Gi);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(iO){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(iO){"undefined"!==typeof console&&console.error&&console.error(iO)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gi(){}function Qi(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Yi=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Xi(e){return e&&e._delegate?e._delegate:e}class $i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ji="[DEFAULT]";class Zi{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(iO){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(iO){if(r)return null;throw iO}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch(iO){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(iO){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ji?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class es{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ts=[];var ns;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ns||(ns={}));const rs={debug:ns.DEBUG,verbose:ns.VERBOSE,info:ns.INFO,warn:ns.WARN,error:ns.ERROR,silent:ns.SILENT},is=ns.INFO,ss={[ns.DEBUG]:"log",[ns.VERBOSE]:"log",[ns.INFO]:"info",[ns.WARN]:"warn",[ns.ERROR]:"error"},os=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ss[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class as{constructor(e){this.name=e,this._logLevel=is,this._logHandler=os,this._userLogHandler=null,ts.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ns))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?rs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ns.DEBUG,...t),this._logHandler(this,ns.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ns.VERBOSE,...t),this._logHandler(this,ns.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ns.INFO,...t),this._logHandler(this,ns.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ns.WARN,...t),this._logHandler(this,ns.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ns.ERROR,...t),this._logHandler(this,ns.ERROR,...t)}}let ls,cs;const us=new WeakMap,hs=new WeakMap,ds=new WeakMap,fs=new WeakMap,ps=new WeakMap;let ms={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ds.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function gs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(cs||(cs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(bs(this),n),vs(us.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vs(e.apply(bs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(bs(this),t,...r);return ds.set(s,t.sort?t.sort():[t]),vs(s)}}function ys(e){return"function"===typeof e?gs(e):(e instanceof IDBTransaction&&function(e){if(hs.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});hs.set(e,t)}(e),t=e,(ls||(ls=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ms):e);var t}function vs(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(vs(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&us.set(t,e)}).catch(()=>{}),ps.set(t,e),t}(e);if(fs.has(e))return fs.get(e);const t=ys(e);return t!==e&&(fs.set(e,t),ps.set(t,e)),t}const bs=e=>ps.get(e);const ws=["get","getKey","getAll","getAllKeys","count"],_s=["put","add","delete","clear"],Ss=new Map;function xs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ss.get(t))return Ss.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_s.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ws.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Ss.set(t,s),s}ms=(e=>h(h({},e),{},{get:(t,n,r)=>xs(t,n)||e.get(t,n,r),has:(t,n)=>!!xs(t,n)||e.has(t,n)}))(ms);class ks{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Es="@firebase/app",Ts="0.14.3",Cs=new as("@firebase/app"),Ns="@firebase/app-compat",Is="@firebase/analytics-compat",Ps="@firebase/analytics",As="@firebase/app-check-compat",Rs="@firebase/app-check",Ds="@firebase/auth",Os="@firebase/auth-compat",Ls="@firebase/database",js="@firebase/data-connect",Ms="@firebase/database-compat",Fs="@firebase/functions",Us="@firebase/functions-compat",Vs="@firebase/installations",zs="@firebase/installations-compat",Bs="@firebase/messaging",qs="@firebase/messaging-compat",Hs="@firebase/performance",Ws="@firebase/performance-compat",Ks="@firebase/remote-config",Gs="@firebase/remote-config-compat",Qs="@firebase/storage",Ys="@firebase/storage-compat",Xs="@firebase/firestore",$s="@firebase/ai",Js="@firebase/firestore-compat",Zs="firebase",eo="[DEFAULT]",to={[Es]:"fire-core",[Ns]:"fire-core-compat",[Ps]:"fire-analytics",[Is]:"fire-analytics-compat",[Rs]:"fire-app-check",[As]:"fire-app-check-compat",[Ds]:"fire-auth",[Os]:"fire-auth-compat",[Ls]:"fire-rtdb",[js]:"fire-data-connect",[Ms]:"fire-rtdb-compat",[Fs]:"fire-fn",[Us]:"fire-fn-compat",[Vs]:"fire-iid",[zs]:"fire-iid-compat",[Bs]:"fire-fcm",[qs]:"fire-fcm-compat",[Hs]:"fire-perf",[Ws]:"fire-perf-compat",[Ks]:"fire-rc",[Gs]:"fire-rc-compat",[Qs]:"fire-gcs",[Ys]:"fire-gcs-compat",[Xs]:"fire-fst",[Js]:"fire-fst-compat",[$s]:"fire-vertex","fire-js":"fire-js",[Zs]:"fire-js-all"},no=new Map,ro=new Map,io=new Map;function so(e,t){try{e.container.addComponent(t)}catch(iO){Cs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),iO)}}function oo(e){const t=e.name;if(io.has(t))return Cs.debug("There were multiple attempts to register component ".concat(t,".")),!1;io.set(t,e);for(const n of no.values())so(n,e);for(const n of ro.values())so(n,e);return!0}function ao(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lo(e){return null!==e&&void 0!==e&&void 0!==e.settings}const co=new Ai("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class uo{constructor(e,t,n){this._isDeleted=!1,this._options=h({},e),this._config=h({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const ho="12.3.0";function fo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=h({name:eo,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=pi()),!n)throw co.create("no-options");const s=no.get(i);if(s){if(Vi(n,s.options)&&Vi(r,s.config))return s;throw co.create("duplicate-app",{appName:i})}const o=new es(i);for(const l of io.values())o.addComponent(l);const a=new uo(n,r,o);return no.set(i,a),a}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo;const t=no.get(e);if(!t&&e===eo&&pi())return fo();if(!t)throw co.create("no-app",{appName:e});return t}function mo(e,t,n){var r;let i=null!==(r=to[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cs.warn(e.join(" "))}oo(new $i("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const go="firebase-heartbeat-store";let yo=null;function vo(){return yo||(yo=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=vs(o);return r&&o.addEventListener("upgradeneeded",e=>{r(vs(o.result),e.oldVersion,e.newVersion,vs(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(go)}catch(iO){console.warn(iO)}}}).catch(e=>{throw co.create("idb-open",{originalErrorMessage:e.message})})),yo}async function bo(e,t){try{const n=(await vo()).transaction(go,"readwrite"),r=n.objectStore(go);await r.put(t,wo(e)),await n.done}catch(iO){if(iO instanceof Pi)Cs.warn(iO.message);else{const t=co.create("idb-set",{originalErrorMessage:null===iO||void 0===iO?void 0:iO.message});Cs.warn(t.message)}}}function wo(e){return"".concat(e.name,"!").concat(e.options.appId)}class _o{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xo(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=So();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(iO){Cs.warn(iO)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=So(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ko(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ko(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=si(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(iO){return Cs.warn(iO),""}}}function So(){return(new Date).toISOString().substring(0,10)}class xo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ii()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Sw){t(Sw)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await vo()).transaction(go),n=await t.objectStore(go).get(wo(e));return await t.done,n}catch(iO){if(iO instanceof Pi)Cs.warn(iO.message);else{const t=co.create("idb-get",{originalErrorMessage:null===iO||void 0===iO?void 0:iO.message});Cs.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return bo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return bo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ko(e){return si(JSON.stringify({version:2,heartbeats:e})).length}var Eo;Eo="",oo(new $i("platform-logger",e=>new ks(e),"PRIVATE")),oo(new $i("heartbeat",e=>new _o(e),"PRIVATE")),mo(Es,Ts,Eo),mo(Es,Ts,"esm2020"),mo("fire-js","");mo("firebase","12.3.0","app");const To=["providerId"],Co=["uid","auth","stsTokenManager"],No=["providerId","signInMethod"];function Io(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Po=Io,Ao=new Ai("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ro=new as("@firebase/auth");function Do(e){if(Ro.logLevel<=ns.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ro.error("Auth (".concat(ho,"): ").concat(e),...n)}}function Oo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Uo(e,...n)}function Lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uo(e,...n)}function jo(e,t,n){const r=h(h({},Po()),{},{[t]:n});return new Ai("auth","Firebase",r).create(t,{appName:e.name})}function Mo(e){return jo(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Oo(e,"argument-error"),jo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Uo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ao.create(e,...n)}function Vo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Uo(t,...r)}}function zo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Do(t),new Error(t)}function Bo(e,t){e||zo(t)}function qo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ho(){return"http:"===Wo()||"https:"===Wo()}function Wo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ko(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ho()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Go{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bo(t>e,"Short delay should be less than long delay!"),this.isMobile=ki()||Ti()}get(){return Ko()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qo(e,t){Bo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yo{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$o=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jo=new Go(3e4,6e4);function Zo(e,t){return e.tenantId&&!t.tenantId?h(h({},t),{},{tenantId:e.tenantId}):t}async function ea(e,t,n,r){return ta(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Bi(h({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=h({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&yi(e.emulatorConfig.host)&&(l.credentials="include"),Yo.fetch()(await ra(e,e.config.apiHost,n,o),l)})}async function ta(e,t,n){e._canInitEmulator=!1;const r=h(h({},Xo),t);try{const t=new sa(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw oa(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw oa(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw oa(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw oa(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw jo(e,a,o);Oo(e,a)}}catch(iO){if(iO instanceof Pi)throw iO;Oo(e,"network-request-failed",{message:String(iO)})}}async function na(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ea(e,t,n,r,i);return"mfaPendingCredential"in s&&Oo(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ra(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?Qo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if($o.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function ia(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sa{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Lo(this.auth,"network-request-failed")),Jo.get())})}}function oa(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lo(e,t,r);return i.customData._tokenResponse=n,i}function aa(e){return void 0!==e&&void 0!==e.enterprise}class la{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ia(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ca(e,t){return ea(e,"GET","/v2/recaptchaConfig",Zo(e,t))}async function ua(e,t){return ea(e,"POST","/v1/accounts:lookup",t)}function ha(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(iO){}}function da(e){return 1e3*Number(e)}function fa(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Do("JWT malformed, contained fewer than 3 sections"),null;try{const e=oi(n);return e?JSON.parse(e):(Do("Failed to decode base64 JWT payload"),null)}catch(iO){return Do("Caught error parsing JWT payload as JSON",null===iO||void 0===iO?void 0:iO.toString()),null}}function pa(e){const t=fa(e);return Vo(t,"internal-error"),Vo("undefined"!==typeof t.exp,"internal-error"),Vo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ma(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(iO){throw iO instanceof Pi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(iO)&&e.auth.currentUser===e&&await e.auth.signOut(),iO}}class ga{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(iO){return void((null===iO||void 0===iO?void 0:iO.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ya{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function va(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ma(e,ua(n,{idToken:r}));Vo(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?ba(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ya(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function ba(e){return e.map(e=>{let{providerId:t}=e,n=o(e,To);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vo(e.idToken,"internal-error"),Vo("undefined"!==typeof e.idToken,"internal-error"),Vo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):pa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Vo(0!==e.length,"internal-error");const t=pa(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Vo(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ta(e,{},async()=>{const n=Bi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await ra(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&yi(e.emulatorConfig.host)&&(a.credentials="include"),Yo.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new wa;return n&&(Vo("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Vo("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Vo("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return zo("not implemented")}}function _a(e,t){Vo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Sa{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,Co);this.providerId="firebase",this.proactiveRefresh=new ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ya(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Vo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Xi(e),r=await n.getIdToken(t),i=fa(r);Vo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ha(da(i.auth_time)),issuedAtTime:ha(da(i.iat)),expirationTime:ha(da(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Xi(e);await va(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>h({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sa(h(h({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await va(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lo(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await ma(this,async function(e,t){return ea(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return h(h({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>h({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:S,stsTokenManager:x}=t;Vo(b&&x,e,"internal-error");const k=wa.fromJSON(this.name,x);Vo("string"===typeof b,e,"internal-error"),_a(u,e.name),_a(d,e.name),Vo("boolean"===typeof w,e,"internal-error"),Vo("boolean"===typeof _,e,"internal-error"),_a(f,e.name),_a(p,e.name),_a(m,e.name),_a(g,e.name),_a(y,e.name),_a(v,e.name);const E=new Sa({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:_,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(E.providerData=S.map(e=>h({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new wa;r.updateFromServerResponse(t);const i=new Sa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await va(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Vo(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ba(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new wa;o.updateFromIdToken(n);const a=new Sa({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ya(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const xa=new Map;function ka(e){Bo(e instanceof Function,"Expected a class definition");let t=xa.get(e);return t?(Bo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xa.set(e,t),t)}class Ea{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ea.type="NONE";const Ta=Ea;function Ca(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Na{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ca(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ca("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ua(this.auth,{idToken:e}).catch(()=>{});return t?Sa._fromGetAccountInfoResponse(this.auth,t,e):null}return Sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Na(ka(Ta),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ka(Ta);const s=Ca(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await ua(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Sa._fromGetAccountInfoResponse(e,r,t)}else n=Sa._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new Na(i,e,n)):new Na(i,e,n)}}function Ia(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Da(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(La(t))return"Blackberry";if(ja(t))return"Webos";if(Aa(t))return"Safari";if((t.includes("chrome/")||Ra(t))&&!t.includes("edge/"))return"Chrome";if(Oa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/firefox\//i.test(e)}function Aa(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/crios\//i.test(e)}function Da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/iemobile/i.test(e)}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/android/i.test(e)}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/blackberry/i.test(e)}function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/webos/i.test(e)}function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fa(){return function(){const e=xi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();return Ma(e)||Oa(e)||ja(e)||La(e)||/windows phone/i.test(e)||Da(e)}function Va(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ia(xi());break;case"Worker":t="".concat(Ia(xi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ho,"/").concat(r)}class za{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(iO){r(iO)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(iO){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===iO||void 0===iO?void 0:iO.message})}}}class Ba{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class qa{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wa(this),this.idTokenSubscription=new Wa(this),this.beforeStateQueue=new za(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ao,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ka(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(iO){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ua(this,{idToken:e}),n=await Sa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lo(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(iO){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(iO))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Vo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(iO){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await va(e)}catch(iO){if((null===iO||void 0===iO?void 0:iO.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lo(this.app))return Promise.reject(Mo(this));const t=e?Xi(e):null;return t&&Vo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lo(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lo(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ea(e,"GET","/v2/passwordPolicy",Zo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ba(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ai("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ea(e,"POST","/v2/accounts:revokeToken",Zo(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ka(e)||this._popupRedirectResolver;Vo(t,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ka(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vo(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Va(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Ro.logLevel<=ns.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ro.warn("Auth (".concat(ho,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ha(e){return Xi(e)}class Wa{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ki(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Vo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ka={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ga(e){return Ka.loadJS(e)}function Qa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ya{constructor(){this.enterprise=new Xa}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Xa{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $a="NO_RECAPTCHA";class Ja{constructor(e){this.type="recaptcha-enterprise",this.auth=Ha(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;aa(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n($a)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ya).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ca(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new la(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&aa(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ka.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ga(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Za(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ja(e);let o;if(i)o=$a;else try{o=await s.verify(n)}catch(Sw){o=await s.verify(n,!0)}const a=h({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function el(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Za(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Za(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Za(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Za(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Za(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function tl(e){const t=Ha(e),n=await ca(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new la(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ja(t).verify()}}function nl(e,t,n){const r=Ha(e);Vo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=rl(t),{host:o,port:a}=function(e){const t=rl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:il(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:il(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Vo(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Vo(Vi(c,r.config.emulator)&&Vi(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,yi(o)?(vi("".concat(s,"//").concat(o).concat(l)),Si("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rl(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function il(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class sl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,t){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}async function ol(e,t){return ea(e,"POST","/v1/accounts:signUp",t)}async function al(e,t){return na(e,"POST","/v1/accounts:signInWithPassword",Zo(e,t))}class ll extends sl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ll(e,t,"password")}static _fromEmailAndCode(e,t){return new ll(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return el(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",al,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return na(e,"POST","/v1/accounts:signInWithEmailLink",Zo(e,t))}(e,{email:this._email,oobCode:this._password});default:Oo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return el(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ol,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return na(e,"POST","/v1/accounts:signInWithEmailLink",Zo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Oo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cl(e,t){return na(e,"POST","/v1/accounts:signInWithIdp",Zo(e,t))}class ul extends sl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,No);if(!n||!r)return null;const s=new ul(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return cl(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bi(t)}return e}}async function hl(e,t){return ea(e,"POST","/v1/accounts:sendVerificationCode",Zo(e,t))}const dl={USER_NOT_FOUND:"user-not-found"};class fl extends sl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zo(e,t));if(n.temporaryProof)throw oa(e,"account-exists-with-different-credential",n);return n}(e,h({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zo(e,h(h({},t),{},{operation:"REAUTH"})),dl)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fl({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pl{constructor(e){var t,n,r,i,s,o;const a=qi(Hi(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Vo(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=qi(Hi(e)).link,n=t?qi(Hi(t)).deep_link_id:null,r=qi(Hi(e)).deep_link_id;return(r?qi(Hi(r)).link:null)||r||n||t||e}(e);try{return new pl(t)}catch(n){return null}}}class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,t){return ll._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pl.parseLink(t);return Vo(n,"argument-error"),ll._fromEmailAndCode(e,n.code,n.tenantId)}}ml.PROVIDER_ID="password",ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yl extends gl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vl extends yl{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vl.credential(t.oauthAccessToken)}catch(n){return null}}}vl.FACEBOOK_SIGN_IN_METHOD="facebook.com",vl.PROVIDER_ID="facebook.com";class bl extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ul._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bl.credential(n,r)}catch(i){return null}}}bl.GOOGLE_SIGN_IN_METHOD="google.com",bl.PROVIDER_ID="google.com";class wl extends yl{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wl.credential(t.oauthAccessToken)}catch(n){return null}}}wl.GITHUB_SIGN_IN_METHOD="github.com",wl.PROVIDER_ID="github.com";class _l extends yl{constructor(){super("twitter.com")}static credential(e,t){return ul._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return _l.credential(n,r)}catch(i){return null}}}async function Sl(e,t){return na(e,"POST","/v1/accounts:signUp",Zo(e,t))}_l.TWITTER_SIGN_IN_METHOD="twitter.com",_l.PROVIDER_ID="twitter.com";class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Sa._fromIdTokenResponse(e,n,r),s=kl(n);return new xl({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=kl(n);return new xl({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function kl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class El extends Pi{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,El.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new El(e,t,n,r)}}function Tl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw El._fromErrorAndOperation(e,n,t,r);throw n})}async function Cl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ma(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xl._forOperation(e,"link",r)}async function Nl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(lo(r.app))return Promise.reject(Mo(r));const i="reauthenticate";try{const s=await ma(e,Tl(r,i,t,e),n);Vo(s.idToken,r,"internal-error");const o=fa(s.idToken);Vo(o,r,"internal-error");const{sub:a}=o;return Vo(e.uid===a,r,"user-mismatch"),xl._forOperation(e,i,s)}catch(iO){throw(null===iO||void 0===iO?void 0:iO.code)==="auth/".concat("user-not-found")&&Oo(r,"user-mismatch"),iO}}async function Il(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(lo(e.app))return Promise.reject(Mo(e));const r="signIn",i=await Tl(e,r,t),s=await xl._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Pl(e,t){return Il(Ha(e),t)}async function Al(e){const t=Ha(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Rl(e,t,n,r){return Xi(e).onAuthStateChanged(t,n,r)}function Dl(e){return Xi(e).signOut()}function Ol(e,t){return ea(e,"POST","/v2/accounts/mfaEnrollment:start",Zo(e,t))}new WeakMap;const Ll="__sak";class jl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ml extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ua(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fa()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ml.type="LOCAL";const Fl=Ml;function Ul(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Vl(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class zl{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Vl(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ul(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Vl(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Vl(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ul(n);const i=setInterval(()=>{const e=Ul(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}zl.type="COOKIE";class Bl extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bl.type="SESSION";const ql=Bl;class Hl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Hl(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hl.receivers=[];class Kl{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=Wl("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Gl(){return window}function Ql(){return"undefined"!==typeof Gl().WorkerGlobalScope&&"function"===typeof Gl().importScripts}const Yl="firebaseLocalStorageDb",Xl="firebaseLocalStorage",$l="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zl(e,t){return e.transaction([Xl],t?"readwrite":"readonly").objectStore(Xl)}function ec(){const e=indexedDB.open(Yl,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Xl,{keyPath:$l})}catch(iO){n(iO)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Xl)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Yl);return new Jl(e).toPromise()}(),t(await ec()))})})}async function tc(e,t,n){const r=Zl(e,!0).put({[$l]:t,value:n});return new Jl(r).toPromise()}function nc(e,t){const n=Zl(e,!0).delete(t);return new Jl(n).toPromise()}class rc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ec()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(iO){if(t++>3)throw iO;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ql()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hl._getInstance(Ql()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Kl(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ec();return await tc(e,Ll,"1"),await nc(e,Ll),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tc(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Zl(e,!1).get(t),r=await new Jl(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nc(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Zl(e,!1).getAll();return new Jl(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rc.type="LOCAL";const ic=rc;function sc(e,t){return ea(e,"POST","/v2/accounts/mfaSignIn:start",Zo(e,t))}Qa("rcb"),new Go(3e4,6e4);const oc="recaptcha";async function ac(e,t,n){if(!e._getRecaptchaConfig())try{await tl(e)}catch(Sw){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Vo("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=el(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===$a){Vo((null===n||void 0===n?void 0:n.type)===oc,e,"argument-error");return Ol(e,await lc(e,t,n))}return Ol(e,t)},"PHONE_PROVIDER"),o=await s.catch(e=>Promise.reject(e));return o.phoneSessionInfo.sessionInfo}{var r;Vo("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Vo(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=el(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===$a){Vo((null===n||void 0===n?void 0:n.type)===oc,e,"argument-error");return sc(e,await lc(e,t,n))}return sc(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=el(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===$a){Vo((null===n||void 0===n?void 0:n.type)===oc,e,"argument-error");return hl(e,await lc(e,t,n))}return hl(e,t)},"PHONE_PROVIDER"),s=await r.catch(e=>Promise.reject(e));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function lc(e,t,n){Vo(n.type===oc,e,"argument-error");const r=await n.verify();Vo("string"===typeof r,e,"argument-error");const i=h({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class cc{constructor(e){this.providerId=cc.PROVIDER_ID,this.auth=Ha(e)}verifyPhoneNumber(e,t){return ac(this.auth,e,Xi(t))}static credential(e,t){return fl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return cc.credentialFromTaggedObject(t)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fl._fromTokenResponse(n,r):null}}function uc(e,t){return t?ka(t):(Vo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cc.PROVIDER_ID="phone",cc.PHONE_SIGN_IN_METHOD="phone";class hc extends sl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dc(e){return Il(e.auth,new hc(e),e.bypassAuthState)}function fc(e){const{auth:t,user:n}=e;return Vo(n,t,"internal-error"),Nl(n,new hc(e),e.bypassAuthState)}async function pc(e){const{auth:t,user:n}=e;return Vo(n,t,"internal-error"),Cl(n,new hc(e),e.bypassAuthState)}class mc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(iO){this.reject(iO)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(iO){this.reject(iO)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dc;case"linkViaPopup":case"linkViaRedirect":return pc;case"reauthViaPopup":case"reauthViaRedirect":return fc;default:Oo(this.auth,"internal-error")}}resolve(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gc=new Go(2e3,1e4);async function yc(e,t,n){if(lo(e.app))return Promise.reject(Lo(e,"operation-not-supported-in-this-environment"));const r=Ha(e);Fo(e,t,gl);const i=uc(r,n);return new vc(r,"signInViaPopup",t,i).executeNotNull()}class vc extends mc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vo(e,this.auth,"internal-error"),e}async onExecution(){Bo(1===this.filter.length,"Popup operations only handle one event");const e=Wl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Lo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Lo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lo(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,gc.get())};e()}}vc.currentPopupAction=null;const bc=new Map;class wc extends mc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=xc(t),r=Sc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(iO){e=()=>Promise.reject(iO)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _c(e,t){bc.set(e._key(),t)}function Sc(e){return ka(e._redirectPersistence)}function xc(e){return Ca("pendingRedirect",e.config.apiKey,e.name)}async function kc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(lo(e.app))return Promise.reject(Mo(e));const r=Ha(e),i=uc(r,t),s=new wc(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ec{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Cc(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tc(e))}saveEventToCache(e){this.cachedEventUids.add(Tc(e)),this.lastProcessedEventTime=Date.now()}}function Tc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Cc(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Nc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ic=/^https?/;async function Pc(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ea(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ac(r))return}catch(n){}Oo(e,"unauthorized-domain")}function Ac(e){const t=qo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ic.test(n))return!1;if(Nc.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Rc=new Go(3e4,6e4);function Dc(){const e=Gl().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Oc(e){return new Promise((t,n)=>{var r,i;function s(){Dc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dc(),n(Lo(e,"network-request-failed"))},timeout:Rc.get()})}if(null!==(r=Gl().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Gl().gapi)||void 0===i||!i.load){const t=Qa("iframefcb");return Gl()[t]=()=>{gapi.load?s():n(Lo(e,"network-request-failed"))},Ga("".concat(Ka.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Lc=null,e})}let Lc=null;const jc=new Go(5e3,15e3),Mc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uc(e){const t=e.config;Vo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ho},i=Fc.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Bi(r).slice(1))}async function Vc(e){const t=await function(e){return Lc=Lc||Oc(e),Lc}(e),n=Gl().gapi;return Vo(n,e,"internal-error"),t.open({where:document.body,url:Uc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mc,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Lo(e,"network-request-failed"),s=Gl().setTimeout(()=>{r(i)},jc.get());function o(){Gl().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const zc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(iO){}}}function qc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=h(h({},zc),{},{width:r.toString(),height:i.toString(),top:s,left:o}),c=xi().toLowerCase();n&&(a=Ra(c)?"_blank":n),Pa(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Ma(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Bc(null);const d=window.open(t||"",a,u);Vo(d,e,"popup-blocked");try{d.focus()}catch(iO){}return new Bc(d)}const Hc="__/auth/handler",Wc="emulator/auth/handler",Kc=encodeURIComponent("fac");async function Gc(e,t,n,r,i,s){Vo(e.config.authDomain,e,"auth-domain-config-required"),Vo(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ho,eventId:i};if(t instanceof gl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Fi(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof yl){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Kc,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Hc);return Qo(t,Wc)}(e),"?").concat(Bi(a).slice(1)).concat(c)}const Qc="webStorageSupport";const Yc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ql,this._completeRedirectFn=kc,this._overrideRedirectResult=_c}async _openPopup(e,t,n,r){var i;Bo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return qc(e,await Gc(e,t,n,qo(),r),Wl())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Gl().location.href=e}(await Gc(e,t,n,qo(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Vc(e),n=new Ec(e);return t.register("authEvent",t=>{Vo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qc,{type:Qc},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Qc];void 0!==i&&t(!!i),Oo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pc(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ua()||Aa()||Ma()}};var Xc="@firebase/auth",$c="1.11.0";class Jc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zc=mi("authIdTokenMaxAge")||300;let eu=null;function tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();const t=ao(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ao(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Vi(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Oo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Yc,persistence:[ic,Fl,ql]}),r=mi("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Zc)return;const r=null===t||void 0===t?void 0:t.token;eu!==r&&(eu=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Xi(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Xi(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=di("auth");return s&&nl(n,"http://".concat(s)),n}var nu,ru;nu={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Lo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ka=nu,ru="Browser",oo(new $i("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Vo(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:ru,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Va(ru)},c=new qa(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ka);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),oo(new $i("auth-internal",e=>(e=>new Jc(e))(Ha(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),mo(Xc,$c,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ru)),mo(Xc,$c,"esm2020");var iu,su,ou="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},au={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||c.l(e)>0;)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,su=au.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},iu=au.Integer=r}).apply("undefined"!==typeof ou?ou:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var lu,cu,uu,hu,du,fu,pu,mu,gu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yu={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof gu&&gu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function x(){this.u=this.u,this.C=this.C}function k(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},k.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){k.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,k),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),I=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function D(e){const t={};for(const n in e)t[n]=e[n];return t}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<O.length;t++)n=O[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=F(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new P(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=X(n),e&&e[N]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[U]=l=new j(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[N]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[N]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[N])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[U]=null)):A(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[U])instanceof j?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){x.call(this),this.i=new j(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new k(t,e);else if(t instanceof k)t.target=t.target||e;else{var i=t;L(t=new k(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&M(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,x),$.prototype[N]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){x.call(this),this.h=e,this.g={}}u(ne,x);var re=[];function ie(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){k.call(this,"d")}function de(){k.call(this,"c")}u(he,k),u(de,k);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){k.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){k.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){k.call(this,fe.Ja,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Se(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,k),fe.STAT_EVENT="statevent",u(ve,k),fe.Ja="timingevent",u(we,k),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var ke,Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Ne(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},ke=new Ce;var Re={},De={};function Oe(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?D(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function je(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=_e(l(e.aa,e),t)}function Ve(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=_e(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var a=o,c=r.O;c&&(a.H=c),a.D&&(Ve(a),Fe(a)),r.g=o}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!je(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,be(12),Be(this),ze(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==De){4==l&&(this.m=4,be(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Re){this.m=4,be(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),qe(this,t)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else xe(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),ze(this)}}}catch($u){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,ze(this)):Ue(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=_t(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(_t(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(_t(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new ae}function kt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Et(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"===typeof e?null!=n&&Ne(n):it(e,t,n))}function At(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=_t(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ne(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ne(n[t])),e.push(r)}}return this.i=e.join("&")},u(kt,le),kt.prototype.g=function(){return new Et(this.i,this.h)},u(Et,$),(e=Et.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):Nt(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Et.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,$);var Rt=/^https?$/i,Dt=["POST","PUT"];function Ot(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Mt(e)}function Lt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function jt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Rt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=Ft(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Lt(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||_(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Oe(n,r,t)}function Gt(e,t){e.H&&R(e.H,function(e,n){it(t,n,e)}),e.l&&R({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(bu){throw e.push(s+"type="+encodeURIComponent("_badmap")),bu}}catch(bu){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||_(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=_e(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=_e(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Se;if(s.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new kt({ab:n})):new At(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ke.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ot(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Dt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ot(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?jt(this):this.Xa())},e.Xa=function(){jt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let s=this.o;if(this.U&&(s?(s=D(s),L(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),s&&(this.R?t="headers="+Ne(It(s))+"&"+t:this.u&&Pt(n,this.u,s)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Oe(i,n,null)):Oe(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=_e(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,an),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,mu=yu.createWebChannelTransport=function(){return new ln},pu=yu.getStatEventTarget=function(){return me()},fu=yu.Event=fe,du=yu.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,hu=yu.ErrorCode=Ee,Te.COMPLETE="complete",uu=yu.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,cu=yu.WebChannel=ce,yu.FetchXmlHttpFactory=kt,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,lu=yu.XhrIo=At}).apply("undefined"!==typeof gu?gu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const vu="@firebase/firestore",bu="4.9.2";class wu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wu.UNAUTHENTICATED=new wu(null),wu.GOOGLE_CREDENTIALS=new wu("google-credentials-uid"),wu.FIRST_PARTY=new wu("first-party-uid"),wu.MOCK_USER=new wu("mock-user");let _u="12.3.0";const Su=new as("@firebase/firestore");function xu(){return Su.logLevel}function ku(e){if(Su.logLevel<=ns.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);Su.debug("Firestore (".concat(_u,"): ").concat(e),...i)}}function Eu(e){if(Su.logLevel<=ns.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);Su.error("Firestore (".concat(_u,"): ").concat(e),...i)}}function Tu(e){if(Su.logLevel<=ns.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);Su.warn("Firestore (".concat(_u,"): ").concat(e),...i)}}function Cu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Nu(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Iu(e,r,n)}function Iu(e,t,n){let r="FIRESTORE (".concat(_u,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Eu(r),new Error(r)}function Pu(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Iu(t,i,r)}function Au(e,t){return e}const Ru={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Du extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ou{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Lu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ju{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wu.UNAUTHENTICATED))}shutdown(){}}class Mu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fu{constructor(e){this.t=e,this.currentUser=wu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pu(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ou;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ou,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ku("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ku("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ou)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ku("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Pu("string"==typeof t.accessToken,31837,{l:t}),new Lu(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pu(null===e||"string"==typeof e,2055,{h:e}),new wu(e)}}class Uu{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=wu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vu{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Uu(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bu{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pu(void 0===this.o,3512);const n=e=>{null!=e.error&&ku("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ku("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ku("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ku("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zu(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Pu("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new zu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Hu{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=qu(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Wu(e,t){return e<t?-1:e>t?1:0}function Ku(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Yu(n)===Yu(i)?Wu(n,i):Yu(n)?1:-1}return Wu(e.length,t.length)}const Gu=55296,Qu=57343;function Yu(e){const t=e.charCodeAt(0);return t>=Gu&&t<=Qu}function Xu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const $u="__name__";class Ju{constructor(e,t,n){void 0===t?t=0:t>e.length&&Nu(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Nu(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ju.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ju?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ju.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Wu(e.length,t.length)}static compareSegments(e,t){const n=Ju.isNumericId(e),r=Ju.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ju.extractNumericId(e).compare(Ju.extractNumericId(t)):Ku(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return iu.fromString(e.substring(4,e.length-2))}}class Zu extends Ju{construct(e,t,n){return new Zu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Du(Ru.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Zu(e)}static emptyPath(){return new Zu([])}}const eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class th extends Ju{construct(e,t,n){return new th(e,t,n)}static isValidIdentifier(e){return eh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),th.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===$u}static keyField(){return new th([$u])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Du(Ru.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Du(Ru.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Du(Ru.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Du(Ru.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new th(t)}static emptyPath(){return new th([])}}class nh{constructor(e){this.path=e}static fromPath(e){return new nh(Zu.fromString(e))}static fromName(e){return new nh(Zu.fromString(e).popFirst(5))}static empty(){return new nh(Zu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nh(new Zu(e.slice()))}}function rh(e,t,n){if(!n)throw new Du(Ru.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ih(e){if(!nh.isDocumentKey(e))throw new Du(Ru.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sh(e){if(nh.isDocumentKey(e))throw new Du(Ru.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oh(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ah(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Nu(12329,{type:typeof e})}function lh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Du(Ru.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(e);throw new Du(Ru.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ch(e,t){const n={typeString:e};return t&&(n.value=t),n}function uh(e,t){if(!oh(e))throw new Du(Ru.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Du(Ru.INVALID_ARGUMENT,n);return!0}const hh=-62135596800,dh=1e6;class fh{static now(){return fh.fromMillis(Date.now())}static fromDate(e){return fh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*dh);return new fh(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hh)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dh}_compareTo(e){return this.seconds===e.seconds?Wu(this.nanoseconds,e.nanoseconds):Wu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fh._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uh(e,fh._jsonSchema))return new fh(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fh._jsonSchemaVersion="firestore/timestamp/1.0",fh._jsonSchema={type:ch("string",fh._jsonSchemaVersion),seconds:ch("number"),nanoseconds:ch("number")};class ph{static fromTimestamp(e){return new ph(e)}static min(){return new ph(new fh(0,0))}static max(){return new ph(new fh(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mh=-1;class gh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}gh.UNKNOWN_ID=-1;function yh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ph.fromTimestamp(1e9===r?new fh(n+1,0):new fh(n,r));return new bh(i,nh.empty(),t)}function vh(e){return new bh(e.readTime,e.key,mh)}class bh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new bh(ph.min(),nh.empty(),mh)}static max(){return new bh(ph.max(),nh.empty(),mh)}}function wh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=nh.comparator(e.documentKey,t.documentKey),0!==n?n:Wu(e.largestBatchId,t.largestBatchId))}const _h="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function xh(e){if(e.code!==Ru.FAILED_PRECONDITION||e.message!==_h)throw e;ku("LocalStore","Unexpectedly lost primary lease")}class kh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nu(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new kh((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof kh?t:kh.resolve(t)}catch(e){return kh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):kh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):kh.reject(t)}static resolve(e){return new kh((t,n)=>{t(e)})}static reject(e){return new kh((t,n)=>{n(e)})}static waitFor(e){return new kh((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=kh.resolve(!1);for(const n of e)t=t.next(e=>e?kh.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new kh((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new kh((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Eh(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Th(e){return"IndexedDbTransactionError"===e.name}class Ch{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Nh=-1;function Ih(e){return null==e}function Ph(e){return 0===e&&1/e==-1/0}function Ah(e){return"number"==typeof e&&Number.isInteger(e)&&!Ph(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Rh="\x01";function Dh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Lh(t)),t=Oh(e.get(n),t);return Lh(t)}function Oh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Rh:n+="\x01\x11";break;default:n+=t}}return n}function Lh(e){return e+Rh+"\x01"}const jh="remoteDocuments",Mh="owner",Fh="mutationQueues",Uh="mutations";const Vh="documentMutations",zh="remoteDocumentsV14",Bh="remoteDocumentGlobal",qh="targets",Hh="targetDocuments",Wh="targetGlobal",Kh="collectionParents",Gh="clientMetadata",Qh="bundles",Yh="namedQueries",Xh="indexConfiguration",$h="indexState",Jh="indexEntries",Zh="documentOverlays",ed="globals",td=[Fh,Uh,Vh,jh,qh,Mh,Wh,Hh,Gh,Bh,Kh,Qh,Yh],nd=[Fh,Uh,Vh,zh,qh,Mh,Wh,Hh,Gh,Bh,Kh,Qh,Yh,Zh],rd=nd,id=[...rd,Xh,$h,Jh];function sd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function od(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ad(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ld{constructor(e,t){this.comparator=e,this.root=t||ud.EMPTY}insert(e,t){return new ld(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ud.BLACK,null,null))}remove(e){return new ld(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ud.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ud{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ud.RED,this.left=null!=r?r:ud.EMPTY,this.right=null!=i?i:ud.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ud(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ud.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ud.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ud.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ud.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nu(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nu(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nu(27949);return e+(this.isRed()?0:1)}}ud.EMPTY=null,ud.RED=!0,ud.BLACK=!1,ud.EMPTY=new class{constructor(){this.size=0}get key(){throw Nu(57766)}get value(){throw Nu(16141)}get color(){throw Nu(16727)}get left(){throw Nu(29726)}get right(){throw Nu(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ud(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hd{constructor(e){this.comparator=e,this.data=new ld(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dd(this.data.getIterator())}getIteratorFrom(e){return new dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof hd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hd(this.comparator);return t.data=e,t}}class dd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fd{constructor(e){this.fields=e,e.sort(th.comparator)}static empty(){return new fd([])}unionWith(e){let t=new hd(th.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class pd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class md{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pd("Invalid base64 string: "+e):e}}(e);return new md(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new md(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}md.EMPTY_BYTE_STRING=new md("");const gd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yd(e){if(Pu(!!e,39018),"string"==typeof e){let t=0;const n=gd.exec(e);if(Pu(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vd(e.seconds),nanos:vd(e.nanos)}}function vd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bd(e){return"string"==typeof e?md.fromBase64String(e):md.fromUint8Array(e)}const wd="server_timestamp",_d="__type__",Sd="__previous_value__",xd="__local_write_time__";function kd(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[_d])||void 0===t?void 0:t.stringValue)===wd}function Ed(e){const t=e.mapValue.fields[Sd];return kd(t)?Ed(t):t}function Td(e){const t=yd(e.mapValue.fields[xd].timestampValue);return new fh(t.seconds,t.nanos)}class Cd{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Nd="(default)";class Id{constructor(e,t){this.projectId=e,this.database=t||Nd}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===Nd}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}const Pd="__type__",Ad="__max__",Rd={mapValue:{fields:{__type__:{stringValue:Ad}}}},Dd="__vector__",Od="value";function Ld(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kd(e)?4:Jd(e)?9007199254740991:Xd(e)?10:11:Nu(28295,{value:e})}function jd(e,t){if(e===t)return!0;const n=Ld(e);if(n!==Ld(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Td(e).isEqual(Td(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=yd(e.timestampValue),r=yd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bd(e.bytesValue).isEqual(bd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vd(e.geoPointValue.latitude)===vd(t.geoPointValue.latitude)&&vd(e.geoPointValue.longitude)===vd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vd(e.integerValue)===vd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vd(e.doubleValue),r=vd(t.doubleValue);return n===r?Ph(n)===Ph(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xu(e.arrayValue.values||[],t.arrayValue.values||[],jd);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sd(n)!==sd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jd(n[i],r[i])))return!1;return!0}(e,t);default:return Nu(52216,{left:e})}}function Md(e,t){return void 0!==(e.values||[]).find(e=>jd(e,t))}function Fd(e,t){if(e===t)return 0;const n=Ld(e),r=Ld(t);if(n!==r)return Wu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vd(e.integerValue||e.doubleValue),r=vd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ud(e.timestampValue,t.timestampValue);case 4:return Ud(Td(e),Td(t));case 5:return Ku(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bd(e),r=bd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Wu(n[i],r[i]);if(0!==e)return e}return Wu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Wu(vd(e.latitude),vd(t.latitude));return 0!==n?n:Wu(vd(e.longitude),vd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vd(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const o=e.fields||{},a=t.fields||{},l=null===(n=o[Od])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Od])||void 0===r?void 0:r.arrayValue,u=Wu((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Vd(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Rd.mapValue&&t===Rd.mapValue)return 0;if(e===Rd.mapValue)return 1;if(t===Rd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ku(r[o],s[o]);if(0!==e)return e;const t=Fd(n[r[o]],i[s[o]]);if(0!==t)return t}return Wu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Nu(23264,{he:n})}}function Ud(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wu(e,t);const n=yd(e),r=yd(t),i=Wu(n.seconds,r.seconds);return 0!==i?i:Wu(n.nanos,r.nanos)}function Vd(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Fd(n[i],r[i]);if(e)return e}return Wu(n.length,r.length)}function zd(e){return Bd(e)}function Bd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=yd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return bd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return nh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Bd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Bd(e.fields[i]));return n+"}"}(e.mapValue):Nu(61005,{value:e})}function qd(e){switch(Ld(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ed(e);return t?16+qd(t):16;case 5:return 2*e.stringValue.length;case 6:return bd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+qd(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return od(e.fields,(e,n)=>{t+=e.length+qd(n)}),t}(e.mapValue);default:throw Nu(13486,{value:e})}}function Hd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Wd(e){return!!e&&"integerValue"in e}function Kd(e){return!!e&&"arrayValue"in e}function Gd(e){return!!e&&"nullValue"in e}function Qd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yd(e){return!!e&&"mapValue"in e}function Xd(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Pd])||void 0===t?void 0:t.stringValue)===Dd}function $d(e){if(e.geoPointValue)return{geoPointValue:h({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:h({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return od(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=$d(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$d(e.arrayValue.values[n]);return t}return h({},e)}function Jd(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ad}class Zd{constructor(e){this.value=e}static empty(){return new Zd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$d(t)}setAll(e){let t=th.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=$d(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){od(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Zd($d(this.value))}}function ef(e){const t=[];return od(e.fields,(e,n)=>{const r=new th([e]);if(Yd(n)){const e=ef(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new fd(t)}class tf{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new tf(e,0,ph.min(),ph.min(),ph.min(),Zd.empty(),0)}static newFoundDocument(e,t,n,r){return new tf(e,1,t,ph.min(),n,r,0)}static newNoDocument(e,t){return new tf(e,2,t,ph.min(),ph.min(),Zd.empty(),0)}static newUnknownDocument(e,t){return new tf(e,3,t,ph.min(),ph.min(),Zd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ph.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ph.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class nf{constructor(e,t){this.position=e,this.inclusive=t}}function rf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?nh.comparator(nh.fromName(o.referenceValue),n.key):Fd(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jd(e.position[n],t.position[n]))return!1;return!0}class of{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function af(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class lf{}class cf extends lf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yf(e,t,n):"array-contains"===t?new _f(e,n):"in"===t?new Sf(e,n):"not-in"===t?new xf(e,n):"array-contains-any"===t?new kf(e,n):new cf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new vf(e,n):new bf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Fd(t,this.value)):null!==t&&Ld(this.value)===Ld(t)&&this.matchesComparison(Fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nu(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class uf extends lf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new uf(e,t)}matches(e){return hf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hf(e){return"and"===e.op}function df(e){return ff(e)&&hf(e)}function ff(e){for(const t of e.filters)if(t instanceof uf)return!1;return!0}function pf(e){if(e instanceof cf)return e.field.canonicalString()+e.op.toString()+zd(e.value);if(df(e))return e.filters.map(e=>pf(e)).join(",");{const t=e.filters.map(e=>pf(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function mf(e,t){return e instanceof cf?function(e,t){return t instanceof cf&&e.op===t.op&&e.field.isEqual(t.field)&&jd(e.value,t.value)}(e,t):e instanceof uf?function(e,t){return t instanceof uf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&mf(n,t.filters[r]),!0)}(e,t):void Nu(19439)}function gf(e){return e instanceof cf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(zd(e.value))}(e):e instanceof uf?function(e){return e.op.toString()+" {"+e.getFilters().map(gf).join(" ,")+"}"}(e):"Filter"}class yf extends cf{constructor(e,t,n){super(e,t,n),this.key=nh.fromName(n.referenceValue)}matches(e){const t=nh.comparator(e.key,this.key);return this.matchesComparison(t)}}class vf extends cf{constructor(e,t){super(e,"in",t),this.keys=wf("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bf extends cf{constructor(e,t){super(e,"not-in",t),this.keys=wf("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>nh.fromName(e.referenceValue))}class _f extends cf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kd(t)&&Md(t.arrayValue,this.value)}}class Sf extends cf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Md(this.value.arrayValue,t)}}class xf extends cf{constructor(e,t){super(e,"not-in",t)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Md(this.value.arrayValue,t)}}class kf extends cf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Md(this.value.arrayValue,e))}}class Ef{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Tf(e){return new Ef(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cf(e){const t=Au(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>pf(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ih(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>zd(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>zd(e)).join(",")),t.Te=e}return t.Te}function Nf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!af(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sf(e.startAt,t.startAt)&&sf(e.endAt,t.endAt)}function If(e){return nh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Pf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Af(e,t,n,r,i,s,o,a){return new Pf(e,t,n,r,i,s,o,a)}function Rf(e){return new Pf(e)}function Df(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Of(e){return null!==e.collectionGroup}function Lf(e){const t=Au(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new hd(th.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new of(r,n))}),e.has(th.keyField().canonicalString())||t.Ie.push(new of(th.keyField(),n))}return t.Ie}function jf(e){const t=Au(e);return t.Ee||(t.Ee=Mf(t,Lf(e))),t.Ee}function Mf(e,t){if("F"===e.limitType)return Tf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new of(e.field,t)});const n=e.endAt?new nf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nf(e.startAt.position,e.startAt.inclusive):null;return Tf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ff(e,t){const n=e.filters.concat([t]);return new Pf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Uf(e,t,n){return new Pf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vf(e,t){return Nf(jf(e),jf(t))&&e.limitType===t.limitType}function zf(e){return"".concat(Cf(jf(e)),"|lt:").concat(e.limitType)}function Bf(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>gf(e)).join(", "),"]")),Ih(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>zd(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>zd(e)).join(",")),"Target(".concat(t,")")}(jf(e)),"; limitType=").concat(e.limitType,")")}function qf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Lf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=rf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lf(e),t))&&!(e.endAt&&!function(e,t,n){const r=rf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lf(e),t))}(e,t)}function Hf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wf(e){return(t,n)=>{let r=!1;for(const i of Lf(e)){const e=Kf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Kf(e,t,n){const r=e.field.isKeyField()?nh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fd(r,i):Nu(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nu(19790,{direction:e.dir})}}class Gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){od(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ad(this.inner)}size(){return this.innerSize}}const Qf=new ld(nh.comparator);function Yf(){return Qf}const Xf=new ld(nh.comparator);function $f(){let e=Xf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Jf(e){let t=Xf;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Zf(){return tp()}function ep(){return tp()}function tp(){return new Gf(e=>e.toString(),(e,t)=>e.isEqual(t))}const np=new ld(nh.comparator),rp=new hd(nh.comparator);function ip(){let e=rp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const sp=new hd(Wu);function op(){return sp}function ap(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(t)?"-0":t}}function lp(e){return{integerValue:""+e}}function cp(e,t){return Ah(t)?lp(t):ap(e,t)}class up{constructor(){this._=void 0}}function hp(e,t,n){return e instanceof pp?function(e,t){const n={fields:{[_d]:{stringValue:wd},[xd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&kd(t)&&(t=Ed(t)),t&&(n.fields[Sd]=t),{mapValue:n}}(n,t):e instanceof mp?gp(e,t):e instanceof yp?vp(e,t):function(e,t){const n=fp(e,t),r=wp(n)+wp(e.Ae);return Wd(n)&&Wd(e.Ae)?lp(r):ap(e.serializer,r)}(e,t)}function dp(e,t,n){return e instanceof mp?gp(e,t):e instanceof yp?vp(e,t):n}function fp(e,t){return e instanceof bp?function(e){return Wd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class pp extends up{}class mp extends up{constructor(e){super(),this.elements=e}}function gp(e,t){const n=_p(t);for(const r of e.elements)n.some(e=>jd(e,r))||n.push(r);return{arrayValue:{values:n}}}class yp extends up{constructor(e){super(),this.elements=e}}function vp(e,t){let n=_p(t);for(const r of e.elements)n=n.filter(e=>!jd(e,r));return{arrayValue:{values:n}}}class bp extends up{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function wp(e){return vd(e.integerValue||e.doubleValue)}function _p(e){return Kd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sp{constructor(e,t){this.field=e,this.transform=t}}class xp{constructor(e,t){this.version=e,this.transformResults=t}}class kp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kp}static exists(e){return new kp(void 0,e)}static updateTime(e){return new kp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ep(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Tp{}function Cp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mp(e.key,kp.none()):new Rp(e.key,e.data,kp.none());{const n=e.data,r=Zd.empty();let i=new hd(th.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Dp(e.key,r,new fd(i.toArray()),kp.none())}}function Np(e,t,n){e instanceof Rp?function(e,t,n){const r=e.value.clone(),i=Lp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dp?function(e,t,n){if(!Ep(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Lp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Op(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ip(e,t,n,r){return e instanceof Rp?function(e,t,n,r){if(!Ep(e.precondition,t))return n;const i=e.value.clone(),s=jp(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dp?function(e,t,n,r){if(!Ep(e.precondition,t))return n;const i=jp(e.fieldTransforms,r,t),s=t.data;return s.setAll(Op(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ep(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=fp(r.transform,e||null);null!=i&&(null===n&&(n=Zd.empty()),n.set(r.field,i))}return n||null}function Ap(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mp&&t instanceof mp||e instanceof yp&&t instanceof yp?Xu(e.elements,t.elements,jd):e instanceof bp&&t instanceof bp?jd(e.Ae,t.Ae):e instanceof pp&&t instanceof pp}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rp extends Tp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dp extends Tp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Op(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Lp(e,t,n){const r=new Map;Pu(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,dp(o,a,n[i]))}return r}function jp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,hp(e,s,t))}return r}class Mp extends Tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fp extends Tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Up{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Np(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ip(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ip(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ep();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Cp(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ph.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ip())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,(e,t)=>Ap(e,t))&&Xu(this.baseMutations,e.baseMutations,(e,t)=>Ap(e,t))}}class Vp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Pu(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=np;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Vp(e,t,n,r)}}class zp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Bp{constructor(e,t){this.count=e,this.unchangedNames=t}}var qp,Hp;function Wp(e){switch(e){case Ru.OK:return Nu(64938);case Ru.CANCELLED:case Ru.UNKNOWN:case Ru.DEADLINE_EXCEEDED:case Ru.RESOURCE_EXHAUSTED:case Ru.INTERNAL:case Ru.UNAVAILABLE:case Ru.UNAUTHENTICATED:return!1;case Ru.INVALID_ARGUMENT:case Ru.NOT_FOUND:case Ru.ALREADY_EXISTS:case Ru.PERMISSION_DENIED:case Ru.FAILED_PRECONDITION:case Ru.ABORTED:case Ru.OUT_OF_RANGE:case Ru.UNIMPLEMENTED:case Ru.DATA_LOSS:return!0;default:return Nu(15467,{code:e})}}function Kp(e){if(void 0===e)return Eu("GRPC error has no .code"),Ru.UNKNOWN;switch(e){case qp.OK:return Ru.OK;case qp.CANCELLED:return Ru.CANCELLED;case qp.UNKNOWN:return Ru.UNKNOWN;case qp.DEADLINE_EXCEEDED:return Ru.DEADLINE_EXCEEDED;case qp.RESOURCE_EXHAUSTED:return Ru.RESOURCE_EXHAUSTED;case qp.INTERNAL:return Ru.INTERNAL;case qp.UNAVAILABLE:return Ru.UNAVAILABLE;case qp.UNAUTHENTICATED:return Ru.UNAUTHENTICATED;case qp.INVALID_ARGUMENT:return Ru.INVALID_ARGUMENT;case qp.NOT_FOUND:return Ru.NOT_FOUND;case qp.ALREADY_EXISTS:return Ru.ALREADY_EXISTS;case qp.PERMISSION_DENIED:return Ru.PERMISSION_DENIED;case qp.FAILED_PRECONDITION:return Ru.FAILED_PRECONDITION;case qp.ABORTED:return Ru.ABORTED;case qp.OUT_OF_RANGE:return Ru.OUT_OF_RANGE;case qp.UNIMPLEMENTED:return Ru.UNIMPLEMENTED;case qp.DATA_LOSS:return Ru.DATA_LOSS;default:return Nu(39323,{code:e})}}(Hp=qp||(qp={}))[Hp.OK=0]="OK",Hp[Hp.CANCELLED=1]="CANCELLED",Hp[Hp.UNKNOWN=2]="UNKNOWN",Hp[Hp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hp[Hp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hp[Hp.NOT_FOUND=5]="NOT_FOUND",Hp[Hp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hp[Hp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hp[Hp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hp[Hp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hp[Hp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hp[Hp.ABORTED=10]="ABORTED",Hp[Hp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hp[Hp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hp[Hp.INTERNAL=13]="INTERNAL",Hp[Hp.UNAVAILABLE=14]="UNAVAILABLE",Hp[Hp.DATA_LOSS=15]="DATA_LOSS";let Gp=null;function Qp(){return new TextEncoder}const Yp=new iu([4294967295,4294967295],0);function Xp(e){const t=Qp().encode(e),n=new su;return n.update(t),new Uint8Array(n.digest())}function $p(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new iu([n,r],0),new iu([i,s],0)]}class Jp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Zp("Invalid padding: ".concat(t));if(n<0)throw new Zp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Zp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Zp("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=iu.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(iu.fromNumber(n)));return 1===r.compare(Yp)&&(r=new iu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Xp(e),[n,r]=$p(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Jp(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=Xp(e),[n,r]=$p(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Zp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class em{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new em(ph.min(),r,new ld(Wu),Yf(),ip())}}class tm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tm(n,t,ip(),ip(),ip())}}class nm{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class rm{constructor(e,t){this.targetId=e,this.Ce=t}}class im{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:md.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sm{constructor(){this.ve=0,this.Fe=lm(),this.Me=md.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ip(),t=ip(),n=ip();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Nu(38017,{changeType:i})}}),new tm(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=lm()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pu(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class om{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yf(),this.Je=am(),this.He=am(),this.Ye=new ld(Wu)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Nu(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(If(s))if(0===n){const e=new nh(s.path);this.et(t,e,tf.newNoDocument(e,ph.min()))}else Pu(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Gp)||void 0===i||i.lt(function(e,t,n,r,i,s,o,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===h||void 0===h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(o=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=bd(n).toUint8Array()}catch(e){if(e instanceof pd)return Tu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Jp(s,r,i)}catch(e){return Tu(e instanceof Zp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&If(i.target)){const t=new nh(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,tf.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ip();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new em(e,t,this.Ye,this.je,n);return this.je=Yf(),this.Je=am(),this.He=am(),this.Ye=new ld(Wu),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new sm,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new hd(Wu),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new hd(Wu),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ku("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sm),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function am(){return new ld(nh.comparator)}function lm(){return new ld(nh.comparator)}const cm={asc:"ASCENDING",desc:"DESCENDING"},um={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hm={and:"AND",or:"OR"};class dm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fm(e,t){return e.useProto3Json||Ih(t)?t:{value:t}}function pm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function mm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gm(e,t){return pm(e,t.toTimestamp())}function ym(e){return Pu(!!e,49232),ph.fromTimestamp(function(e){const t=yd(e);return new fh(t.seconds,t.nanos)}(e))}function vm(e,t){return bm(e,t).canonicalString()}function bm(e,t){const n=function(e){return new Zu(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function wm(e){const t=Zu.fromString(e);return Pu(Vm(t),10190,{key:t.toString()}),t}function _m(e,t){return vm(e.databaseId,t.path)}function Sm(e,t){const n=wm(t);if(n.get(1)!==e.databaseId.projectId)throw new Du(Ru.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Du(Ru.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nh(Tm(n))}function xm(e,t){return vm(e.databaseId,t)}function km(e){const t=wm(e);return 4===t.length?Zu.emptyPath():Tm(t)}function Em(e){return new Zu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tm(e){return Pu(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Cm(e,t,n){return{name:_m(e,t),fields:n.value.mapValue.fields}}function Nm(e,t){let n;if(t instanceof Rp)n={update:Cm(e,t.key,t.value)};else if(t instanceof Mp)n={delete:_m(e,t.key)};else if(t instanceof Dp)n={update:Cm(e,t.key,t.data),updateMask:Um(t.fieldMask)};else{if(!(t instanceof Fp))return Nu(16599,{Vt:t.type});n={verify:_m(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof pp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bp)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Nu(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Nu(27497)}(e,t.precondition)),n}function Im(e,t){return{documents:[xm(e,t.path)]}}function Pm(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xm(e,i);const s=function(e){if(0!==e.length)return Fm(uf.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:jm(e.field),direction:Dm(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fm(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Am(e){let t=km(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pu(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Rm(e);return t instanceof uf&&df(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new of(Mm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ih(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new nf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new nf(n,t)}(n.endAt)),Af(t,i,o,s,a,"F",l,c)}function Rm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mm(e.unaryFilter.field);return cf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Mm(e.unaryFilter.field);return cf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mm(e.unaryFilter.field);return cf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mm(e.unaryFilter.field);return cf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nu(61313);default:return Nu(60726)}}(e):void 0!==e.fieldFilter?function(e){return cf.create(Mm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nu(58110);default:return Nu(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return uf.create(e.compositeFilter.filters.map(e=>Rm(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Nu(1026)}}(e.compositeFilter.op))}(e):Nu(30097,{filter:e})}function Dm(e){return cm[e]}function Om(e){return um[e]}function Lm(e){return hm[e]}function jm(e){return{fieldPath:e.canonicalString()}}function Mm(e){return th.fromServerFormat(e.fieldPath)}function Fm(e){return e instanceof cf?function(e){if("=="===e.op){if(Qd(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NAN"}};if(Gd(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qd(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NOT_NAN"}};if(Gd(e.value))return{unaryFilter:{field:jm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jm(e.field),op:Om(e.op),value:e.value}}}(e):e instanceof uf?function(e){const t=e.getFilters().map(e=>Fm(e));return 1===t.length?t[0]:{compositeFilter:{op:Lm(e.op),filters:t}}}(e):Nu(54877,{filter:e})}function Um(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ph.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ph.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:md.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new zm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bm{constructor(e){this.yt=e}}function qm(e){const t=Am({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uf(t,t.limit,"L"):t}class Hm{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(vd(e.integerValue));else if("doubleValue"in e){const n=vd(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ph(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=yd(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(bd(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Jd(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Xd(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Nu(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Od,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(vd(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),nh.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Hm.Kt=new Hm;class Wm{constructor(){this.Cn=new Km}addToCollectionParentIndex(e,t){return this.Cn.add(t),kh.resolve()}getCollectionParents(e,t){return kh.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return kh.resolve()}deleteFieldIndex(e,t){return kh.resolve()}deleteAllFieldIndexes(e){return kh.resolve()}createTargetIndexes(e,t){return kh.resolve()}getDocumentsMatchingTarget(e,t){return kh.resolve(null)}getIndexType(e,t){return kh.resolve(0)}getFieldIndexes(e,t){return kh.resolve([])}getNextCollectionGroupToUpdate(e){return kh.resolve(null)}getMinOffset(e,t){return kh.resolve(bh.min())}getMinOffsetFromCollectionGroup(e,t){return kh.resolve(bh.min())}updateCollectionGroup(e,t,n){return kh.resolve()}updateIndexEntries(e,t){return kh.resolve()}}class Km{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hd(Zu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new hd(Zu.comparator)).toArray()}}new Uint8Array(0);const Gm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qm=41943040;class Ym{static withCacheSize(e){return new Ym(e,Ym.DEFAULT_COLLECTION_PERCENTILE,Ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ym.DEFAULT_COLLECTION_PERCENTILE=10,Ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ym.DEFAULT=new Ym(Qm,Ym.DEFAULT_COLLECTION_PERCENTILE,Ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ym.DISABLED=new Ym(-1,0,0);class Xm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xm(0)}static cr(){return new Xm(-1)}}const $m="LruGarbageCollector",Jm=1048576;function Zm(e,t){let[n,r]=e,[i,s]=t;const o=Wu(n,i);return 0===o?Wu(r,s):o}class eg{constructor(e){this.Ir=e,this.buffer=new hd(Zm),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Zm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ku($m,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Th(e)?ku($m,"Ignoring IndexedDB error during garbage collection: ",e):await xh(e)}await this.Vr(3e5)})}}class ng{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return kh.resolve(Ch.ce);const n=new eg(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ku("LruGarbageCollector","Garbage collection skipped; disabled"),kh.resolve(Gm)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ku("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Gm):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ku("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),xu()<=ns.DEBUG&&ku("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),kh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function rg(e,t){return new ng(e,t)}class ig{constructor(){this.changes=new Gf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?kh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class og{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ip(n.mutation,e,fd.empty(),fh.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ip()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ip();const r=Zf();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=$f();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Zf();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ip()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Yf();const s=tp(),o=tp();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dp)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Ip(o.mutation,t,o.mutation.getFieldMask(),fh.now())):s.set(t.key,fd.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new sg(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=tp();let r=new ld((e,t)=>e-t),i=ip();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||fd.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ip()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=ep();l.forEach(e=>{if(!i.has(e)){const r=Cp(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return kh.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return nh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Of(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):kh.resolve(Zf());let o=mh,a=i;return s.next(t=>kh.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?kh.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,ip())).next(e=>({batchId:o,changes:Jf(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nh(t)).next(e=>{let t=$f();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=$f();return this.indexManager.getCollectionParents(e,i).next(o=>kh.forEach(o,o=>{const a=function(e,t){return new Pf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,tf.newInvalidDocument(r)))});let n=$f();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Ip(s.mutation,r,fd.empty(),fh.now()),qf(t,r)&&(n=n.insert(e,r))}),n})}}class ag{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return kh.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ym(e.createTime)}}(t)),kh.resolve()}getNamedQuery(e,t){return kh.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:qm(e.bundledQuery),readTime:ym(e.readTime)}}(t)),kh.resolve()}}class lg{constructor(){this.overlays=new ld(nh.comparator),this.qr=new Map}getOverlay(e,t){return kh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Zf();return kh.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),kh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),kh.resolve()}getOverlaysForCollection(e,t,n){const r=Zf(),i=t.length+1,s=new nh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return kh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ld((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Zf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Zf(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return kh.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new zp(t,n));let i=this.qr.get(t);void 0===i&&(i=ip(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class cg{constructor(){this.sessionToken=md.EMPTY_BYTE_STRING}getSessionToken(e){return kh.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,kh.resolve()}}class ug{constructor(){this.Qr=new hd(hg.$r),this.Ur=new hd(hg.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new hg(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new hg(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new nh(new Zu([])),n=new hg(t,e),r=new hg(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new nh(new Zu([])),n=new hg(t,e),r=new hg(t,e+1);let i=ip();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new hg(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class hg{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return nh.comparator(e.key,t.key)||Wu(e.Yr,t.Yr)}static Kr(e,t){return Wu(e.Yr,t.Yr)||nh.comparator(e.key,t.key)}}class dg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new hd(hg.$r)}checkEmpty(e){return kh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Up(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new hg(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return kh.resolve(s)}lookupMutationBatch(e,t){return kh.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return kh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return kh.resolve(0===this.mutationQueue.length?Nh:this.tr-1)}getAllMutationBatches(e){return kh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hg(t,0),r=new hg(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),kh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hd(Wu);return t.forEach(e=>{const t=new hg(e,0),r=new hg(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),kh.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;nh.isDocumentKey(i)||(i=i.child(""));const s=new hg(new nh(i),0);let o=new hd(Wu);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),kh.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Pu(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return kh.forEach(t.mutations,r=>{const i=new hg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new hg(t,0),r=this.Zr.firstAfterOrEqual(n);return kh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,kh.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fg{constructor(e){this.ri=e,this.docs=new ld(nh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return kh.resolve(n?n.document.mutableCopy():tf.newInvalidDocument(t))}getEntries(e,t){let n=Yf();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():tf.newInvalidDocument(e))}),kh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Yf();const s=t.path,o=new nh(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||wh(vh(o),n)<=0||(r.has(o.key)||qf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return kh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Nu(9500)}ii(e,t){return kh.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new pg(this)}getSize(e){return kh.resolve(this.size)}}class pg extends ig{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),kh.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class mg{constructor(e){this.persistence=e,this.si=new Gf(e=>Cf(e),Nf),this.lastRemoteSnapshotVersion=ph.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Xm.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),kh.resolve()}getLastRemoteSnapshotVersion(e){return kh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return kh.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),kh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),kh.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xm(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,kh.resolve()}updateTargetData(e,t){return this.Pr(t),kh.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,kh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),kh.waitFor(i).next(()=>r)}getTargetCount(e){return kh.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return kh.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),kh.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),kh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),kh.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return kh.resolve(n)}containsKey(e,t){return kh.resolve(this._i.containsKey(t))}}class gg{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new cg,this.referenceDelegate=e(this),this.Pi=new mg(this),this.indexManager=new Wm,this.remoteDocumentCache=function(e){return new fg(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Bm(t),this.Ii=new ag(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new dg(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ku("MemoryPersistence","Starting transaction:",e);const r=new yg(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return kh.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class yg extends Sh{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new vg(e)}get fi(){if(this.Vi)return this.Vi;throw Nu(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),kh.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),kh.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),kh.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kh.forEach(this.fi,n=>{const r=nh.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ph.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return kh.or([()=>kh.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bg{constructor(e,t){this.persistence=e,this.pi=new Gf(e=>Dh(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=rg(this,t)}static mi(e,t){return new bg(e,t)}Ei(){}di(e){return kh.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return kh.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?kh.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ph.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),kh.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),kh.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),kh.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),kh.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qd(e.data.value)),t}br(e,t,n){return kh.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return kh.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ip(),r=ip();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new wg(e,t.fromCache,n,r)}}class _g{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sg{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ni()?8:Eh(xi())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new _g;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(xu()<=ns.DEBUG&&ku("QueryEngine","SDK will not create cache indexes for query:",Bf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),kh.resolve()):(xu()<=ns.DEBUG&&ku("QueryEngine","Query:",Bf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(xu()<=ns.DEBUG&&ku("QueryEngine","The SDK decides to create cache indexes for query:",Bf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jf(t))):kh.resolve())}ys(e,t){if(Df(t))return kh.resolve(null);let n=jf(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Uf(t,null,"F"),n=jf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ip(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Uf(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Df(t)||r.isEqual(ph.min())?kh.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?kh.resolve(null):(xu()<=ns.DEBUG&&ku("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bf(t)),this.vs(e,s,t,yh(r,mh)).next(e=>e))})}Ds(e,t){let n=new hd(Wf(e));return t.forEach((t,r)=>{qf(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return xu()<=ns.DEBUG&&ku("QueryEngine","Using full collection scan to execute query:",Bf(t)),this.ps.getDocumentsMatchingQuery(e,t,bh.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const xg="LocalStore";class kg{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ld(Wu),this.xs=new Gf(e=>Cf(e),Nf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new og(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Eg(e,t,n,r){return new kg(e,t,n,r)}async function Tg(e,t){const n=Au(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=ip();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Cg(e){const t=Au(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Ng(e,t,n){let r=ip(),i=ip();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Yf();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ph.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ku(xg,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Ig(e,t){const n=Au(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Nh),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Pg(e,t){const n=Au(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,kh.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new zm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Ag(e,t,n){const r=Au(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Th(e))throw e;ku(xg,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Rg(e,t,n){const r=Au(e);let i=ph.min(),s=ip();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Au(e),i=r.xs.get(n);return void 0!==i?kh.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,jf(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:ph.min(),n?s:ip())).next(e=>(Dg(r,Hf(t),e),{documents:e,Qs:s})))}function Dg(e,t,n){let r=e.Os.get(t)||ph.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Og{constructor(){this.activeTargetIds=op()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lg{constructor(){this.Mo=new Og,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Og,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jg{Oo(e){}shutdown(){}}const Mg="ConnectivityMonitor";class Fg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ku(Mg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ku(Mg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ug=null;function Vg(){return null===Ug?Ug=268435456+Math.round(2147483648*Math.random()):Ug++,"0x"+Ug.toString(16)}const zg="RestConnection",Bg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qg{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Nd?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Vg(),o=this.zo(e,t.toUriEncodedString());ku(zg,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),c=yi(l);return this.Jo(e,o,a,n,c).then(t=>(ku(zg,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Tu(zg,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Bg[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Hg{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wg="WebChannelConnection";class Kg extends qg{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Vg();return new Promise((i,o)=>{const a=new lu;a.setWithCredentials(!0),a.listenOnce(uu.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case hu.NO_ERROR:const n=a.getResponseJson();ku(Wg,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case hu.TIMEOUT:ku(Wg,"RPC '".concat(e,"' ").concat(s," timed out")),o(new Du(Ru.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const r=a.getStatus();if(ku(Wg,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ru).indexOf(t)>=0?t:Ru.UNKNOWN}(n.status);o(new Du(e,n.message))}else o(new Du(Ru.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Du(Ru.UNAVAILABLE,"Connection failed."));break;default:Nu(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{ku(Wg,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);ku(Wg,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Vg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mu(),o=pu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ku(Wg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let h=!1,d=!1;const f=new Hg({Yo:t=>{d?ku(Wg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ku(Wg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ku(Wg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,cu.EventType.OPEN,()=>{d||(ku(Wg,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,cu.EventType.CLOSE,()=>{d||(d=!0,ku(Wg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,cu.EventType.ERROR,t=>{d||(d=!0,Tu(Wg,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Du(Ru.UNAVAILABLE,"The operation could not be completed")))}),p(u,cu.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];Pu(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){ku(Wg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=qp[e];if(void 0!==t)return Kp(t)}(t),i=o.message;void 0===n&&(n=Ru.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new Du(n,i)),u.close()}else ku(Wg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,fu.STAT_EVENT,t=>{t.stat===du.PROXY?ku(Wg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===du.NOPROXY&&ku(Wg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Gg(){return"undefined"!=typeof document?document:null}function Qg(e){return new dm(e,!0)}class Yg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ku("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Xg="PersistentStream";class $g{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yg(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ru.RESOURCE_EXHAUSTED?(Eu(t.toString()),Eu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ru.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Du(Ru.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ku(Xg,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ku(Xg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jg extends $g{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Nu(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Pu(void 0===t||"string"==typeof t,58123),md.fromBase64String(t||"")):(Pu(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),md.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ru.UNKNOWN:Kp(e.code);return new Du(t,e.message||"")}(o);n=new im(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sm(e,r.document.name),s=ym(r.document.updateTime),o=r.document.createTime?ym(r.document.createTime):ph.min(),a=new Zd({mapValue:{fields:r.document.fields}}),l=tf.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new nm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Sm(e,r.document),s=r.readTime?ym(r.readTime):ph.min(),o=tf.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Sm(e,r.document),s=r.removedTargetIds||[];n=new nm([],s,i,null)}else{if(!("filter"in t))return Nu(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Bp(r,i),o=e.targetId;n=new rm(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ph.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ph.min():t.readTime?ym(t.readTime):ph.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Em(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=If(r)?{documents:Im(e,r)}:{query:Pm(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=mm(e,t.resumeToken);const r=fm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ph.min())>0){n.readTime=pm(e,t.snapshotVersion.toTimestamp());const r=fm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nu(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Em(this.serializer),t.removeTarget=e,this.q_(t)}}class Zg extends $g{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Pu(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pu(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Pu(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Pu(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ym(e.updateTime):ym(t);return n.isEqual(ph.min())&&(n=ym(t)),new xp(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ym(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Nm(this.serializer,e))};this.q_(t)}}class ey{}class ty extends ey{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Du(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,bm(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Du(Ru.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,bm(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Du(Ru.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ny{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Eu(t),this.aa=!1):ku("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ry="RemoteStore";class iy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{fy(this)&&(ku(ry,"Restarting streams for network reachability change."),await async function(e){const t=Au(e);t.Ea.add(4),await oy(t),t.Ra.set("Unknown"),t.Ea.delete(4),await sy(t)}(this))})}),this.Ra=new ny(n,r)}}async function sy(e){if(fy(e))for(const t of e.da)await t(!0)}async function oy(e){for(const t of e.da)await t(!1)}function ay(e,t){const n=Au(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),dy(n)?hy(n):Ry(n).O_()&&cy(n,t))}function ly(e,t){const n=Au(e),r=Ry(n);n.Ia.delete(t),r.O_()&&uy(n,t),0===n.Ia.size&&(r.O_()?r.L_():fy(n)&&n.Ra.set("Unknown"))}function cy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ph.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ry(e).Y_(t)}function uy(e,t){e.Va.Ue(t),Ry(e).Z_(t)}function hy(e){e.Va=new om({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ry(e).start(),e.Ra.ua()}function dy(e){return fy(e)&&!Ry(e).x_()&&e.Ia.size>0}function fy(e){return 0===Au(e).Ea.size}function py(e){e.Va=void 0}async function my(e){e.Ra.set("Online")}async function gy(e){e.Ia.forEach((t,n)=>{cy(e,t)})}async function yy(e,t){py(e),dy(e)?(e.Ra.ha(t),hy(e)):e.Ra.set("Unknown")}async function vy(e,t,n){if(e.Ra.set("Online"),t instanceof im&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ku(ry,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await by(e,n)}else if(t instanceof nm?e.Va.Ze(t):t instanceof rm?e.Va.st(t):e.Va.tt(t),!n.isEqual(ph.min()))try{const t=await Cg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(md.EMPTY_BYTE_STRING,r.snapshotVersion)),uy(e,t);const i=new zm(r.target,t,n,r.sequenceNumber);cy(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ku(ry,"Failed to raise snapshot:",t),await by(e,t)}}async function by(e,t,n){if(!Th(t))throw t;e.Ea.add(1),await oy(e),e.Ra.set("Offline"),n||(n=()=>Cg(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ku(ry,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await sy(e)})}function wy(e,t){return t().catch(n=>by(e,n,t))}async function _y(e){const t=Au(e),n=Dy(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nh;for(;Sy(t);)try{const e=await Ig(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,xy(t,e)}catch(e){await by(t,e)}ky(t)&&Ey(t)}function Sy(e){return fy(e)&&e.Ta.length<10}function xy(e,t){e.Ta.push(t);const n=Dy(e);n.O_()&&n.X_&&n.ea(t.mutations)}function ky(e){return fy(e)&&!Dy(e).x_()&&e.Ta.length>0}function Ey(e){Dy(e).start()}async function Ty(e){Dy(e).ra()}async function Cy(e){const t=Dy(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ny(e,t,n){const r=e.Ta.shift(),i=Vp.from(r,t,n);await wy(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _y(e)}async function Iy(e,t){t&&Dy(e).X_&&await async function(e,t){if(function(e){return Wp(e)&&e!==Ru.ABORTED}(t.code)){const n=e.Ta.shift();Dy(e).B_(),await wy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _y(e)}}(e,t),ky(e)&&Ey(e)}async function Py(e,t){const n=Au(e);n.asyncQueue.verifyOperationInProgress(),ku(ry,"RemoteStore received new credentials");const r=fy(n);n.Ea.add(3),await oy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await sy(n)}async function Ay(e,t){const n=Au(e);t?(n.Ea.delete(2),await sy(n)):t||(n.Ea.add(2),await oy(n),n.Ra.set("Unknown"))}function Ry(e){return e.ma||(e.ma=function(e,t,n){const r=Au(e);return r.sa(),new Jg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:my.bind(null,e),t_:gy.bind(null,e),r_:yy.bind(null,e),H_:vy.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),dy(e)?hy(e):e.Ra.set("Unknown")):(await e.ma.stop(),py(e))})),e.ma}function Dy(e){return e.fa||(e.fa=function(e,t,n){const r=Au(e);return r.sa(),new Zg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ty.bind(null,e),r_:Iy.bind(null,e),ta:Cy.bind(null,e),na:Ny.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await _y(e)):(await e.fa.stop(),e.Ta.length>0&&(ku(ry,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Oy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ou,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Oy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Du(Ru.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(e,t){if(Eu("AsyncQueue","".concat(t,": ").concat(e)),Th(e))return new Du(Ru.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class jy{static emptySet(e){return new jy(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||nh.comparator(t.key,n.key):(e,t)=>nh.comparator(e.key,t.key),this.keyedMap=$f(),this.sortedSet=new ld(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class My{constructor(){this.ga=new ld(nh.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Nu(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Fy{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Fy(e,t,jy.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Uy{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Vy{constructor(){this.queries=zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Au(e),r=n.queries;n.queries=zy(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Du(Ru.ABORTED,"Firestore shutting down"))}}function zy(){return new Gf(e=>zf(e),Vf)}async function By(e,t){const n=Au(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Uy,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ly(e,"Initialization of query '".concat(Bf(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Ky(n)}async function qy(e,t){const n=Au(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hy(e,t){const n=Au(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Ky(n)}function Wy(e,t,n){const r=Au(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Ky(e){e.Ca.forEach(e=>{e.next()})}var Gy,Qy;(Qy=Gy||(Gy={})).Ma="default",Qy.Cache="cache";class Yy{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Fy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Fy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gy.Cache}}class Xy{constructor(e){this.key=e}}class $y{constructor(e){this.key=e}}class Jy{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ip(),this.mutatedKeys=ip(),this.eu=Wf(e),this.tu=new jy(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new My,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=qf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nu(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==s.length||l?{snapshot:new Fy(this.query,e.tu,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new My,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ip(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new $y(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Xy(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ip();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Fy.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Zy="SyncEngine";class ev{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tv{constructor(e){this.key=e,this.hu=!1}}class nv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Gf(e=>zf(e),Vf),this.Iu=new Map,this.Eu=new Set,this.du=new ld(nh.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Xm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function rv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=kv(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await sv(r,t,n,!0),i}async function iv(e,t){const n=kv(e);await sv(n,t,!0,!1)}async function sv(e,t,n,r){const i=await Pg(e.localStore,jf(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await ov(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&ay(e.remoteStore,i),a}async function ov(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Rg(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return vv(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await Rg(e.localStore,t,!0),o=new Jy(t,s.Qs),a=o.ru(s.documents),l=tm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);vv(e,n,c.au);const u=new ev(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function av(e,t,n){const r=Au(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Vf(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ag(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ly(r.remoteStore,i.targetId),gv(r,i.targetId)}).catch(xh)):(gv(r,i.targetId),await Ag(r.localStore,i.targetId,!0))}async function lv(e,t){const n=Au(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ly(n.remoteStore,r.targetId))}async function cv(e,t){const n=Au(e);try{const e=await function(e,t){const n=Au(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(md.EMPTY_BYTE_STRING,ph.min()).withLastLimboFreeSnapshotVersion(ph.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Pi.updateTargetData(e,c))});let a=Yf(),l=ip();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Ng(e,s,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(ph.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return kh.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Pu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Pu(r.hu,14607):e.removedDocuments.size>0&&(Pu(r.hu,42227),r.hu=!1))}),await _v(n,e,t)}catch(e){await xh(e)}}function uv(e,t,n){const r=Au(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Au(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Ky(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function hv(e,t,n){const r=Au(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new ld(nh.comparator);e=e.insert(s,tf.newNoDocument(s,ph.min()));const n=ip().add(s),i=new em(ph.min(),new Map,new ld(Wu),e,n);await cv(r,i),r.du=r.du.remove(s),r.Au.delete(t),wv(r)}else await Ag(r.localStore,t,!1).then(()=>gv(r,t,n)).catch(xh)}async function dv(e,t){const n=Au(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Au(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=kh.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Pu(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ip();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);mv(n,r,null),pv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _v(n,e)}catch(e){await xh(e)}}async function fv(e,t,n){const r=Au(e);try{const e=await function(e,t){const n=Au(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Pu(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);mv(r,t,n),pv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _v(r,e)}catch(n){await xh(n)}}function pv(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function mv(e,t,n){const r=Au(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function gv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||yv(e,t)})}function yv(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(ly(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),wv(e))}function vv(e,t,n){for(const r of n)r instanceof Xy?(e.Ru.addReference(r.key,t),bv(e,r)):r instanceof $y?(ku(Zy,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||yv(e,r.key)):Nu(19791,{wu:r})}function bv(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ku(Zy,"New document in limbo: "+n),e.Eu.add(r),wv(e))}function wv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new nh(Zu.fromString(t)),r=e.fu.next();e.Au.set(r,new tv(n)),e.du=e.du.insert(n,r),ay(e.remoteStore,new zm(jf(Rf(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function _v(e,t,n){const r=Au(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=wg.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=Au(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>kh.forEach(t,t=>kh.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>kh.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Th(e))throw e;ku(xg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Sv(e,t){const n=Au(e);if(!n.currentUser.isEqual(t)){ku(Zy,"User change. New user:",t.toKey());const e=await Tg(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Du(Ru.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _v(n,e.Ls)}}function xv(e,t){const n=Au(e),r=n.Au.get(t);if(r&&r.hu)return ip().add(r.key);{let e=ip();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function kv(e){const t=Au(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hv.bind(null,t),t.Pu.H_=Hy.bind(null,t.eventManager),t.Pu.yu=Wy.bind(null,t.eventManager),t}function Ev(e){const t=Au(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fv.bind(null,t),t}class Tv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Eg(this.persistence,new Sg,e.initialUser,this.serializer)}Cu(e){return new gg(vg.mi,this.serializer)}Du(e){return new Lg}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tv.provider={build:()=>new Tv};class Cv extends Tv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Pu(this.persistence.referenceDelegate instanceof bg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new tg(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Ym.withCacheSize(this.cacheSizeBytes):Ym.DEFAULT;return new gg(e=>bg.mi(e,t),this.serializer)}}class Nv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>uv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sv.bind(null,this.syncEngine),await Ay(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Vy}createDatastore(e){const t=Qg(e.databaseInfo.databaseId),n=function(e){return new Kg(e)}(e.databaseInfo);return function(e,t,n,r){return new ty(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new iy(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>uv(this.syncEngine,e,0),Fg.v()?new Fg:new jg)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new nv(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Au(e);ku(ry,"RemoteStore shutting down."),t.Ea.add(5),await oy(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Nv.provider={build:()=>new Nv};class Iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Eu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Pv="FirestoreClient";class Av{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=wu.UNAUTHENTICATED,this.clientId=Hu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ku(Pv,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ku(Pv,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ou;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ly(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Rv(e,t){e.asyncQueue.verifyOperationInProgress(),ku(Pv,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Tg(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Dv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ov(e);ku(Pv,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Py(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Py(t.remoteStore,n)),e._onlineComponents=t}async function Ov(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ku(Pv,"Using user provided OfflineComponentProvider");try{await Rv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ru.FAILED_PRECONDITION||e.code===Ru.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Tu("Error using user provided cache. Falling back to memory cache: "+n),await Rv(e,new Tv)}}else ku(Pv,"Using default OfflineComponentProvider"),await Rv(e,new Cv(void 0));return e._offlineComponents}async function Lv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ku(Pv,"Using user provided OnlineComponentProvider"),await Dv(e,e._uninitializedComponentsProvider._online)):(ku(Pv,"Using default OnlineComponentProvider"),await Dv(e,new Nv))),e._onlineComponents}function jv(e){return Lv(e).then(e=>e.syncEngine)}async function Mv(e){const t=await Lv(e),n=t.eventManager;return n.onListen=rv.bind(null,t.syncEngine),n.onUnlisten=av.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=iv.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lv.bind(null,t.syncEngine),n}function Fv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ou;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Iv({next:n=>{s.Nu(),t.enqueueAndForget(()=>qy(e,o)),n.fromCache&&"server"===r.source?i.reject(new Du(Ru.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Yy(n,s,{includeMetadataChanges:!0,qa:!0});return By(e,o)}(await Mv(e),e.asyncQueue,t,n,r)),r.promise}function Uv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Vv=new Map,zv="firestore.googleapis.com",Bv=!0;class qv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Du(Ru.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zv,this.ssl=Bv}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Bv;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Qm;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Jm)throw new Du(Ru.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Du(Ru.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Du(Ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Du(Ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Du(Ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Du(Ru.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Du(Ru.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ju;switch(e.type){case"firstParty":return new Vu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Du(Ru.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vv.get(e);t&&(ku("ComponentProvider","Removing Datastore"),Vv.delete(e),t.terminate())}(this),Promise.resolve()}}class Wv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wv(this.firestore,e,this._query)}}class Kv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kv(this.firestore,e,this._key)}toJSON(){return{type:Kv._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(uh(t,Kv._jsonSchema))return new Kv(e,n||null,new nh(Zu.fromString(t.referencePath)))}}Kv._jsonSchemaVersion="firestore/documentReference/1.0",Kv._jsonSchema={type:ch("string",Kv._jsonSchemaVersion),referencePath:ch("string")};class Gv extends Wv{constructor(e,t,n){super(e,t,Rf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kv(this.firestore,null,new nh(e))}withConverter(e){return new Gv(this.firestore,e,this._path)}}function Qv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xi(e),rh("collection","path",t),e instanceof Hv){const n=Zu.fromString(t,...r);return sh(n),new Gv(e,null,n)}{if(!(e instanceof Kv||e instanceof Gv))throw new Du(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zu.fromString(t,...r));return sh(n),new Gv(e.firestore,null,n)}}function Yv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xi(e),1===arguments.length&&(t=Hu.newId()),rh("doc","path",t),e instanceof Hv){const n=Zu.fromString(t,...r);return ih(n),new Kv(e,null,new nh(n))}{if(!(e instanceof Kv||e instanceof Gv))throw new Du(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zu.fromString(t,...r));return ih(n),new Kv(e.firestore,e instanceof Gv?e.converter:null,new nh(n))}}const Xv="AsyncQueue";class $v{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yg(this,"async_queue_retry"),this._c=()=>{const e=Gg();e&&ku(Xv,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Gg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ou;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(iO){if(!Th(iO))throw iO;ku(Xv,"Operation failed with retryable error: "+iO)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Eu("INTERNAL UNHANDLED ERROR: ",Jv(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Oy.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Nu(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Jv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Zv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class eb extends Hv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new $v,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $v(e),this._firestoreClient=void 0,await e}}}function tb(e){if(e._terminated)throw new Du(Ru.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||nb(e),e._firestoreClient}function nb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Cd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Uv(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Av(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class rb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rb(md.fromBase64String(e))}catch(e){throw new Du(Ru.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rb(md.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rb._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uh(e,rb._jsonSchema))return rb.fromBase64String(e.bytes)}}rb._jsonSchemaVersion="firestore/bytes/1.0",rb._jsonSchema={type:ch("string",rb._jsonSchemaVersion),bytes:ch("string")};class ib{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Du(Ru.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new th(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sb{constructor(e){this._methodName=e}}class ob{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Du(Ru.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Du(Ru.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Wu(this._lat,e._lat)||Wu(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ob._jsonSchemaVersion}}static fromJSON(e){if(uh(e,ob._jsonSchema))return new ob(e.latitude,e.longitude)}}ob._jsonSchemaVersion="firestore/geoPoint/1.0",ob._jsonSchema={type:ch("string",ob._jsonSchemaVersion),latitude:ch("number"),longitude:ch("number")};class ab{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ab._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uh(e,ab._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ab(e.vectorValues);throw new Du(Ru.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ab._jsonSchemaVersion="firestore/vectorValue/1.0",ab._jsonSchema={type:ch("string",ab._jsonSchemaVersion),vectorValues:ch("object")};const lb=/^__.*__$/;class cb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rp(e,this.data,t,this.fieldTransforms)}}class ub{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Dp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nu(40011,{Ac:e})}}class db{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new db(h(h({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(hb(this.Ac)&&lb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Qg(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new db({Ac:e,methodName:t,Dc:n,path:th.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pb(e){const t=e._freezeSettings(),n=Qg(e._databaseId);return new fb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mb(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);kb("Data must be an object, but it was:",o,r);const a=Sb(r,o);let l,c;if(s.merge)l=new fd(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Eb(t,r,n);if(!o.contains(i))throw new Du(Ru.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ib(e,i)||e.push(i)}l=new fd(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new cb(new Zd(a),l,c)}class gb extends sb{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gb}}class yb extends sb{_toFieldTransform(e){return new Sp(e.path,new pp)}isEqual(e){return e instanceof yb}}function vb(e,t,n,r){const i=e.Cc(1,t,n);kb("Data must be an object, but it was:",i,r);const s=[],o=Zd.empty();od(r,(e,r)=>{const a=Cb(t,e,n);r=Xi(r);const l=i.yc(a);if(r instanceof gb)s.push(a);else{const e=_b(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new fd(s);return new ub(o,a,i.fieldTransforms)}function bb(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[Eb(t,r,n)],l=[i];if(s.length%2!=0)throw new Du(Ru.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Eb(t,s[d])),l.push(s[d+1]);const c=[],u=Zd.empty();for(let d=a.length-1;d>=0;--d)if(!Ib(c,a[d])){const e=a[d];let t=l[d];t=Xi(t);const n=o.yc(e);if(t instanceof gb)c.push(e);else{const r=_b(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new fd(c);return new ub(u,h,o.fieldTransforms)}function wb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _b(n,e.Cc(r?4:3,t))}function _b(e,t){if(xb(e=Xi(e)))return kb("Unsupported field value:",t,e),Sb(e,t);if(e instanceof sb)return function(e,t){if(!hb(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_b(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Xi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fh.fromDate(e);return{timestampValue:pm(t.serializer,n)}}if(e instanceof fh){const n=new fh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pm(t.serializer,n)}}if(e instanceof ob)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rb)return{bytesValue:mm(t.serializer,e._byteString)};if(e instanceof Kv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:vm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ab)return function(e,t){return{mapValue:{fields:{[Pd]:{stringValue:Dd},[Od]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return ap(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ah(e)))}(e,t)}function Sb(e,t){const n={};return ad(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):od(e,(e,r)=>{const i=_b(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function xb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fh||e instanceof ob||e instanceof rb||e instanceof Kv||e instanceof sb||e instanceof ab)}function kb(e,t,n){if(!xb(n)||!oh(n)){const r=ah(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Eb(e,t,n){if((t=Xi(t))instanceof ib)return t._internalPath;if("string"==typeof t)return Cb(e,t);throw Nb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tb=new RegExp("[~\\*/\\[\\]]");function Cb(e,t,n){if(t.search(Tb)>=0)throw Nb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ib(...t.split("."))._internalPath}catch(r){throw Nb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Nb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Du(Ru.INVALID_ARGUMENT,a+e+l)}function Ib(e,t){return e.some(e=>e.isEqual(t))}class Pb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ab extends Pb{data(){return super.data()}}function Rb(e,t){return"string"==typeof t?Cb(e,t):t instanceof ib?t._internalPath:t._delegate._internalPath}function Db(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Du(Ru.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ob{}class Lb extends Ob{}function jb(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ob&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Ub).length,n=e.filter(e=>e instanceof Mb).length;if(t>1||t>0&&n>0)throw new Du(Ru.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Mb extends Lb{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Mb(e,t,n)}_apply(e){const t=this._parse(e);return Bb(e._query,t),new Wv(e.firestore,e.converter,Ff(e._query,t))}_parse(e){const t=pb(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Du(Ru.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){zb(o,s);const t=[];for(const n of o)t.push(Vb(r,e,n));a={arrayValue:{values:t}}}else a=Vb(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zb(o,s),a=wb(n,t,o,"in"===s||"not-in"===s);return cf.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Fb(e,t,n){const r=t,i=Rb("where",e);return Mb._create(i,r,n)}class Ub extends Ob{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ub(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:uf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Bb(n,i),n=Ff(n,i)}(e._query,t),new Wv(e.firestore,e.converter,Ff(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vb(e,t,n){if("string"==typeof(n=Xi(n))){if(""===n)throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Of(t)&&-1!==n.indexOf("/"))throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Zu.fromString(n));if(!nh.isDocumentKey(r))throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hd(e,new nh(r))}if(n instanceof Kv)return Hd(e,n._key);throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ah(n),"."))}function zb(e,t){if(!Array.isArray(e)||0===e.length)throw new Du(Ru.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Bb(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Du(Ru.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Du(Ru.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class qb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Nu(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return od(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Od].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>vd(e.doubleValue));return new ab(n)}convertGeoPoint(e){return new ob(vd(e.latitude),vd(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ed(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Td(e));default:return null}}convertTimestamp(e){const t=yd(e);return new fh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Zu.fromString(e);Pu(Vm(n),9688,{name:e});const r=new Id(n.get(1),n.get(3)),i=new nh(n.popFirst(5));return r.isEqual(t)||Eu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Hb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Wb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kb extends Pb{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Rb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Du(Ru.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Kb._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Kb._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kb._jsonSchema={type:ch("string",Kb._jsonSchemaVersion),bundleSource:ch("string","DocumentSnapshot"),bundleName:ch("string"),bundle:ch("string")};class Gb extends Kb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Gb(this._firestore,this._userDataWriter,n.key,n,new Wb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Du(Ru.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Gb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Gb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Yb(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Du(Ru.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qb._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nu(61501,{type:e})}}Qb._jsonSchemaVersion="firestore/querySnapshot/1.0",Qb._jsonSchema={type:ch("string",Qb._jsonSchemaVersion),bundleSource:ch("string","QuerySnapshot"),bundleName:ch("string"),bundle:ch("string")};class Xb extends qb{constructor(e){super(),this.firestore=e}convertBytes(e){return new rb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kv(this.firestore,null,t)}}function $b(e){e=lh(e,Wv);const t=lh(e.firestore,eb),n=tb(t),r=new Xb(t);return Db(e._query),Fv(n,e._query).then(n=>new Qb(t,r,e,n))}function Jb(e,t,n){e=lh(e,Kv);const r=lh(e.firestore,eb),i=Hb(e.converter,t,n);return tw(r,[mb(pb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kp.none())])}function Zb(e,t,n){e=lh(e,Kv);const r=lh(e.firestore,eb),i=pb(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Xi(t))||t instanceof ib?bb(i,"updateDoc",e._key,t,n,a):vb(i,"updateDoc",e._key,t),tw(r,[s.toMutation(e._key,kp.exists(!0))])}function ew(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Xi(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||Zv(n[s])||(i=n[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zv(n[s])){var a,l,c;const e=n[s];n[s]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,h,d;if(e instanceof Kv)h=lh(e.firestore,eb),d=Rf(e._key.path),u={next:t=>{n[s]&&n[s](nw(h,e,t))},error:n[s+1],complete:n[s+2]};else{const t=lh(e,Wv);h=lh(t.firestore,eb),d=t._query;const r=new Xb(h);u={next:e=>{n[s]&&n[s](new Qb(h,r,t,e))},error:n[s+1],complete:n[s+2]},Db(e._query)}return function(e,t,n,r){const i=new Iv(r),s=new Yy(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>By(await Mv(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>qy(await Mv(e),s))}}(tb(h),d,o,u)}function tw(e,t){return function(e,t){const n=new Ou;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ev(e);try{const e=await function(e,t){const n=Au(e),r=fh.now(),i=t.reduce((e,t)=>e.add(t.key),ip());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Yf(),l=ip();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Pp(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Dp(e.key,t,ef(t.value.mapValue),kp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Jf(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ld(Wu)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await _v(r,e.changes),await _y(r.remoteStore)}catch(e){const t=Ly(e,"Failed to persist write");n.reject(t)}}(await jv(e),t,n)),n.promise}(tb(e),t)}function nw(e,t,n){const r=n.docs.get(t._key),i=new Xb(e);return new Kb(e,i,t._key,r,new Wb(n.hasPendingWrites,n.fromCache),t.converter)}function rw(){return new yb("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_u=e}(ho),oo(new $i("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new eb(new Fu(e.getProvider("auth-internal")),new Bu(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Du(Ru.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(e.options.projectId,t)}(s,r),s);return i=h({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),mo(vu,bu,e),mo(vu,bu,"esm2020")}();const iw="@firebase/database",sw="1.1.0";let ow="";function aw(e){ow=e}class lw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Oi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Di(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class cw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ji(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const uw=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lw(t)}}catch(iO){}return new cw},hw=uw("localStorage"),dw=uw("sessionStorage"),fw=new as("@firebase/database"),pw=function(){let e=1;return function(){return e++}}(),mw=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Zr(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Wi;n.update(t);const r=n.digest();return ni.encodeByteArray(r)},gw=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=gw.apply(null,n):e+="object"===typeof n?Oi(n):n,e+=" "}return e};let yw=null,vw=!0;const bw=function(e,t){Zr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(fw.logLevel=ns.VERBOSE,yw=fw.log.bind(fw),t&&dw.set("logging_enabled",!0)):"function"===typeof e?yw=e:(yw=null,dw.remove("logging_enabled"))},ww=function(){if(!0===vw&&(vw=!1,null===yw&&!0===dw.get("logging_enabled")&&bw(!0)),yw){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=gw.apply(null,t);yw(r)}},_w=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ww(e,...n)}},Sw=function(){const e="FIREBASE INTERNAL ERROR: "+gw(...arguments);fw.error(e)},xw=function(){const e="FIREBASE FATAL ERROR: ".concat(gw(...arguments));throw fw.error(e),new Error(e)},kw=function(){const e="FIREBASE WARNING: "+gw(...arguments);fw.warn(e)},Ew=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Tw="[MIN_NAME]",Cw="[MAX_NAME]",Nw=function(e,t){if(e===t)return 0;if(e===Tw||t===Cw)return-1;if(t===Tw||e===Cw)return 1;{const n=jw(e),r=jw(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Iw=function(e,t){return e===t?0:e<t?-1:1},Pw=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Oi(t))},Aw=function(e){if("object"!==typeof e||null===e)return Oi(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Oi(t[r]),n+=":",n+=Aw(e[t[r]]);return n+="}",n},Rw=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Dw(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ow=function(e){Zr(!Ew(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Lw=new RegExp("^-?(0*)\\d{1,10}$"),jw=function(e){if(Lw.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Mw=function(e){try{e()}catch(iO){setTimeout(()=>{const t=iO.stack||"";throw kw("Exception was thrown by user callback.",t),iO},Math.floor(0))}},Fw=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Uw{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,lo(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){kw('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Vw{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(ww("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kw(e)}}class zw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zw.OWNER="owner";const Bw="5",qw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hw="ac",Ww="websocket",Kw="long_polling";class Gw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hw.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hw.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Qw(e,t,n){let r;if(Zr("string"===typeof t,"typeof type must == string"),Zr("object"===typeof n,"typeof params must == object"),t===Ww)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Kw)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Dw(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Yw{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ji(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ai(this.counters_)}}const Xw={},$w={};function Jw(e){const t=e.toString();return Xw[t]||(Xw[t]=new Yw),Xw[t]}class Zw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Mw(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const e_="start";class t_{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_w(e),this.stats_=Jw(t),this.urlFn=e=>(this.appCheckToken&&(e[Hw]=this.appCheckToken),Qw(t,Kw,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Zw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Ci()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new n_(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===e_)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},()=>{this.onClosed_()},this.urlFn);const e={};e[e_]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Bw,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Hw]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&qw.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t_.forceAllow_=!0}static forceDisallow(){t_.forceDisallow_=!0}static isAvailable(){return!Ci()&&(!!t_.forceAllow_||!t_.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Oi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ii(t),r=Rw(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ci())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Oi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class n_{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ci())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=pw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=n_.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(iO){ww("frame writing exception"),iO.stack&&ww(iO.stack),ww(iO)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ww("No IE domain setting required")}catch(iO){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){Ci()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{ww("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(iO){}},Math.floor(1))}}let r_=null;"undefined"!==typeof MozWebSocket?r_=MozWebSocket:"undefined"!==typeof WebSocket&&(r_=WebSocket);class i_{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_w(this.connId),this.stats_=Jw(t),this.connURL=i_.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=Bw,!Ci()&&"undefined"!==typeof location&&location.hostname&&qw.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[Hw]=r),i&&(s.p=i),Qw(e,Ww,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hw.set("previous_websocket_failure",!0);try{let e;if(Ci()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Bw,"/").concat(ow,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/Project_1_bt-",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new r_(this.connURL,[],e)}catch(iO){this.log_("Error instantiating WebSocket.");const t=iO.message||iO.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){i_.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==r_&&!i_.forceDisallow_}static previouslyFailed(){return hw.isInMemoryStorage||!0===hw.get("previous_websocket_failure")}markConnectionHealthy(){hw.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Di(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Zr(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Oi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Rw(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(iO){this.log_("Exception thrown from WebSocket.send():",iO.message||iO.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}i_.responsesRequiredToBeHealthy=2,i_.healthyTimeout=3e4;class s_{static get ALL_TRANSPORTS(){return[t_,i_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=i_&&i_.isAvailable();let n=t&&!i_.previouslyFailed();if(e.webSocketOnly&&(t||kw("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[i_];else{const e=this.transports_=[];for(const t of s_.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);s_.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}s_.globalTransportInitialized_=!1;class o_{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_w("c:"+this.id+":"),this.transportManager_=new s_(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pw("t",e),n=Pw("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pw("t",e),n=Pw("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pw("t",e);if("d"in e){const n=e.d;if("h"===t){const e=h({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Sw("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sw("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Bw!==n&&kw("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Fw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class a_{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class l_{constructor(e){this.allowedEvents_=e,this.listeners_={},Zr(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Zr(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class c_ extends l_{static getInstance(){return new c_}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||ki()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Zr("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class u_{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function h_(){return new u_("")}function d_(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function f_(e){return e.pieces_.length-e.pieceNum_}function p_(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new u_(e.pieces_,t)}function m_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function g_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function y_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new u_(t,0)}function v_(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof u_)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new u_(n,0)}function b_(e){return e.pieceNum_>=e.pieces_.length}function w_(e,t){const n=d_(e),r=d_(t);if(null===n)return t;if(n===r)return w_(p_(e),p_(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function __(e,t){const n=g_(e,0),r=g_(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Nw(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function S_(e,t){if(f_(e)!==f_(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function x_(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(f_(e)>f_(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class k_{constructor(e,t){this.errorPrefix_=t,this.parts_=g_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Yi(this.parts_[n]);E_(this)}}function E_(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+T_(e))}function T_(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class C_ extends l_{static getInstance(){return new C_}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return Zr("visible"===e,"Unknown event type: "+e),[this.visible_]}}const N_=1e3;class I_ extends a_{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=I_.nextPersistentConnectionId_++,this.log_=_w("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=N_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Ci())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");C_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&c_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Oi(i)),Zr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new gi,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Zr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Zr(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const s=i.d,o=i.s;I_.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&ji(e,"w")){const n=Mi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();kw("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Li(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Li(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Zr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Oi(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Sw("Unrecognized action received from server: "+Oi(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Zr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=N_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=N_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=N_),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+I_.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Zr(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?ww("getToken() completed but was canceled"):(ww("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new o_(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{kw(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(Sw){this.log_("Failed to get token: "+Sw),s||(this.repoInfo_.nodeAdmin&&kw(Sw),a())}}}interrupt(e){ww("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ww("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fi(this.interruptReasons_)&&(this.reconnectDelay_=N_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Aw(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new u_(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){ww("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ww("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Ci()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ow.replace(/\./g,"-")]=1,ki()?e["framework.cordova"]=1:Ti()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=c_.getInstance().currentlyOnline();return Fi(this.interruptReasons_)&&e}}I_.nextPersistentConnectionId_=0,I_.nextConnectionId_=0;class P_{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new P_(e,t)}}class A_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new P_(Tw,e),r=new P_(Tw,t);return 0!==this.compare(n,r)}minPost(){return P_.MIN}}let R_;class D_ extends A_{static get __EMPTY_NODE(){return R_}static set __EMPTY_NODE(e){R_=e}compare(e,t){return Nw(e.name,t.name)}isDefinedOn(e){throw ei("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return P_.MIN}maxPost(){return new P_(Cw,R_)}makePost(e,t){return Zr("string"===typeof e,"KeyIndex indexValue must always be a string."),new P_(e,R_)}toString(){return".key"}}const O_=new D_;class L_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class j_{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:j_.RED,this.left=null!=r?r:M_.EMPTY_NODE,this.right=null!=i?i:M_.EMPTY_NODE}copy(e,t,n,r,i){return new j_(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return M_.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return M_.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,j_.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,j_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}j_.RED=!0,j_.BLACK=!1;class M_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M_.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new M_(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,j_.BLACK,null,null))}remove(e){return new M_(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,j_.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new L_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new L_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new L_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new L_(this.root_,null,this.comparator_,!0,e)}}function F_(e,t){return Nw(e.name,t.name)}function U_(e,t){return Nw(e,t)}let V_;M_.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new j_(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const z_=function(e){return"number"===typeof e?"number:"+Ow(e):"string:"+e},B_=function(e){if(e.isLeafNode()){const t=e.val();Zr("string"===typeof t||"number"===typeof t||"object"===typeof t&&ji(t,".sv"),"Priority must be a string or number.")}else Zr(e===V_||e.isEmpty(),"priority of unexpected type.");Zr(e===V_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let q_,H_,W_;class K_{static set __childrenNodeConstructor(e){q_=e}static get __childrenNodeConstructor(){return q_}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K_.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Zr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),B_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new K_(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:K_.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return b_(e)?this:".priority"===d_(e)?this.priorityNode_:K_.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:K_.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=d_(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Zr(".priority"!==n||1===f_(e),".priority must be the last token in a path"),this.updateImmediateChild(n,K_.__childrenNodeConstructor.EMPTY_NODE.updateChild(p_(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+z_(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ow(this.value_):this.value_,this.lazyHash_=mw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===K_.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof K_.__childrenNodeConstructor?-1:(Zr(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=K_.VALUE_TYPE_ORDER.indexOf(t),i=K_.VALUE_TYPE_ORDER.indexOf(n);return Zr(r>=0,"Unknown leaf type: "+t),Zr(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}K_.VALUE_TYPE_ORDER=["object","boolean","number","string"];const G_=new class extends A_{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Nw(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return P_.MIN}maxPost(){return new P_(Cw,new K_("[PRIORITY-POST]",W_))}makePost(e,t){const n=H_(e);return new P_(t,new K_("[PRIORITY-POST]",n))}toString(){return".priority"}},Q_=Math.log(2);class Y_{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Q_,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const X_=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new j_(a,o.node,j_.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new j_(a,o.node,j_.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new j_(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,j_.BLACK):(a(r,j_.BLACK),a(r,j_.RED))}return s}(new Y_(e.length));return new M_(r||t,s)};let $_;const J_={};class Z_{static get Default(){return Zr(J_&&G_,"ChildrenNode.ts has not been loaded"),$_=$_||new Z_({".priority":J_},{".priority":G_}),$_}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Mi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof M_?t:null}hasIndex(e){return ji(this.indexSet_,e.toString())}addIndex(e,t){Zr(e!==O_,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(P_.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?X_(n,e.getCompare()):J_;const a=e.toString(),l=h({},this.indexSet_);l[a]=e;const c=h({},this.indexes_);return c[a]=s,new Z_(c,l)}addToIndexes(e,t){const n=Ui(this.indexes_,(n,r)=>{const i=Mi(this.indexSet_,r);if(Zr(i,"Missing index implementation for "+r),n===J_){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(P_.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),X_(n,i.getCompare())}return J_}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new P_(e.name,r))),i.insert(e,e.node)}});return new Z_(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ui(this.indexes_,n=>{if(n===J_)return n;{const r=t.get(e.name);return r?n.remove(new P_(e.name,r)):n}});return new Z_(n,this.indexSet_)}}let eS;class tS{static get EMPTY_NODE(){return eS||(eS=new tS(new M_(U_),null,Z_.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&B_(this.priorityNode_),this.children_.isEmpty()&&Zr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eS}updatePriority(e){return this.children_.isEmpty()?this:new tS(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?eS:t}}getChild(e){const t=d_(e);return null===t?this:this.getImmediateChild(t).getChild(p_(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Zr(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new P_(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?eS:this.priorityNode_;return new tS(r,s,i)}}updateChild(e,t){const n=d_(e);if(null===n)return t;{Zr(".priority"!==d_(e)||1===f_(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(p_(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(G_,(s,o)=>{t[s]=o.val(e),n++,i&&tS.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+z_(this.getPriority().val())+":"),this.forEachChild(G_,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":mw(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new P_(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new P_(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new P_(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,P_.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,P_.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nS?-1:0}withIndex(e){if(e===O_||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new tS(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===O_||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(G_),n=t.getIterator(G_);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===O_?null:this.indexMap_.get(e.toString())}}tS.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const nS=new class extends tS{constructor(){super(new M_(U_),tS.EMPTY_NODE,Z_.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tS.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(P_,{MIN:{value:new P_(Tw,tS.EMPTY_NODE)},MAX:{value:new P_(Cw,nS)}}),D_.__EMPTY_NODE=tS.EMPTY_NODE,K_.__childrenNodeConstructor=tS,V_=nS,function(e){W_=e}(nS);function rS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return tS.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Zr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new K_(e,rS(t))}if(e instanceof Array){let n=tS.EMPTY_NODE;return Dw(e,(t,r)=>{if(ji(e,t)&&"."!==t.substring(0,1)){const e=rS(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(rS(t))}{const n=[];let r=!1;if(Dw(e,(e,t)=>{if("."!==e.substring(0,1)){const i=rS(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new P_(e,i)))}}),0===n.length)return tS.EMPTY_NODE;const i=X_(n,F_,e=>e.name,U_);if(r){const e=X_(n,G_.getCompare());return new tS(i,rS(t),new Z_({".priority":e},{".priority":G_}))}return new tS(i,rS(t),Z_.Default)}}!function(e){H_=e}(rS);class iS extends A_{constructor(e){super(),this.indexPath_=e,Zr(!b_(e)&&".priority"!==d_(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Nw(e.name,t.name):i}makePost(e,t){const n=rS(e),r=tS.EMPTY_NODE.updateChild(this.indexPath_,n);return new P_(t,r)}maxPost(){const e=tS.EMPTY_NODE.updateChild(this.indexPath_,nS);return new P_(Cw,e)}toString(){return g_(this.indexPath_,0).join("/")}}const sS=new class extends A_{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Nw(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return P_.MIN}maxPost(){return P_.MAX}makePost(e,t){const n=rS(e);return new P_(t,n)}toString(){return".value"}};function oS(e){return{type:"value",snapshotNode:e}}function aS(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function lS(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function cS(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class uS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=G_}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Zr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Zr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tw}hasEnd(){return this.endSet_}getIndexEndValue(){return Zr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Zr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cw}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Zr(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===G_}copy(){const e=new uS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hS(e){const t={};if(e.isDefault())return t;let n;if(e.index_===G_?n="$priority":e.index_===sS?n="$value":e.index_===O_?n="$key":(Zr(e.index_ instanceof iS,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Oi(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Oi(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Oi(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Oi(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Oi(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dS(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==G_&&(t.i=e.index_.toString()),t}class fS extends a_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Zr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=_w("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=fS.getListenId_(e,n),o={};this.listens_[s]=o;const a=hS(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Mi(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=fS.getListenId_(e,t);delete this.listens_[n]}get(e){const t=hS(e._queryParams),n=e._path.toString(),r=new gi;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bi(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Di(a.responseText)}catch(iO){kw("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&kw("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class pS{constructor(){this.rootNode_=tS.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function mS(){return{value:null,children:new Map}}function gS(e,t,n){if(b_(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=d_(t);e.children.has(r)||e.children.set(r,mS());gS(e.children.get(r),t=p_(t),n)}}function yS(e,t){if(b_(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(G_,(t,n)=>{gS(e,new u_(t),n)}),yS(e,t)}}if(e.children.size>0){const n=d_(t);if(t=p_(t),e.children.has(n)){yS(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function vS(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{vS(r,new u_(t.toString()+"/"+e),n)})}class bS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=h({},e);return this.last_&&Dw(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class wS{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new bS(e);const n=1e4+2e4*Math.random();Fw(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Dw(e,(e,r)=>{r>0&&ji(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Fw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _S;function SS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_S||(_S={}));class xS{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_S.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(b_(this.path)){if(null!=this.affectedTree.value)return Zr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new u_(e));return new xS(h_(),t,this.revert)}}return Zr(d_(this.path)===e,"operationForChild called for unrelated child."),new xS(p_(this.path),this.affectedTree,this.revert)}}class kS{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_S.OVERWRITE}operationForChild(e){return b_(this.path)?new kS(this.source,h_(),this.snap.getImmediateChild(e)):new kS(this.source,p_(this.path),this.snap)}}class ES{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_S.MERGE}operationForChild(e){if(b_(this.path)){const t=this.children.subtree(new u_(e));return t.isEmpty()?null:t.value?new kS(this.source,h_(),t.value):new ES(this.source,h_(),t)}return Zr(d_(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ES(this.source,p_(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class TS{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(b_(e))return this.isFullyInitialized()&&!this.filtered_;const t=d_(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function CS(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw ei("Should only compare child_ events.");const r=new P_(t.childName,t.snapshotNode),i=new P_(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function NS(e,t){return{eventCache:e,serverCache:t}}function IS(e,t,n,r){return NS(new TS(t,n,r),e.serverCache)}function PS(e,t,n,r){return NS(e.eventCache,new TS(t,n,r))}function AS(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function RS(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let DS;class OS{static fromObject(e){let t=new OS(null);return Dw(e,(e,n)=>{t=t.set(new u_(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(DS||(DS=new M_(Iw)),DS);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:h_(),value:this.value};if(b_(e))return null;{const n=d_(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(p_(e),t);if(null!=i){return{path:v_(new u_(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(b_(e))return this;{const t=d_(e),n=this.children.get(t);return null!==n?n.subtree(p_(e)):new OS(null)}}set(e,t){if(b_(e))return new OS(t,this.children);{const n=d_(e),r=(this.children.get(n)||new OS(null)).set(p_(e),t),i=this.children.insert(n,r);return new OS(this.value,i)}}remove(e){if(b_(e))return this.children.isEmpty()?new OS(null):new OS(null,this.children);{const t=d_(e),n=this.children.get(t);if(n){const r=n.remove(p_(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new OS(null):new OS(this.value,i)}return this}}get(e){if(b_(e))return this.value;{const t=d_(e),n=this.children.get(t);return n?n.get(p_(e)):null}}setTree(e,t){if(b_(e))return t;{const n=d_(e),r=(this.children.get(n)||new OS(null)).setTree(p_(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new OS(this.value,i)}}fold(e){return this.fold_(h_(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(v_(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,h_(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(b_(e))return null;{const r=d_(e),i=this.children.get(r);return i?i.findOnPath_(p_(e),v_(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,h_(),t)}foreachOnPath_(e,t,n){if(b_(e))return this;{this.value&&n(t,this.value);const r=d_(e),i=this.children.get(r);return i?i.foreachOnPath_(p_(e),v_(t,r),n):new OS(null)}}foreach(e){this.foreach_(h_(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(v_(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class LS{constructor(e){this.writeTree_=e}static empty(){return new LS(new OS(null))}}function jS(e,t,n){if(b_(t))return new LS(new OS(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=w_(i,t);return s=s.updateChild(o,n),new LS(e.writeTree_.set(i,s))}{const r=new OS(n),i=e.writeTree_.setTree(t,r);return new LS(i)}}}function MS(e,t,n){let r=e;return Dw(n,(e,n)=>{r=jS(r,v_(t,e),n)}),r}function FS(e,t){if(b_(t))return LS.empty();{const n=e.writeTree_.setTree(t,new OS(null));return new LS(n)}}function US(e,t){return null!=VS(e,t)}function VS(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(w_(n.path,t)):null}function zS(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(G_,(e,n)=>{t.push(new P_(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new P_(e,n.value))}),t}function BS(e,t){if(b_(t))return e;{const n=VS(e,t);return new LS(null!=n?new OS(n):e.writeTree_.subtree(t))}}function qS(e){return e.writeTree_.isEmpty()}function HS(e,t){return WS(h_(),e.writeTree_,t)}function WS(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(Zr(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=WS(v_(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(v_(e,".priority"),r)),n}}function KS(e,t){return sx(t,e)}function GS(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Zr(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&QS(t,r.path)?i=!1:x_(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=XS(e.allWrites,YS,h_()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=FS(e.visibleWrites,r.path);else{Dw(r.children,t=>{e.visibleWrites=FS(e.visibleWrites,v_(r.path,t))})}return!0}return!1}function QS(e,t){if(e.snap)return x_(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&x_(v_(e.path,n),t))return!0;return!1}function YS(e){return e.visible}function XS(e,t,n){let r=LS.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)x_(n,e)?(t=w_(n,e),r=jS(r,t,s.snap)):x_(e,n)&&(t=w_(e,n),r=jS(r,h_(),s.snap.getChild(t)));else{if(!s.children)throw ei("WriteRecord should have .snap or .children");if(x_(n,e))t=w_(n,e),r=MS(r,t,s.children);else if(x_(e,n))if(t=w_(e,n),b_(t))r=MS(r,h_(),s.children);else{const e=Mi(s.children,d_(t));if(e){const n=e.getChild(p_(t));r=jS(r,h_(),n)}}}}}return r}function $S(e,t,n,r,i){if(r||i){const s=BS(e.visibleWrites,t);if(!i&&qS(s))return n;if(i||null!=n||US(s,h_())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(x_(e.path,t)||x_(t,e.path))};return HS(XS(e.allWrites,s,t),n||tS.EMPTY_NODE)}return null}{const r=VS(e.visibleWrites,t);if(null!=r)return r;{const r=BS(e.visibleWrites,t);if(qS(r))return n;if(null!=n||US(r,h_())){return HS(r,n||tS.EMPTY_NODE)}return null}}}function JS(e,t,n,r){return $S(e.writeTree,e.treePath,t,n,r)}function ZS(e,t){return function(e,t,n){let r=tS.EMPTY_NODE;const i=VS(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(G_,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=BS(e.visibleWrites,t);return n.forEachChild(G_,(e,t)=>{const n=HS(BS(i,new u_(e)),t);r=r.updateImmediateChild(e,n)}),zS(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return zS(BS(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function ex(e,t,n,r){return function(e,t,n,r,i){Zr(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=v_(t,n);if(US(e.visibleWrites,s))return null;{const t=BS(e.visibleWrites,s);return qS(t)?i.getChild(n):HS(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function tx(e,t){return function(e,t){return VS(e.visibleWrites,t)}(e.writeTree,v_(e.treePath,t))}function nx(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=BS(e.visibleWrites,t),c=VS(l,h_());if(null!=c)a=c;else{if(null==n)return[];a=HS(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function rx(e,t,n){return function(e,t,n,r){const i=v_(t,n),s=VS(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return HS(BS(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function ix(e,t){return sx(v_(e.treePath,t),e.writeTree)}function sx(e,t){return{treePath:e,writeTree:t}}class ox{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Zr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Zr(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,cS(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,lS(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,aS(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ei("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,cS(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ax=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class lx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new TS(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rx(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:RS(this.viewCache_),i=nx(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function cx(e,t,n,r,i){const s=new ox;let o,a;if(n.type===_S.OVERWRITE){const l=n;l.source.fromUser?o=dx(e,t,l.path,l.snap,r,i,s):(Zr(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!b_(l.path),o=hx(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===_S.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=v_(n,r);fx(t,d_(c))&&(a=dx(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=v_(n,r);fx(t,d_(c))||(a=dx(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):(Zr(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=mx(e,t,l.path,l.children,r,i,a,s))}else if(n.type===_S.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=tx(r,n))return t;{const a=new lx(r,t,i),l=t.eventCache.getNode();let c;if(b_(n)||".priority"===d_(n)){let n;if(t.serverCache.isFullyInitialized())n=JS(r,RS(t));else{const e=t.serverCache.getNode();Zr(e instanceof tS,"serverChildren would be complete if leaf node"),n=ZS(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=d_(n);let u=rx(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,p_(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,tS.EMPTY_NODE,p_(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=JS(r,RS(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=tx(r,h_()),IS(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=tx(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(b_(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return hx(e,t,n,l.getNode().getChild(n),i,s,a,o);if(b_(n)){let r=new OS(null);return l.getNode().forEachChild(O_,(e,t)=>{r=r.set(new u_(e),t)}),mx(e,t,n,r,i,s,a,o)}return t}{let c=new OS(null);return r.foreach((e,t)=>{const r=v_(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),mx(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==_S.LISTEN_COMPLETE)throw ei("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=PS(t,s.getNode(),s.isFullyInitialized()||b_(n),s.isFiltered());return ux(e,o,n,r,ax,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=AS(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(oS(AS(t)))}}(t,o,l),{viewCache:o,changes:l}}function ux(e,t,n,r,i,s){const o=t.eventCache;if(null!=tx(r,n))return t;{let a,l;if(b_(n))if(Zr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=RS(t),i=ZS(r,n instanceof tS?n:tS.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=JS(r,RS(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=d_(n);if(".priority"===c){Zr(1===f_(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=ex(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=p_(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=ex(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=rx(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return IS(t,a,o.isFullyInitialized()||b_(n),e.filter.filtersNodes())}}function hx(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(b_(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=d_(n);if(!l.isCompleteForPath(n)&&f_(n)>1)return t;const i=p_(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,ax,null)}const h=PS(t,c,l.isFullyInitialized()||b_(n),u.filtersNodes());return ux(e,h,n,i,new lx(i,h,s),a)}function dx(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new lx(i,t,s);if(b_(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=IS(t,c,!0,e.filter.filtersNodes());else{const i=d_(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=IS(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=p_(n),c=a.getNode().getImmediateChild(i);let h;if(b_(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===m_(s)&&e.getChild(y_(s)).isEmpty()?e:e.updateChild(s,r):tS.EMPTY_NODE}if(c.equals(h))l=t;else{l=IS(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function fx(e,t){return e.eventCache.isCompleteForChild(t)}function px(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function mx(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=b_(n)?r:new OS(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=px(0,t.serverCache.getNode().getImmediateChild(n),r);c=hx(e,c,new u_(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=px(0,t.serverCache.getNode().getImmediateChild(n),r);c=hx(e,c,new u_(n),l,i,s,o,a)}}),c}function gx(e,t){const n=RS(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!b_(t)&&!n.getImmediateChild(d_(t)).isEmpty())?n.getChild(t):null}function yx(e,t,n,r){t.type===_S.MERGE&&null!==t.source.queryId&&(Zr(RS(e.viewCache_),"We should always have a full cache before handling merges"),Zr(AS(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=cx(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,Zr(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Zr(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Zr(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,vx(e,s.changes,s.viewCache.eventCache.getNode(),null)}function vx(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),CS(e,i,"child_removed",t,r,n),CS(e,i,"child_added",t,r,n),CS(e,i,"child_moved",s,r,n),CS(e,i,"child_changed",t,r,n),CS(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let bx,wx;function _x(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Zr(null!=s,"SyncTree gave us an op for an invalid query."),yx(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(yx(s,t,n,r));return i}}function Sx(e,t){let n=null;for(const r of e.views.values())n=n||gx(r,t);return n}class xx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new OS(null),this.pendingWriteTree_={visibleWrites:LS.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kx(e,t,n,r,i){return function(e,t,n,r,i){Zr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=jS(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ix(e,new kS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ex(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(GS(e.pendingWriteTree_,t)){let t=new OS(null);return null!=r.snap?t=t.set(h_(),!0):Dw(r.children,e=>{t=t.set(new u_(e),!0)}),Ix(e,new xS(r.path,t,n))}return[]}function Tx(e,t,n){return Ix(e,new kS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Cx(e,t,n,r){const i=Rx(e,r);if(null!=i){const r=Dx(i),s=r.path,o=r.queryId,a=w_(s,t);return Ox(e,s,new kS(SS(o),a,n))}return[]}function Nx(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Sx(n,w_(e,t));if(r)return r});return $S(r,t,i,n,!0)}function Ix(e,t){return Px(t,e.syncPointTree_,null,KS(e.pendingWriteTree_,h_()))}function Px(e,t,n,r){if(b_(e.path))return Ax(e,t,n,r);{const i=t.get(h_());null==n&&null!=i&&(n=Sx(i,h_()));let s=[];const o=d_(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=ix(r,o);s=s.concat(Px(a,l,e,t))}return i&&(s=s.concat(_x(i,e,r,n))),s}}function Ax(e,t,n,r){const i=t.get(h_());null==n&&null!=i&&(n=Sx(i,h_()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=ix(r,t),l=e.operationForChild(t);l&&(s=s.concat(Ax(l,i,o,a)))}),i&&(s=s.concat(_x(i,e,r,n))),s}function Rx(e,t){return e.tagToQueryMap.get(t)}function Dx(e){const t=e.indexOf("$");return Zr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new u_(e.substr(0,t))}}function Ox(e,t,n){const r=e.syncPointTree_.get(t);Zr(r,"Missing sync point for query tag that we're tracking");return _x(r,n,KS(e.pendingWriteTree_,t),null)}class Lx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Lx(t)}node(){return this.node_}}class jx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=v_(this.path_,e);return new jx(this.syncTree_,t)}node(){return Nx(this.syncTree_,this.path_)}}const Mx=function(e,t,n){return e&&"object"===typeof e?(Zr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Fx(e[".sv"],t,n):"object"===typeof e[".sv"]?Ux(e[".sv"],t):void Zr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Fx=function(e,t,n){if("timestamp"===e)return n.timestamp;Zr(!1,"Unexpected server value: "+e)},Ux=function(e,t,n){e.hasOwnProperty("increment")||Zr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Zr(!1,"Unexpected increment value: "+r);const i=t.node();if(Zr(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Vx=function(e,t,n,r){return Bx(t,new jx(n,e),r)},zx=function(e,t,n){return Bx(e,new Lx(t),n)};function Bx(e,t,n){const r=e.getPriority().val(),i=Mx(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Mx(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new K_(s,rS(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new K_(i))),r.forEachChild(G_,(e,r)=>{const i=Bx(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class qx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Hx(e,t){let n=t instanceof u_?t:new u_(t),r=e,i=d_(n);for(;null!==i;){const e=Mi(r.node.children,i)||{children:{},childCount:0};r=new qx(i,r,e),n=p_(n),i=d_(n)}return r}function Wx(e){return e.node.value}function Kx(e,t){e.node.value=t,$x(e)}function Gx(e){return e.node.childCount>0}function Qx(e,t){Dw(e.node.children,(n,r)=>{t(new qx(n,e,r))})}function Yx(e,t,n,r){n&&!r&&t(e),Qx(e,e=>{Yx(e,t,!0,r)}),n&&r&&t(e)}function Xx(e){return new u_(null===e.parent?e.name:Xx(e.parent)+"/"+e.name)}function $x(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Wx(e)&&!Gx(e)}(n),i=ji(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$x(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,$x(e))}(e.parent,e.name,e)}const Jx=/[\[\].#$\/\u0000-\u001F\u007F]/,Zx=/[\[\].#$\u0000-\u001F\u007F]/,ek=10485760,tk=function(e){return"string"===typeof e&&0!==e.length&&!Jx.test(e)},nk=function(e){return"string"===typeof e&&0!==e.length&&!Zx.test(e)},rk=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Ew(e)||e&&"object"===typeof e&&ji(e,".sv")},ik=function(e,t,n,r){r&&void 0===t||sk(Qi(e,"value"),t,n)},sk=function(e,t,n){const r=n instanceof u_?new k_(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+T_(r));if("function"===typeof t)throw new Error(e+"contains a function "+T_(r)+" with contents = "+t.toString());if(Ew(t))throw new Error(e+"contains "+t.toString()+" "+T_(r));if("string"===typeof t&&t.length>ek/3&&Yi(t)>ek)throw new Error(e+"contains a string greater than "+ek+" utf8 bytes "+T_(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Dw(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!tk(t)))throw new Error(e+" contains an invalid key ("+t+") "+T_(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Yi(t),E_(e)}(r,t),sk(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Yi(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+T_(r)+" in addition to actual children.")}},ok=function(e,t,n,r){if(r&&void 0===t)return;const i=Qi(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Dw(t,(e,t)=>{const r=new u_(e);if(sk(i,t,v_(n,r)),".priority"===m_(r)&&!rk(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=g_(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!tk(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(__);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&x_(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},ak=function(e,t,n){if(!n||void 0!==t){if(Ew(t))throw new Error(Qi(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rk(t))throw new Error(Qi(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lk=function(e,t,n,r){if((!r||void 0!==n)&&!nk(n))throw new Error(Qi(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ck=function(e,t){if(".info"===d_(t))throw new Error(e+" failed = Can't modify data under /.info/")},uk=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!tk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nk(e)}(n))throw new Error(Qi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class hk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dk(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||S_(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function fk(e,t,n){dk(e,n),pk(e,e=>x_(e,t)||x_(t,e))}function pk(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(mk(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function mk(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();yw&&ww("event: "+n.toString()),Mw(r)}}}const gk="repo_interrupt";class yk{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mS(),this.transactionQueueTree_=new qx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vk(e,t,n){if(e.stats_=Jw(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new fS(e.repoInfo_,(t,n,r,i)=>{_k(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Sk(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oi(n)}catch(iO){throw new Error("Invalid authOverride provided: "+iO)}}e.persistentConnection_=new I_(e.repoInfo_,t,(t,n,r,i)=>{_k(e,t,n,r,i)},t=>{Sk(e,t)},t=>{!function(e,t){Dw(t,(t,n)=>{xk(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return $w[n]||($w[n]=t()),$w[n]}(e.repoInfo_,()=>new wS(e.stats_,e.server_)),e.infoData_=new pS,e.infoSyncTree_=new xx({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Tx(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),xk(e,"connected",!1),e.serverSyncTree_=new xx({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);fk(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function bk(e){const t=e.infoData_.getNode(new u_(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function wk(e){return(t=(t={timestamp:bk(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function _k(e,t,n,r,i){e.dataUpdateCount++;const s=new u_(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Ui(n,e=>rS(e));o=function(e,t,n,r){const i=Rx(e,r);if(i){const r=Dx(i),s=r.path,o=r.queryId,a=w_(s,t),l=OS.fromObject(n);return Ox(e,s,new ES(SS(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=rS(n);o=Cx(e.serverSyncTree_,s,t,i)}else if(r){const t=Ui(n,e=>rS(e));o=function(e,t,n){const r=OS.fromObject(n);return Ix(e,new ES({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=rS(n);o=Tx(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Dk(e,s)),fk(e.eventQueue_,a,o)}function Sk(e,t){xk(e,"connected",t),!1===t&&function(e){Ik(e,"onDisconnectEvents");const t=wk(e),n=mS();vS(e.onDisconnect_,h_(),(r,i)=>{const s=Vx(r,i,e.serverSyncTree_,t);gS(n,r,s)});let r=[];vS(n,h_(),(t,n)=>{r=r.concat(Tx(e.serverSyncTree_,t,n));const i=Fk(e,t);Dk(e,i)}),e.onDisconnect_=mS(),fk(e.eventQueue_,h_(),r)}(e)}function xk(e,t,n){const r=new u_("/.info/"+t),i=rS(n);e.infoData_.updateSnapshot(r,i);const s=Tx(e.infoSyncTree_,r,i);fk(e.eventQueue_,r,s)}function kk(e){return e.nextWriteId_++}function Ek(e,t,n,r,i){Ik(e,"set",{path:t.toString(),value:n,priority:r});const s=wk(e),o=rS(n,r),a=Nx(e.serverSyncTree_,t),l=zx(o,a,s),c=kk(e),u=kx(e.serverSyncTree_,t,l,c,!0);dk(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||kw("set at "+t+" failed: "+n);const o=Ex(e.serverSyncTree_,c,!s);fk(e.eventQueue_,t,o),Pk(e,i,n,r)});const h=Fk(e,t);Dk(e,h),fk(e.eventQueue_,h,[])}function Tk(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&yS(e.onDisconnect_,t),Pk(e,n,r,i)})}function Ck(e,t,n,r){const i=rS(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&gS(e.onDisconnect_,t,i),Pk(e,r,n,s)})}function Nk(e){e.persistentConnection_&&e.persistentConnection_.interrupt(gk)}function Ik(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ww(t,...r)}function Pk(e,t,n,r){t&&Mw(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function Ak(e,t,n){return Nx(e.serverSyncTree_,t,n)||tS.EMPTY_NODE}function Rk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Mk(e,t),Wx(t)){const n=Lk(e,t);Zr(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Ak(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Zr(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=w_(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Ik(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ex(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Mk(e,Hx(e.transactionQueueTree_,t)),Rk(e,e.transactionQueueTree_),fk(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Mw(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{kw("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Dk(e,t)}},o)}(e,Xx(t),n)}else Gx(t)&&Qx(t,t=>{Rk(e,t)})}function Dk(e,t){const n=Ok(e,t),r=Xx(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const s=t[a],l=w_(n,s.path);let c,u=!1;if(Zr(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(Ex(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(Ex(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Ak(e,s.path,o);s.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){sk("transaction failed: Data returned ",r,s.path);let t=rS(r);"object"===typeof r&&null!=r&&ji(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=wk(e),c=zx(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=kk(e),o.splice(o.indexOf(a),1),i=i.concat(kx(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(Ex(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(Ex(e.serverSyncTree_,s.currentWriteId,!0))}fk(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}Mk(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Mw(r[a]);Rk(e,e.transactionQueueTree_)}(e,Lk(e,n),r),r}function Ok(e,t){let n,r=e.transactionQueueTree_;for(n=d_(t);null!==n&&void 0===Wx(r);)r=Hx(r,n),n=d_(t=p_(t));return r}function Lk(e,t){const n=[];return jk(e,t,n),n.sort((e,t)=>e.order-t.order),n}function jk(e,t,n){const r=Wx(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qx(t,t=>{jk(e,t,n)})}function Mk(e,t){const n=Wx(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Kx(t,n.length>0?n:void 0)}Qx(t,t=>{Mk(e,t)})}function Fk(e,t){const n=Xx(Ok(e,t)),r=Hx(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Uk(e,t)}),Uk(e,r),Yx(r,t=>{Uk(e,t)}),n}function Uk(e,t){const n=Wx(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Zr(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Zr(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ex(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Kx(t,void 0):n.length=s+1,fk(e.eventQueue_,Xx(t),i);for(let e=0;e<r.length;e++)Mw(r[e])}}const Vk=function(e,t){const n=zk(e),r=n.namespace;"firebase.com"===n.domain&&xw(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||xw("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kw("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Gw(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new u_(n.pathString)}},zk=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(iO){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kw("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Bk="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class qk{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new gi;return Tk(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ck("OnDisconnect.remove",this._path);const e=new gi;return Ck(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ck("OnDisconnect.set",this._path),ik("OnDisconnect.set",e,this._path,!1);const t=new gi;return Ck(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ck("OnDisconnect.setWithPriority",this._path),ik("OnDisconnect.setWithPriority",e,this._path,!1),ak("OnDisconnect.setWithPriority",t,!1);const n=new gi;return function(e,t,n,r,i){const s=rS(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&gS(e.onDisconnect_,t,s),Pk(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){ck("OnDisconnect.update",this._path),ok("OnDisconnect.update",e,this._path,!1);const t=new gi;return function(e,t,n,r){if(Fi(n))return ww("onDisconnect().update() called with empty data.  Don't do anything."),void Pk(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&Dw(n,(n,r)=>{const i=rS(r);gS(e.onDisconnect_,v_(t,n),i)}),Pk(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Hk{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return b_(this._path)?null:m_(this._path)}get ref(){return new Wk(this._repo,this._path)}get _queryIdentifier(){const e=dS(this._queryParams),t=Aw(e);return"{}"===t?"default":t}get _queryObject(){return dS(this._queryParams)}isEqual(e){if(!((e=Xi(e))instanceof Hk))return!1;const t=this._repo===e._repo,n=S_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Wk extends Hk{constructor(e,t){super(e,t,new uS,!1)}get parent(){const e=y_(this._path);return null===e?null:new Wk(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function Kk(e,t){return(e=Xi(e))._checkNotDeleted("ref"),void 0!==t?Gk(e._root,t):e._root}function Gk(e,t){var n,r,i,s;return null===d_((e=Xi(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lk(n,r,i,s)):lk("child","path",t,!1),new Wk(e._repo,v_(e._path,t))}function Qk(e,t){e=Xi(e),ck("set",e._path),ik("set",t,e._path,!1);const n=new gi;return Ek(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}!function(e){Zr(!bx,"__referenceConstructor has already been defined"),bx=e}(Wk),function(e){Zr(!wx,"__referenceConstructor has already been defined"),wx=e}(Wk);const Yk={};let Xk=!1;function $k(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||xw("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ww("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=Vk(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/Project_1_bt-",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=Vk(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new zw(zw.OWNER):new Vw(e.name,e.options,t);uk("Invalid Firebase Database URL",l),b_(l.path)||xw("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Yk[t.name];i||(i={},Yk[t.name]=i);let s=i[e.toURLString()];s&&xw("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new yk(e,Xk,n,r),i[e.toURLString()]=s,s}(c,e,u,new Uw(e,n));return new Jk(h,e)}class Jk{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wk(this._repo,h_())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Yk[t];n&&n[e.key]===e||xw("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Nk(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&xw("Cannot call "+e+" on a deleted database.")}}function Zk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po(),t=arguments.length>1?arguments[1]:void 0;const n=ao(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=fi("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Xi(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Vi(r,s.repoInfo_.emulatorOptions))return;xw("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&xw('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new zw(zw.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:bi(r.mockUserToken,e.app.options.projectId);o=new zw(t)}yi(t)&&(vi(t),Si("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),s=yi(t.substring(0,i));e.repoInfo_=new Gw(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,i,r,o)}(n,...e)}return n}I_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},I_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){aw(ho),oo(new $i("database",(e,t)=>{let{instanceIdentifier:n}=t;return $k(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),mo(iw,sw,e),mo(iw,sw,"esm2020")}();const eE=fo({apiKey:"AIzaSyByfb9jBUArc6EJEqchkxY5IDAHs4Ity24",authDomain:"katalog-buku-2ddfb.firebaseapp.com",projectId:"katalog-buku-2ddfb",storageBucket:"katalog-buku-2ddfb.firebasestorage.app",messagingSenderId:"161602581907",appId:"1:161602581907:web:9e64ea4f02884c130e6466",measurementId:"G-M25FS3B0LC"}),tE=tu(eE),nE=function(e,t){const n="object"==typeof e?e:po(),r="string"==typeof e?e:t||Nd,i=ao(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=fi("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=lh(e,Hv);const i=yi(t),s=e._getSettings(),o=h(h({},s),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(vi("https://".concat(a)),Si("Firestore",!0)),s.host!==zv&&s.host!==a&&Tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=h(h({},s),{},{host:a,ssl:i,emulatorOptions:r});if(!Vi(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=wu.MOCK_USER;else{var c;t=bi(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Du(Ru.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new wu(i)}e._authCredentials=new Mu(new Lu(t,n))}}(i,...e)}return i}(eE);Zk(eE);var rE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iE=i.createContext&&i.createContext(rE),sE=["attr","size","title"];function oE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aE.apply(this,arguments)}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(t){uE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hE(e){return e&&e.map((e,t)=>i.createElement(e.tag,cE({key:t},e.attr),hE(e.child)))}function dE(e){return t=>i.createElement(fE,aE({attr:cE({},e.attr)},t),hE(e.child))}function fE(e){var t=t=>{var n,{attr:r,size:s,title:o}=e,a=oE(e,sE),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",aE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:cE(cE({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==iE?i.createElement(iE.Consumer,null,e=>t(e)):t(rE)}function pE(e){return dE({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function mE(e){return dE({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function gE(e){return dE({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function yE(e){return dE({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function vE(e){return dE({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const bE=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wE=(()=>new Set(bE))(),_E=e=>180*e/Math.PI,SE=e=>{const t=_E(Math.atan2(e[1],e[0]));return kE(t)},xE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:SE,rotateZ:SE,skewX:e=>_E(Math.atan(e[1])),skewY:e=>_E(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},kE=e=>((e%=360)<0&&(e+=360),e),EE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),TE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),CE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EE,scaleY:TE,scale:e=>(EE(e)+TE(e))/2,rotateX:e=>kE(_E(Math.atan2(e[6],e[5]))),rotateY:e=>kE(_E(Math.atan2(-e[2],e[0]))),rotateZ:SE,rotate:SE,skewX:e=>_E(Math.atan(e[4])),skewY:e=>_E(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function NE(e){return e.includes("scale")?1:0}function IE(e,t){if(!e||"none"===e)return NE(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=CE,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=xE,i=t}if(!i)return NE(t);const s=r[t],o=i[1].split(",").map(PE);return"function"===typeof s?s(o):o[s]}function PE(e){return parseFloat(e.trim())}const AE=e=>t=>"string"===typeof t&&t.startsWith(e),RE=AE("--"),DE=AE("var(--"),OE=e=>!!DE(e)&&LE.test(e.split("/*")[0].trim()),LE=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function jE(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}const ME=(e,t,n)=>e+(t-e)*n;function FE(e){return void 0===e||1===e}function UE(e){let{scale:t,scaleX:n,scaleY:r}=e;return!FE(t)||!FE(n)||!FE(r)}function VE(e){return UE(e)||zE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zE(e){return BE(e.x)||BE(e.y)}function BE(e){return e&&"0%"!==e}function qE(e,t,n){return n+t*(e-n)}function HE(e,t,n,r,i){return void 0!==i&&(e=qE(e,i,r)),qE(e,n,r)+t}function WE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=HE(e.min,t,n,r,i),e.max=HE(e.max,t,n,r,i)}function KE(e,t){let{x:n,y:r}=t;WE(e.x,n.translate,n.scale,n.originPoint),WE(e.y,r.translate,r.scale,r.originPoint)}const GE=.999999999999,QE=1.0000000000001;function YE(e,t){e.min=e.min+t,e.max=e.max+t}function XE(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;WE(e,t,n,ME(e.min,e.max,i),r)}function $E(e,t){XE(e.x,t.x,t.scaleX,t.scale,t.originX),XE(e.y,t.y,t.scaleY,t.scale,t.originY)}function JE(e,t){return jE(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ZE=new Set(["width","height","top","left","right","bottom",...bE]),eT=(e,t,n)=>n>t?t:n<e?e:n,tT={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},nT=h(h({},tT),{},{transform:e=>eT(0,1,e)}),rT=h(h({},tT),{},{default:1}),iT=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),sT=iT("deg"),oT=iT("%"),aT=iT("px"),lT=iT("vh"),cT=iT("vw"),uT=(()=>h(h({},oT),{},{parse:e=>oT.parse(e)/100,transform:e=>oT.transform(100*e)}))(),hT=e=>t=>t.test(e),dT=[tT,aT,oT,sT,cT,lT,{test:e=>"auto"===e,parse:e=>e}],fT=e=>dT.find(hT(e));const pT=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),mT=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function gT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=mT.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return pT(e)?parseFloat(e):e}return OE(i)?gT(i,t,n+1):i}const yT=e=>e===tT||e===aT,vT=new Set(["x","y","z"]),bT=bE.filter(e=>!vT.has(e));const wT={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return IE(n,"x")},y:(e,t)=>{let{transform:n}=t;return IE(n,"y")}};wT.translateX=wT.x,wT.translateY=wT.y;const _T=e=>e,ST={},xT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],kT={value:null,addProjectionMetrics:null};function ET(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xT.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{a=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&kT.value&&kT.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:f,postRender:p}=o,m=()=>{const s=ST.useManualTiming?i.timestamp:performance.now();n=!1,ST.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=xT.reduce((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),a.schedule(t,s,o)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<xT.length;t++)o[xT[t]].cancel(e)},state:i,steps:o}}const{schedule:TT,cancel:CT,state:NT,steps:IT}=ET("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:_T,!0),PT=new Set;let AT=!1,RT=!1,DT=!1;function OT(){if(RT){const e=Array.from(PT).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return bT.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}RT=!1,AT=!1,PT.forEach(e=>e.complete(DT)),PT.clear()}function LT(){PT.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(RT=!0)})}class jT{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(PT.add(this),AT||(AT=!0,TT.read(LT),TT.resolveKeyframes(OT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),PT.delete(this)}cancel(){"scheduled"===this.state&&(PT.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const MT=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function FT(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||MT(e))}const UT=e=>Math.round(1e5*e)/1e5,VT=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const zT=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,BT=(e,t)=>n=>Boolean("string"===typeof n&&zT.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),qT=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(VT);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},HT=h(h({},tT),{},{transform:e=>Math.round((e=>eT(0,255,e))(e))}),WT={test:BT("rgb","red"),parse:qT("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+HT.transform(t)+", "+HT.transform(n)+", "+HT.transform(r)+", "+UT(nT.transform(i))+")"}};const KT={test:BT("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:WT.transform},GT={test:BT("hsl","hue"),parse:qT("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+oT.transform(UT(n))+", "+oT.transform(UT(r))+", "+UT(nT.transform(i))+")"}},QT={test:e=>WT.test(e)||KT.test(e)||GT.test(e),parse:e=>WT.test(e)?WT.parse(e):GT.test(e)?GT.parse(e):KT.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?WT.transform(e):GT.transform(e),getAnimatableNone:e=>{const t=QT.parse(e);return t.alpha=0,QT.transform(t)}},YT=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const XT="number",$T="color",JT=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function ZT(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(JT,e=>(QT.test(e)?(r.color.push(s),i.push($T),n.push(QT.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(XT),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function eC(e){return ZT(e).values}function tC(e){const{split:t,types:n}=ZT(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===XT?UT(e[s]):t===$T?QT.transform(e[s]):e[s]}return i}}const nC=e=>"number"===typeof e?0:QT.test(e)?QT.getAnimatableNone(e):e;const rC={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(VT))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(YT))||void 0===n?void 0:n.length)||0)>0},parse:eC,createTransformer:tC,getAnimatableNone:function(e){const t=eC(e);return tC(e)(t.map(nC))}},iC=new Set(["brightness","contrast","saturate","opacity"]);function sC(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(VT)||[];if(!r)return e;const i=n.replace(r,"");let s=iC.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const oC=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,aC=h(h({},rC),{},{getAnimatableNone:e=>{const t=e.match(oC);return t?t.map(sC).join(" "):e}}),lC=h(h({},tT),{},{transform:Math.round}),cC=h(h({borderWidth:aT,borderTopWidth:aT,borderRightWidth:aT,borderBottomWidth:aT,borderLeftWidth:aT,borderRadius:aT,radius:aT,borderTopLeftRadius:aT,borderTopRightRadius:aT,borderBottomRightRadius:aT,borderBottomLeftRadius:aT,width:aT,maxWidth:aT,height:aT,maxHeight:aT,top:aT,right:aT,bottom:aT,left:aT,padding:aT,paddingTop:aT,paddingRight:aT,paddingBottom:aT,paddingLeft:aT,margin:aT,marginTop:aT,marginRight:aT,marginBottom:aT,marginLeft:aT,backgroundPositionX:aT,backgroundPositionY:aT},{rotate:sT,rotateX:sT,rotateY:sT,rotateZ:sT,scale:rT,scaleX:rT,scaleY:rT,scaleZ:rT,skew:sT,skewX:sT,skewY:sT,distance:aT,translateX:aT,translateY:aT,translateZ:aT,x:aT,y:aT,z:aT,perspective:aT,transformPerspective:aT,opacity:nT,originX:uT,originY:uT,originZ:aT}),{},{zIndex:lC,fillOpacity:nT,strokeOpacity:nT,numOctaves:lC}),uC=h(h({},cC),{},{color:QT,backgroundColor:QT,outlineColor:QT,fill:QT,stroke:QT,borderColor:QT,borderTopColor:QT,borderRightColor:QT,borderBottomColor:QT,borderLeftColor:QT,filter:aC,WebkitFilter:aC}),hC=e=>uC[e];function dC(e,t){let n=hC(e);return n!==aC&&(n=rC),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fC=new Set(["auto","none","0"]);class pC extends jT{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),OE(n))){const r=gT(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ZE.has(n)||2!==e.length)return;const[r,i]=e,s=fT(r),o=fT(i);if(s!==o)if(yT(s)&&yT(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else wT[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||FT(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!fC.has(t)&&ZT(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=dC(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wT[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=wT[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const mC=e=>Boolean(e&&e.getVelocity);let gC;function yC(){gC=void 0}const vC={now:()=>(void 0===gC&&vC.set(NT.isProcessing||ST.useManualTiming?NT.timestamp:performance.now()),gC),set:e=>{gC=e,queueMicrotask(yC)}};function bC(e,t){-1===e.indexOf(t)&&e.push(t)}function wC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class _C{constructor(){this.subscriptions=[]}add(e){return bC(this.subscriptions,e),()=>wC(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function SC(e,t){return t?e*(1e3/t):0}const xC={current:void 0};class kC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=vC.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=vC.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new _C);const n=this.events[e].add(t);return"change"===e?()=>{n(),TT.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return xC.current&&xC.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=vC.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return SC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function EC(e,t){return new kC(e,t)}const TC=[...dT,QT,rC],{schedule:CC,cancel:NC}=ET(queueMicrotask,!1),IC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},PC={};for(const oO in IC)PC[oO]={isEnabled:e=>IC[oO].some(t=>!!e[t])};const AC=()=>({x:{min:0,max:0},y:{min:0,max:0}}),RC="undefined"!==typeof window,DC={current:null},OC={current:!1};const LC=new WeakMap;function jC(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function MC(e){return"string"===typeof e||Array.isArray(e)}const FC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UC=["initial",...FC];function VC(e){return jC(e.animate)||UC.some(t=>MC(e[t]))}function zC(e){return Boolean(VC(e)||e.variants)}function BC(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function qC(e,t,n,r){if("function"===typeof t){const[i,s]=BC(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=BC(r);t=t(void 0!==n?n:e.custom,i,s)}return t}const HC=["willChange"],WC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KC{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=vC.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,TT.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget=h({},c),this.initialValues=n.initial?h({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=VC(n),this.isVariantNode=zC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=d,p=o(d,HC);for(const o in p){const e=p[o];void 0!==c[o]&&mC(e)&&e.set(c[o])}}mount(e){var t;this.current=e,LC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),OC.current||function(){if(OC.current=!0,RC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>DC.current=e.matches;e.addEventListener("change",t),t()}else DC.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||DC.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),CT(this.notifyUpdate),CT(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wE.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&TT.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in PC){const t=PC[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<WC.length;n++){const t=WC[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(mC(i))e.addValue(r,i);else if(mC(s))e.addValue(r,EC(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,EC(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=EC(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(pT(r)||MT(r))?r=parseFloat(r):(i=r,!TC.find(hT(i))&&rC.test(t)&&(r=dC(e,t))),this.setBaseTarget(e,mC(r)?r.get():r)),mC(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=qC(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||mC(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new _C),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){CC.render(this.render)}}class GC extends KC{constructor(){super(...arguments),this.KeyframeResolver=pC}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mC(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const QC=(e,t)=>t&&"number"===typeof e?t.transform(e):e,YC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XC=bE.length;function $C(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(wE.has(l))o=!0;else if(RE(l))i[l]=e;else{const t=QC(e,cC[l]);l.startsWith("origin")?(a=!0,s[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<XC;s++){const o=bE[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=QC(a,cC[o]);l||(i=!1,r+="".concat(YC[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function JC(e,t,n,r){let{style:i,vars:s}=t;const o=e.style;let a;for(a in i)o[a]=i[a];for(a in null===r||void 0===r||r.applyProjectionStyles(o,n),s)o.setProperty(a,s[a])}const ZC={};function eN(e,t){let{layout:n,layoutId:r}=t;return wE.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ZC[e]||"opacity"===e)}function tN(e,t,n){const{style:r}=e,i={};for(const o in r){var s;(mC(r[o])||t.style&&mC(t.style[o])||eN(o,e)||void 0!==(null===n||void 0===n||null===(s=n.getValue(o))||void 0===s?void 0:s.liveStyle))&&(i[o]=r[o])}return i}class nN extends GC{constructor(){super(...arguments),this.type="html",this.renderInstance=JC}readValueFromInstance(e,t){var n,r;if(wE.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?NE(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return IE(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(RE(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return JE(e,n)}build(e,t,n){$C(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return tN(e,t,n)}}const rN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),iN={offset:"stroke-dashoffset",array:"stroke-dasharray"},sN={offset:"strokeDashoffset",array:"strokeDasharray"};const oN=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function aN(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0}=t;if($C(e,o(t,oN),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;var p,m;(d.transform&&(f.transform=d.transform,delete d.transform),f.transform||d.transformOrigin)&&(f.transformOrigin=null!==(p=d.transformOrigin)&&void 0!==p?p:"50% 50%",delete d.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===i||void 0===i?void 0:i.transformBox)&&void 0!==m?m:"fill-box",delete d.transformBox);void 0!==s&&(d.x=s),void 0!==a&&(d.y=a),void 0!==l&&(d.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?iN:sN;e[s.offset]=aT.transform(-r);const o=aT.transform(t),a=aT.transform(n);e[s.array]="".concat(o," ").concat(a)}(d,c,u,h,!1)}const lN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),cN=e=>"string"===typeof e&&"svg"===e.toLowerCase();function uN(e,t,n){const r=tN(e,t,n);for(const i in e)if(mC(e[i])||mC(t[i])){r[-1!==bE.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class hN extends GC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=AC}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wE.has(t)){const e=hC(t);return e&&e.default||0}return t=lN.has(t)?t:rN(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return uN(e,t,n)}build(e,t,n){aN(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){JC(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(lN.has(i)?i:rN(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=cN(e.tagName),super.mount(e)}}const dN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fN(e){return"string"===typeof e&&!e.includes("-")&&!!(dN.indexOf(e)>-1||/[A-Z]/.test(e))}const pN=(e,t)=>fN(e)?new hN(t):new nN(t,{allowProjection:e!==i.Fragment});var mN=n(579);const gN=(0,i.createContext)({}),yN=(0,i.createContext)({strict:!1}),vN=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bN=(0,i.createContext)({});function wN(e){const{initial:t,animate:n}=function(e,t){if(VC(e)){const{initial:t,animate:n}=e;return{initial:!1===t||MC(t)?t:void 0,animate:MC(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(bN));return(0,i.useMemo)(()=>({initial:t,animate:n}),[_N(t),_N(n)])}function _N(e){return Array.isArray(e)?e.join(" "):e}const SN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xN(e,t,n){for(const r in t)mC(t[r])||eN(r,n)||(e[r]=t[r])}function kN(e,t){const n={};return xN(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return $C(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function EN(e,t){const n={},r=kN(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const TN=()=>h(h({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function CN(e,t,n,r){const s=(0,i.useMemo)(()=>{const n=TN();return aN(n,t,cN(r),e.transformTemplate,e.style),h(h({},n.attrs),{},{style:h({},n.style)})},[t]);if(e.style){const t={};xN(t,e.style,e),s.style=h(h({},t),s.style)}return s}const NN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function IN(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NN.has(e)}let PN=e=>!IN(e);try{"function"===typeof(AN=require("@emotion/is-prop-valid").default)&&(PN=e=>e.startsWith("on")?!IN(e):AN(e))}catch(sO){}var AN;function RN(e,t,n,r,s){let{latestValues:o}=r,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(fN(e)?CN:EN)(t,o,s,e),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(PN(i)||!0===n&&IN(i)||!t&&!IN(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"===typeof e,a),u=e!==i.Fragment?h(h(h({},c),l),{},{ref:n}):{},{children:d}=t,f=(0,i.useMemo)(()=>mC(d)?d.get():d,[d]);return(0,i.createElement)(e,h(h({},u),{},{children:f}))}const DN=(0,i.createContext)(null);function ON(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}function LN(e){return mC(e)?e.get():e}const jN=["transitionEnd","transition"];function MN(e,t,n,r){const i={},s=r(e,{});for(const o in s)i[o]=LN(s[o]);let{initial:a,animate:l}=e;const c=VC(e),u=zC(e);t&&u&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let h=!!n&&!1===n.initial;h=h||!1===a;const d=h?l:a;if(d&&"boolean"!==typeof d&&!jC(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=qC(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=o(r,jN);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const FN=e=>(t,n)=>{const r=(0,i.useContext)(bN),s=(0,i.useContext)(DN),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s}=e;return{latestValues:MN(t,n,r,i),renderState:s()}}(e,t,r,s);return n?o():ON(o)},UN=FN({scrapeMotionValuesFromProps:tN,createRenderState:SN}),VN=FN({scrapeMotionValuesFromProps:uN,createRenderState:TN});const zN=Symbol.for("motionComponentSymbol");function BN(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function qN(e,t,n){return(0,i.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):BN(n)&&(n.current=r))},[t])}const HN="data-"+rN("framerAppearId"),WN=(0,i.createContext)({}),KN=RC?i.useLayoutEffect:i.useEffect;function GN(e,t,n,r,s){var o,a,l,c;const{visualElement:u}=(0,i.useContext)(bN),h=(0,i.useContext)(yN),d=(0,i.useContext)(DN),f=(0,i.useContext)(vN).reducedMotion,p=(0,i.useRef)(null);r=r||h.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:f}));const m=p.current,g=(0,i.useContext)(WN);!m||m.projection||!s||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:QN(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&BN(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,n,s,g);const y=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{m&&y.current&&m.update(n,d)});const v=n[HN],b=(0,i.useRef)(Boolean(v)&&!(null!==(o=(a=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(a,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return KN(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,i.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),b.current=!1),m.enteringChildren=void 0)}),m}function QN(e){if(e)return!1!==e.options.allowProjection?e.projection:QN(e.parent)}function YN(e){var t,n;let{forwardMotionProps:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;s&&function(e){for(const t in e)PC[t]=h(h({},PC[t]),e[t])}(s);const a=fN(e)?VN:UN;function l(t,n){let s;const l=h(h(h({},(0,i.useContext)(vN)),t),{},{layoutId:XN(t)}),{isStatic:c}=l,u=wN(t),d=a(t,c);if(!c&&RC){!function(){(0,i.useContext)(yN).strict;0}();const t=function(e){const{drag:t,layout:n}=PC;if(!t&&!n)return{};const r=h(h({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=t.MeasureLayout,u.visualElement=GN(e,d,l,o,t.ProjectionNode)}return(0,mN.jsxs)(bN.Provider,{value:u,children:[s&&u.visualElement?(0,mN.jsx)(s,h({visualElement:u.visualElement},l)):null,RN(e,t,qN(d,u.visualElement,n),d,c,r)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,i.forwardRef)(l);return c[zN]=e,c}function XN(e){let{layoutId:t}=e;const n=(0,i.useContext)(gN).id;return n&&void 0!==t?n+"-"+t:t}function $N(e,t){if("undefined"===typeof Proxy)return YN;const n=new Map,r=(n,r)=>YN(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,s)=>"create"===s?r:(n.has(s)||n.set(s,YN(s,void 0,e,t)),n.get(s))})}function JN(e,t,n){const r=e.getProps();return qC(r,t,void 0!==n?n:r.custom,e)}function ZN(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const eI=e=>Array.isArray(e),tI=["transitionEnd","transition"];function nI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,EC(n))}function rI(e){return eI(e)?e[e.length-1]||0:e}function iI(e,t){const n=e.getValue("willChange");if(r=n,Boolean(mC(r)&&r.add))return n.add(t);if(!n&&ST.WillChange){const n=new ST.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function sI(e){return e.props[HN]}function oI(e){e.duration=0,e.type="keyframes"}const aI=(e,t)=>n=>t(e(n)),lI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(aI)},cI=e=>1e3*e,uI=e=>e/1e3,hI={layout:0,mainThread:0,waapi:0};function dI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fI(e,t){return n=>n>0?t:e}const pI=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},mI=[KT,WT,GT];function gI(e){const t=(n=e,mI.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===GT&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=dI(i,e,t+1/3),o=dI(i,e,t),a=dI(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(r)),r}const yI=(e,t)=>{const n=gI(e),r=gI(t);if(!n||!r)return fI(e,t);const i=h({},n);return e=>(i.red=pI(n.red,r.red,e),i.green=pI(n.green,r.green,e),i.blue=pI(n.blue,r.blue,e),i.alpha=ME(n.alpha,r.alpha,e),WT.transform(i))},vI=new Set(["none","hidden"]);function bI(e,t){return n=>ME(e,t,n)}function wI(e){return"number"===typeof e?bI:"string"===typeof e?OE(e)?fI:QT.test(e)?yI:xI:Array.isArray(e)?_I:"object"===typeof e?QT.test(e)?yI:SI:fI}function _I(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>wI(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function SI(e,t){const n=h(h({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=wI(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const xI=(e,t)=>{const n=rC.createTransformer(t),r=ZT(e),i=ZT(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?vI.has(e)&&!i.values.length||vI.has(t)&&!r.values.length?function(e,t){return vI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):lI(_I(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){var i;const o=t.types[s],a=e.indexes[o][r[o]],l=null!==(i=e.values[a])&&void 0!==i?i:0;n[s]=l,r[o]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),fI(e,t))};function kI(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ME(e,t,n);return wI(e)(e,t)}const EI=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return TT.update(t,e)},stop:()=>CT(t),now:()=>NT.isProcessing?NT.timestamp:vC.now()}},TI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*e(s/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},CI=2e4;function NI(e){let t=0;let n=e.next(t);for(;!n.done&&t<CI;)t+=50,n=e.next(t);return t>=CI?1/0:t}function II(e,t,n){const r=Math.max(t-5,0);return SC(n-e(r),t-r)}const PI={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AI=.001;function RI(e){let t,n,{duration:r=PI.duration,bounce:i=PI.bounce,velocity:s=PI.velocity,mass:o=PI.mass}=e;cI(PI.maxDuration);let a=1-i;a=eT(PI.minDamping,PI.maxDamping,a),r=eT(PI.minDuration,PI.maxDuration,uI(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=OI(e,a),l=Math.exp(-n);return AI-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=OI(Math.pow(e,2),a);return(-t(e)+AI>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<DI;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=cI(r),isNaN(l))return{stiffness:PI.stiffness,damping:PI.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const DI=12;function OI(e,t){return e*Math.sqrt(1-t*t)}const LI=["duration","bounce"],jI=["stiffness","damping","mass"];function MI(e,t){return t.some(t=>void 0!==e[t])}function FI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PI.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PI.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t=h({velocity:PI.velocity,stiffness:PI.stiffness,damping:PI.damping,mass:PI.mass,isResolvedFromDuration:!1},e);if(!MI(e,jI)&&MI(e,LI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*eT(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=h(h({},t),{},{mass:PI.mass,stiffness:i,damping:s})}else{const n=RI(e);t=h(h(h({},t),n),{},{mass:PI.mass}),t.isResolvedFromDuration=!0}return t}(h(h({},n),{},{velocity:-uI(n.velocity||0)})),m=f||0,g=c/(2*Math.sqrt(l*u)),y=o-s,v=uI(Math.sqrt(l/u)),b=Math.abs(y)<5;let w;if(r||(r=b?PI.restSpeed.granular:PI.restSpeed.default),i||(i=b?PI.restDelta.granular:PI.restDelta.default),g<1){const e=OI(v,g);w=t=>{const n=Math.exp(-g*v*t);return o-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)w=e=>o-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return o-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const _={calculatedDuration:p&&d||null,next:e=>{const t=w(e);if(p)a.done=e>=d;else{let n=0===e?m:0;g<1&&(n=0===e?cI(m):II(w,e,t));const s=Math.abs(n)<=r,l=Math.abs(o-t)<=i;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(NI(_),CI),t=TI(t=>_.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return _}function UI(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let _,S;const x=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(_=e,S=FI({keyframes:[f.value,p(f.value)],velocity:II(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==_||(t=!0,w(e),x(e)),void 0!==_&&e>=_?S.next(e-_):(!t&&w(e),f)}}}FI.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(h(h({},e),{},{keyframes:[0,t]})),r=Math.min(NI(n),CI);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:uI(r)}}(e,100,FI);return e.ease=t.ease,e.duration=cI(t.duration),e.type="keyframes",e};const VI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function zI(e,t,n,r){if(e===t&&n===r)return _T;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=VI(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:VI(i(e),t,r)}const BI=zI(.42,0,1,1),qI=zI(0,0,.58,1),HI=zI(.42,0,.58,1),WI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KI=e=>t=>1-e(1-t),GI=zI(.33,1.53,.69,.99),QI=KI(GI),YI=WI(QI),XI=e=>(e*=2)<1?.5*QI(e):.5*(2-Math.pow(2,-10*(e-1))),$I=e=>1-Math.sin(Math.acos(e)),JI=KI($I),ZI=WI($I),eP=e=>Array.isArray(e)&&"number"===typeof e[0],tP={linear:_T,easeIn:BI,easeInOut:HI,easeOut:qI,circIn:$I,circInOut:ZI,circOut:JI,backIn:QI,backInOut:YI,backOut:GI,anticipate:XI},nP=e=>{if(eP(e)){e.length;const[t,n,r,i]=e;return zI(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),tP[e]):e},rP=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function iP(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||ST.mix||kI,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||_T:t;n=lI(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=rP(e[r],e[r+1],n);return a[r](i)};return n?t=>c(eT(e[0],e[s-1],t)):c}function sP(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=rP(0,t,r);e.push(ME(n,1,i))}}(t,e.length-1),t}function oP(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(nP):nP(i),o={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:sP(n),t),l=iP(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||HI).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const aP=e=>null!==e;function lP(e,t,n){let{repeat:r,repeatType:i="loop"}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(aP),a=s<0||r&&"loop"!==i&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}const cP={decay:UI,inertia:UI,tween:oP,keyframes:oP,spring:FI};function uP(e){"string"===typeof e.type&&(e.type=cP[e.type])}class hP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const dP=e=>e/100;class fP extends hP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==vC.now()&&this.tick(vC.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},hI.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;uP(e);const{type:t=oP,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=e;let{keyframes:o}=e;const a=t||oP;a!==oP&&"number"!==typeof o[0]&&(this.mixKeyframes=lI(dP,kI(o[0],o[1])),o=[0,100]);const l=a(h(h({},e),{},{keyframes:o}));"mirror"===i&&(this.mirroredGenerator=a(h(h({},e),{},{keyframes:[...o].reverse(),velocity:-s}))),null===l.calculatedDuration&&(l.calculatedDuration=NI(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/o)):"mirror"===h&&(b=s)),v=eT(0,1,n)*o}const w=y?{done:!1,value:c[0]}:b.next(v);i&&(w.value=i(w.value));let{done:_}=w;y||null===a||(_=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return S&&f!==UI&&(w.value=lP(c,this.options,m,this.speed)),p&&p(w.value),S&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return uI(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+uI(e)}get time(){return uI(this.currentTime)}set time(e){var t;e=cI(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vC.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=uI(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=EI,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vC.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,hI.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function pP(e){let t;return()=>(void 0===t&&(t=e()),t)}const mP=pP(()=>void 0!==window.ScrollTimeline),gP={};function yP(e,t){const n=pP(e);return()=>{var e;return null!==(e=gP[t])&&void 0!==e?e:n()}}const vP=yP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(iO){return!1}return!0},"linearEasing"),bP=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},wP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bP([0,.65,.55,1]),circOut:bP([.55,0,1,.45]),backIn:bP([.31,.01,.66,-.59]),backOut:bP([.33,1.53,.69,.99])};function _P(e,t){return e?"function"===typeof e?vP()?TI(e,t):"ease-out":eP(e)?bP(e):Array.isArray(e)?e.map(e=>_P(e,t)||wP.easeOut):wP[e]:void 0}function SP(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const h=_P(a,i);Array.isArray(h)&&(u.easing=h),kT.value&&hI.waapi++;const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};c&&(d.pseudoElement=c);const f=e.animate(u,d);return kT.value&&f.finished.finally(()=>{hI.waapi--}),f}function xP(e){return"function"===typeof e&&"applyToOptions"in e}const kP=["type"];class EP extends hP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=e,e.type;const c=function(e){let{type:t}=e,n=o(e,kP);return xP(t)&&vP()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=SP(t,n,r,c,i),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=lP(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(iO){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return uI(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+uI(e)}get time(){return uI(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cI(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&mP()?(this.animation.timeline=t,_T):n(this)}}const TP={anticipate:XI,backInOut:YI,circInOut:ZI};function CP(e){"string"===typeof e.ease&&e.ease in TP&&(e.ease=TP[e.ease])}const NP=["motionValue","onUpdate","onComplete","element"];class IP extends EP{constructor(e){CP(e),uP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:s,element:a}=n,l=o(n,NP);if(!r)return;if(void 0!==e)return void r.set(e);const c=new fP(h(h({},l),{},{autoplay:!1})),u=cI(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(u-10).value,c.sample(u).value,10),c.stop()}}const PP=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!rC.test(e)&&"0"!==e||e.startsWith("url(")));const AP=new Set(["opacity","clipPath","filter","transform"]),RP=pP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const DP=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class OP extends hP{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:u,motionValue:d,element:f}=e,p=o(e,DP);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=vC.now();const m=h({autoplay:n,delay:r,type:i,repeat:s,repeatDelay:a,repeatType:l,name:u,motionValue:d,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||jT;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),u,d,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=vC.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=PP(i,t),a=PP(s,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". "').concat(o?s:i,'" is not an animatable value.'),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||xP(n))&&r)}(e,i,s,o)||(!ST.instantAnimations&&a||null===c||void 0===c||c(lP(e,n,t)),e[0]=e[e.length-1],oI(n),n.repeat=0);const u=h(h({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return RP()&&r&&AP.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==s&&0!==o&&"inertia"!==a}(u)?new IP(h(h({},u),{},{element:u.motionValue.owner.current})):new fP(u);d.finished.then(()=>this.notifyFinished()).catch(_T),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),DT=!0,LT(),OT(),DT=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const LP=e=>null!==e;const jP={type:"spring",stiffness:500,damping:25,restSpeed:10},MP={type:"keyframes",duration:.8},FP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UP=(e,t)=>{let{keyframes:n}=t;return n.length>2?MP:wE.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:jP:FP},VP=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const zP=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const l=ZN(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=cI(c);const d=h(h({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h}=e,d=o(e,VP);return!!Object.keys(d).length})(l)||Object.assign(d,UP(e,d)),d.duration&&(d.duration=cI(d.duration)),d.repeatDelay&&(d.repeatDelay=cI(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let f=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(oI(d),0===d.delay&&(f=!0)),(ST.instantAnimations||ST.skipAnimations)&&(f=!0,oI(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(LP),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}(d.keyframes,l);if(void 0!==e)return void TT.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new fP(d):new OP(d)}},BP=["transition","transitionEnd"];function qP(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function HP(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a}=t,l=o(t,BP);r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const o in l){var d;const t=e.getValue(o,null!==(d=e.latestValues[o])&&void 0!==d?d:null),r=l[o];if(void 0===r||u&&qP(u,o))continue;const i=h({delay:n},ZN(s||{},o)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=sI(e);if(t){const e=window.MotionHandoffAnimation(t,o,TT);null!==e&&(i.startTime=e,f=!0)}}iI(e,o),t.start(zP(o,t,r,e.shouldReduceMotion&&ZE.has(o)?{type:!1}:i,e,f));const p=t.animation;p&&c.push(p)}return a&&Promise.all(c).then(()=>{TT.update(()=>{a&&function(e,t){let n=JN(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=o(n,tI);s=h(h({},s),r);for(const o in s)nI(e,o,rI(s[o]))}(e,a)})}),c}function WP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*r;return"function"===typeof n?n(s,o):1===i?s*r:a-s*r}function KP(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=JN(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(HP(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(KP(l,t,h(h({},o),{},{delay:n+("function"===typeof r?0:r)+WP(e.variantChildren,l,r,i,s)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,n,i,o,a,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then(()=>t())}return Promise.all([o(),a(r.delay)])}function GP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const QP=UC.length;function YP(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&YP(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<QP;n++){const r=UC[n],i=e.props[r];(MC(i)||!1===i)&&(t[r]=i)}return t}const XP=["transition","transitionEnd"],$P=[...FC].reverse(),JP=FC.length;function ZP(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>KP(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=KP(e,t,r);else{const i="function"===typeof t?JN(e,t,r.custom):t;n=Promise.all(HP(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function eA(e){let t=ZP(e),n=rA(),r=!0;const i=t=>(n,r)=>{var i;const s=JN(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=o(s,XP);n=h(h(h({},n),r),t)}return n};function s(s){const{props:o}=e,a=YP(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<JP;t++){const f=$P[t],p=n[f],m=void 0!==o[f]?o[f]:a[f],g=MC(m),y=f===s?p.isActive:null;!1===y&&(d=t);let v=m===a[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=h({},u),!p.isActive&&null===y||!m&&!p.prevProp||jC(m)||"boolean"===typeof m)continue;const b=tA(p.prevProp,m);let w=b||f===s&&p.isActive&&!v&&g||t>d&&g,_=!1;const S=Array.isArray(m)?m:[m];let x=S.reduce(i(f),{});!1===y&&(x={});const{prevResolvedValues:k={}}=p,E=h(h({},k),x),T=t=>{w=!0,c.has(t)&&(_=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=x[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=eI(t)&&eI(n)?!GP(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=x,p.isActive&&(u=h(h({},u),x)),r&&e.blockInitialAnimation&&(w=!1);const C=v&&b;w&&(!C||_)&&l.push(...S.map(t=>{const n={type:f};if("string"===typeof t&&r&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=JN(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=WP(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=JN(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=rA(),r=!0}}}function tA(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!GP(t,e)}function nA(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rA(){return{animate:nA(!0),whileInView:nA(),whileHover:nA(),whileTap:nA(),whileDrag:nA(),whileFocus:nA(),exit:nA()}}class iA{constructor(e){this.isMounted=!1,this.node=e}update(){}}let sA=0;const oA={animation:{Feature:class extends iA{constructor(e){super(e),e.animationState||(e.animationState=eA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jC(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends iA{constructor(){super(...arguments),this.id=sA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},aA={x:!1,y:!1};function lA(){return aA.x||aA.y}function cA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const uA=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function hA(e){return{point:{x:e.pageX,y:e.pageY}}}function dA(e,t,n,r){return cA(e,t,(e=>t=>uA(t)&&e(t,hA(t)))(n),r)}function fA(e){return e.max-e.min}function pA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=ME(t.min,t.max,e.origin),e.scale=fA(n)/fA(t),e.translate=ME(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function mA(e,t,n,r){pA(e.x,t.x,n.x,r?r.originX:void 0),pA(e.y,t.y,n.y,r?r.originY:void 0)}function gA(e,t,n){e.min=n.min+t.min,e.max=e.min+fA(t)}function yA(e,t,n){e.min=t.min-n.min,e.max=e.min+fA(t)}function vA(e,t,n){yA(e.x,t.x,n.x),yA(e.y,t.y,n.y)}function bA(e){return[e("x"),e("y")]}const wA=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},_A=(e,t)=>Math.abs(e-t);class SA{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=EA(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=_A(e.x,t.x),r=_A(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=NT;this.history.push(h(h({},r),{},{timestamp:i}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=xA(t,this.transformPagePoint),TT.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=EA("pointercancel"===e.type?this.lastMoveEventInfo:xA(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!uA(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=r||window;const o=xA(hA(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=NT;this.history=[h(h({},a),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,EA(o,this.history)),this.removeListeners=lI(dA(this.contextWindow,"pointermove",this.handlePointerMove),dA(this.contextWindow,"pointerup",this.handlePointerUp),dA(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),CT(this.updatePoint)}}function xA(e,t){return t?{point:t(e.point)}:e}function kA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function EA(e,t){let{point:n}=e;return{point:n,delta:kA(n,CA(t)),offset:kA(n,TA(t)),velocity:NA(t,.1)}}function TA(e){return e[0]}function CA(e){return e[e.length-1]}function NA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=CA(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>cI(t)));)n--;if(!r)return{x:0,y:0};const s=uI(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function IA(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function PA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const AA=.35;function RA(e,t,n){return{min:DA(e,t),max:DA(e,n)}}function DA(e,t){return"number"===typeof e?e:e[t]||0}const OA=new WeakMap;class LA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new SA(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hA(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?aA[s]?null:(aA[s]=!0,()=>{aA[s]=!1}):aA.x||aA.y?null:(aA.x=aA.y=!0,()=>{aA.x=aA.y=!1}),!this.openDragLock))return;var s;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bA(e=>{let t=this.getAxisMotionValue(e).get()||0;if(oT.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=fA(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&TT.postRender(()=>i(e,t)),iI(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>bA(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:wA(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&TT.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!jA(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?ME(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?ME(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&BN(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:IA(e.x,r,s),y:IA(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AA;return!1===e?e=0:!0===e&&(e=AA),{x:RA(e,"left","right"),y:RA(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bA(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!BN(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=JE(e,n),{scroll:i}=t;return i&&(YE(r.x,i.offset.x),YE(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:PA(e.x,t.x),y:PA(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=jE(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=bA(o=>{if(!jA(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=h(h({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return iI(this.visualElement,e),n.start(zP(e,n,0,t,this.visualElement,!1))}stopAnimation(){bA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bA(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){bA(t=>{const{drag:n}=this.getProps();if(!jA(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-ME(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!BN(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};bA(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=fA(e),i=fA(t);return i>r?n=rP(t.min,t.max-r,e.min):r>i&&(n=rP(e.min,e.max-i,t.min)),eT(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bA(t=>{if(!jA(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(ME(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;OA.set(this.visualElement,this);const e=dA(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();BN(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),TT.read(t);const i=cA(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(bA(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=AA,dragMomentum:o=!0}=e;return h(h({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o})}}function jA(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const MA=e=>(t,n)=>{e&&TT.postRender(()=>e(t,n))};function FA(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(DN);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,o=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return s(o)},[e]);const a=(0,i.useCallback)(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,a]:[!0]}const UA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zA={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!aT.test(e))return e;e=parseFloat(e)}const n=VA(e,t.target.x),r=VA(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},BA={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=rC.parse(e);if(s.length>5)return i;const o=rC.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=ME(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}};let qA=!1;class HA extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)ZC[t]=e[t],RE(t)&&(ZC[t].isCSSVariable=!0)}(KA),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),qA&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(h(h({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),UA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:s}=n;return s?(s.isPresent=i,qA=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||TT.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),CC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;qA=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WA(e){const[t,n]=FA(),r=(0,i.useContext)(gN);return(0,mN.jsx)(HA,h(h({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(WN),isPresent:t,safeToRemove:n}))}const KA={borderRadius:h(h({},zA),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:zA,borderTopRightRadius:zA,borderBottomLeftRadius:zA,borderBottomRightRadius:zA,boxShadow:BA};function GA(e){return"object"===typeof e&&null!==e}function QA(e){return GA(e)&&"ownerSVGElement"in e}const YA=(e,t)=>e.depth-t.depth;class XA{constructor(){this.children=[],this.isDirty=!1}add(e){bC(this.children,e),this.isDirty=!0}remove(e){wC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YA),this.isDirty=!1,this.children.forEach(e)}}function $A(e,t){const n=vC.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(CT(r),e(o-t))};return TT.setup(r,!0),()=>CT(r)}const JA=["TopLeft","TopRight","BottomLeft","BottomRight"],ZA=JA.length,eR=e=>"string"===typeof e?parseFloat(e):e,tR=e=>"number"===typeof e||aT.test(e);function nR(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const rR=sR(0,.5,JI),iR=sR(.5,.95,_T);function sR(e,t,n){return r=>r<e?0:r>t?1:n(rP(e,t,r))}function oR(e,t){e.min=t.min,e.max=t.max}function aR(e,t){oR(e.x,t.x),oR(e.y,t.y)}function lR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cR(e,t,n,r,i){return e=qE(e-=t,1/n,r),void 0!==i&&(e=qE(e,1/i,r)),e}function uR(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;oT.test(t)&&(t=parseFloat(t),t=ME(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=ME(s.min,s.max,r);e===s&&(a-=t),e.min=cR(e.min,t,n,a,i),e.max=cR(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const hR=["x","scaleX","originX"],dR=["y","scaleY","originY"];function fR(e,t,n,r){uR(e.x,t,hR,n?n.x:void 0,r?r.x:void 0),uR(e.y,t,dR,n?n.y:void 0,r?r.y:void 0)}function pR(e){return 0===e.translate&&1===e.scale}function mR(e){return pR(e.x)&&pR(e.y)}function gR(e,t){return e.min===t.min&&e.max===t.max}function yR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vR(e,t){return yR(e.x,t.x)&&yR(e.y,t.y)}function bR(e){return fA(e.x)/fA(e.y)}function wR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _R{constructor(){this.members=[]}add(e){bC(this.members,e),e.scheduleRender()}remove(e){if(wC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const SR={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},xR=["","X","Y","Z"];let kR=0;function ER(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function TR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",TT,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&TR(r)}function CR(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=kR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kT.value&&(SR.nodes=SR.calculatedTargetDeltas=SR.calculatedProjections=0),this.nodes.forEach(PR),this.nodes.forEach(MR),this.nodes.forEach(FR),this.nodes.forEach(AR),kT.addProjectionMetrics&&kT.addProjectionMetrics(SR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new XA)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new _C),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=QA(e)&&!(QA(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;TT.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=$A(i,250),UA.hasAnimatedSinceResize&&(UA.hasAnimatedSinceResize=!1,this.nodes.forEach(jR)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||HR,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!vR(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=h(h({},ZN(o,"layout")),{},{onPlay:a,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||jR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),CT(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UR),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(DR);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(OR);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LR),this.nodes.forEach(NR),this.nodes.forEach(IR)):this.nodes.forEach(OR),this.clearAllSnapshots();const e=vC.now();NT.delta=eT(0,1e3/60,e-NT.timestamp),NT.timestamp=e,NT.isProcessing=!0,IT.update.process(NT),IT.preRender.process(NT),IT.render.process(NT),NT.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,CC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RR),this.sharedNodes.forEach(VR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,TT.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){TT.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||fA(this.snapshot.measuredBox.x)||fA(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!mR(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||VE(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),GR((r=n).x),GR(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(YR))){const{scroll:e}=this.root;e&&(YE(n.x,e.offset.x),YE(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(aR(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&aR(n,e),YE(n.x,i.offset.x),YE(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};aR(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&$E(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),VE(e.latestValues)&&$E(n,e.latestValues)}return VE(this.latestValues)&&$E(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};aR(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!VE(e.latestValues))continue;UE(e.latestValues)&&e.updateSnapshot();const r=AC();aR(r,e.measurePageBox()),fR(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return VE(this.latestValues)&&fR(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=h(h(h({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==NT.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=NT.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},vA(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),aR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,gA(o.x,a.x,l.x),gA(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):aR(this.target,this.layout.layoutBox),KE(this.target,this.targetDelta)):aR(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},vA(this.relativeTargetOrigin,this.target,e.target),aR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kT.value&&SR.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!UE(this.parent.latestValues)&&!zE(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===NT.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;aR(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$E(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,KE(e,o)),r&&VE(s.latestValues)&&$E(e,s.latestValues))}t.x<QE&&t.x>GE&&(t.x=1),t.y<QE&&t.y>GE&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(lR(this.prevProjectionDelta.x,this.projectionDelta.x),lR(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),mA(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&wR(this.projectionDelta.x,this.prevProjectionDelta.x)&&wR(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),kT.value&&SR.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=h({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(qR));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;zR(s.x,e.x,n),zR(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vA(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){BR(e.x,t.x,n.x,r),BR(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&(l=this.relativeTarget,h=d,gR(l.x,h.x)&&gR(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),aR(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){var o,a;if(i)e.opacity=ME(0,null!==(o=n.opacity)&&void 0!==o?o:1,rR(r)),e.opacityExit=ME(null!==(a=t.opacity)&&void 0!==a?a:1,0,iR(r));else if(s){var l,c;e.opacity=ME(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<ZA;u++){const i="border".concat(JA[u],"Radius");let s=nR(t,i),o=nR(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||tR(s)===tR(o)?(e[i]=Math.max(ME(eR(s),eR(o),r),0),(oT.test(o)||oT.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=ME(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(CT(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=TT.update(()=>{UA.hasAnimatedSinceResize=!0,hI.layout++,this.motionValue||(this.motionValue=EC(0)),this.currentAnimation=function(e,t,n){const r=mC(e)?e:EC(e);return r.start(zP("",r,t,n)),r.animation}(this.motionValue,[0,1e3],h(h({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{hI.layout--},onComplete:()=>{hI.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&QR(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=fA(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=fA(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}aR(t,n),$E(t,i),mA(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new _R);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ER("z",e,r,this.animationValues);for(let i=0;i<xR.length;i++)ER("rotate".concat(xR[i]),e,r,this.animationValues),ER("skew".concat(xR[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=LN(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=LN(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!VE(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(s=n(i,s)),e.transform=s;const{x:o,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in ZC){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:o}=ZC[u],a="none"===s?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else o?this.options.visualElement.renderState.vars[u]=a:e[u]=a}this.options.layoutId&&(e.pointerEvents=r===this?LN(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(DR),this.root.sharedNodes.clear()}}}function NR(e){e.updateLayout()}function IR(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?bA(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=fA(r);r.min=t[e].min,r.max=r.min+i}):QR(i,n.layoutBox,t)&&bA(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=fA(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};mA(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?mA(a,e.applyTransform(r,!0),n.measuredBox):mA(a,t,n.layoutBox);const l=!mR(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};vA(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};vA(a,t,s.layoutBox),vR(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function PR(e){kT.value&&SR.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function AR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RR(e){e.clearSnapshot()}function DR(e){e.clearMeasurements()}function OR(e){e.isLayoutDirty=!1}function LR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function MR(e){e.resolveTargetDelta()}function FR(e){e.calcProjection()}function UR(e){e.resetSkewAndRotation()}function VR(e){e.removeLeadSnapshot()}function zR(e,t,n){e.translate=ME(t.translate,0,n),e.scale=ME(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function BR(e,t,n,r){e.min=ME(t.min,n.min,r),e.max=ME(t.max,n.max,r)}function qR(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const HR={duration:.45,ease:[.4,0,.1,1]},WR=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),KR=WR("applewebkit/")&&!WR("chrome/")?Math.round:_T;function GR(e){e.min=KR(e.min),e.max=KR(e.max)}function QR(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=bR(t),i=bR(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function YR(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const XR=CR({attachResizeListener:(e,t)=>cA(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$R={current:void 0},JR=CR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$R.current){const e=new XR({});e.mount(window),e.setOptions({layoutScroll:!0}),$R.current=e}return $R.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ZR={pan:{Feature:class extends iA{constructor(){super(...arguments),this.removePointerDownListener=_T}onPointerDown(e){this.session=new SA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:MA(e),onStart:MA(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&TT.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=dA(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends iA{constructor(e){super(e),this.removeGroupControls=_T,this.removeListeners=_T,this.controls=new LA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_T}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:JR,MeasureLayout:WA}};function eD(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,h(h({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function tD(e){return!("touch"===e.pointerType||lA())}function nD(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&TT.postRender(()=>i(t,hA(t)))}function rD(e){return GA(e)&&"offsetHeight"in e}const iD=(e,t)=>!!t&&(e===t||iD(e,t.parentElement)),sD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const oD=new WeakSet;function aD(e){return t=>{"Enter"===t.key&&e(t)}}function lD(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function cD(e){return uA(e)&&!lA()}function uD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=eD(e,n),o=e=>{const r=e.currentTarget;if(!cD(e))return;oD.add(r);const s=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),oD.has(r)&&oD.delete(r),cD(e)&&"function"===typeof s&&s(e,{success:t})},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||iD(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),rD(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=aD(()=>{if(oD.has(n))return;lD(n,"down");const e=aD(()=>{lD(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>lD(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,sD.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}function hD(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&TT.postRender(()=>i(t,hA(t)))}const dD=["root"],fD=new WeakMap,pD=new WeakMap,mD=e=>{const t=fD.get(e.target);t&&t(e)},gD=e=>{e.forEach(mD)};function yD(e,t,n){const r=function(e){let{root:t}=e,n=o(e,dD);const r=t||document;pD.has(r)||pD.set(r,{});const i=pD.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(gD,h({root:t},n))),i[s]}(t);return fD.set(e,n),r.observe(e),()=>{fD.delete(e),r.unobserve(e)}}const vD={some:0,all:1};const bD={inView:{Feature:class extends iA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:vD[r]};return yD(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends iA{mount(){const{current:e}=this.node;e&&(this.unmount=uD(e,(e,t)=>(hD(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return hD(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends iA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(iO){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lI(cA(this.node.current,"focus",()=>this.onFocus()),cA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends iA{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=eD(e,n),o=e=>{if(!tD(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{tD(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),s}(e,(e,t)=>(nD(this.node,t,"Start"),e=>nD(this.node,e,"End"))))}unmount(){}}}},wD={layout:{ProjectionNode:JR,MeasureLayout:WA}},_D=$N(h(h(h(h({},oA),bD),ZR),wD),pN);function SD(e){let{size:t=64,stroke:n=6,color:r="#60A5FA",text:i="Memuat..."}=e;const s=(t-n)/2,o=t/2,a=t/2,l=2*Math.PI*s;return(0,mN.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,mN.jsx)(_D.div,{style:{width:t,height:t},animate:{rotate:360},transition:{repeat:1/0,duration:1.2,ease:"linear"},className:"inline-block",children:(0,mN.jsxs)("svg",{width:t,height:t,viewBox:"0 0 ".concat(t," ").concat(t),className:"block",children:[(0,mN.jsx)("circle",{cx:o,cy:a,r:s,stroke:"rgba(255,255,255,0.08)",strokeWidth:n,fill:"none",strokeLinecap:"round"}),(0,mN.jsx)(_D.circle,{cx:o,cy:a,r:s,stroke:r,strokeWidth:n,fill:"none",strokeLinecap:"round",strokeDasharray:.65*l+" "+l,strokeDashoffset:0,animate:{strokeDashoffset:[0,.65*-l,1.3*-l]},transition:{repeat:1/0,repeatType:"loop",duration:1.2,ease:"linear"}})]})}),(0,mN.jsx)(_D.div,{initial:{scale:.9,opacity:.6},animate:{scale:[.9,1.02,.95],opacity:[.6,1,.7]},transition:{repeat:1/0,duration:1.6,ease:"easeInOut"},className:"text-sm text-blue-400","aria-live":"polite",children:i})]})}function xD(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),c=ge(),u=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&l(!1)};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a]),(0,i.useEffect)(()=>{const e=Rl(tE,e=>{o(e)});return()=>e()},[]),(0,i.useEffect)(()=>{Qr.get("http://localhost:8000/api/buku").then(e=>t(e.data)).catch(e=>console.error("Gagal mengambil data buku:",e))},[]);const h=e.filter(e=>e.judul.toLowerCase().includes(n.toLowerCase())||e.penulis.toLowerCase().includes(n.toLowerCase())||e.kategori.toLowerCase().includes(n.toLowerCase()));(0,i.useEffect)(()=>{(async()=>{try{const e=(new Date).toISOString().split("T")[0];await function(e,t){const n=lh(e.firestore,eb),r=Yv(e),i=Hb(e.converter,t);return tw(n,[mb(pb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kp.exists(!1))]).then(()=>r)}(Qv(nE,"pengunjung"),{tanggal:e})}catch(e){console.error("Gagal menyipan data pengunjung",e)}})()},[]);const[d,f]=(0,i.useState)(0),[p,m]=(0,i.useState)(0),[g,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=()=>{const e=document.querySelector(".carousel-item");e&&m(e.clientWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);return(0,mN.jsxs)("div",{className:"home",children:[(0,mN.jsxs)("nav",{className:"navbar",children:[(0,mN.jsx)("div",{className:"logo",children:"inBook"}),(0,mN.jsxs)("div",{className:"menu",children:[(0,mN.jsx)(vt,{to:"/favorit",children:"favorit"}),(0,mN.jsx)(vt,{to:"/semua",children:"Semua Buku"}),s?(0,mN.jsxs)("div",{className:"profile-section",ref:u,children:[(0,mN.jsx)("img",{src:s.photoURL||"Users-person.png",alt:"Profil pengguna",className:"profile-pic",onClick:()=>l(!a)}),a&&(0,mN.jsxs)(_D.div,{initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{duration:.3,ease:"easeOut"},className:" absolute right-5 top-16 bg-white/95 backdrop-blur-lg shadow-2xl rounded-2xl p-6 w-64 flex flex-col items-center text-center border border-gray-100",children:[(0,mN.jsx)("img",{src:s.photoURL||"Users-person.png",alt:"Foto Profil",className:"w-20 h-20 rounded-full object-cover shadow-md border-2 border-blue-500"}),(0,mN.jsx)("h3",{className:"mt-3 text-lg font-semibold text-gray-800",children:s.displayName||"Pengguna"}),(0,mN.jsx)("p",{className:"text-sm text-gray-500 truncate w-full",children:s.email}),(0,mN.jsx)("button",{onClick:async()=>{if(s)try{await Zb(Yv(nE,"Users",s.uid),{isOnline:!1}),await Dl(tE),localStorage.removeItem("user"),c("/login")}catch(Sw){console.error("Gagal logout:",Sw)}},className:"mt-5 w-full py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white font-semibold rounded-xl hover:from-red-600 hover:to-pink-600 transition-all duration-300 shadow-md",children:"Keluar"})]})]}):(0,mN.jsxs)("button",{onClick:async()=>{const e=new bl;e.setCustomParameters({prompt:"select_account"});try{const t=(await yc(tE,e)).user;console.log("Foto profil dari Google:",t.photoURL)}catch(Sw){console.error("Error saat login dengan Google:",Sw),alert("Gagal login dengan Google. Silakan coba lagi.")}},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white font-semibold py-2 px-5 rounded-xl shadow-lg hover:scale-105 transform transition duration-300",children:[(0,mN.jsx)("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google logo",className:"w-5 h-5 bg-white rounded-full p-[2px]"}),"Login"]})]})]}),(0,mN.jsx)("section",{children:(0,mN.jsx)("div",{className:"canadian-section",children:(0,mN.jsxs)("div",{className:"carousel-container",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[(0,mN.jsx)("div",{className:"carousel-track",style:{transform:"translateX(-".concat(d*p,"px)"),transition:"transform 0.5s ease-in-out"},children:["/video/Zenitsu _Agatsuma_4k.mp4","/video/snaptik_7457712899159559429_hd.mp4","/video/snaptik_7225657653291273474_hd.mp4","/video/snaptik_7554695777780600071_hd.mp4"].map((e,t)=>(0,mN.jsx)("div",{className:"carousel-item",children:(0,mN.jsx)("video",{src:e,loop:!0,autoPlay:!0,muted:!0,playsInline:!0,controlsList:"nodownload nofullscreen noremoteplayback",disablePictureInPicture:!0,onContextMenu:e=>e.preventDefault(),alt:"Student ".concat(t+1),style:{width:"100%",borderRadius:"12px",objectFit:"cover"}})},t))}),(0,mN.jsx)("div",{className:"overlay-text-container",children:(0,mN.jsx)("div",{className:"overlay-text",children:(0,mN.jsxs)("h1",{children:[(0,mN.jsx)("span",{className:"line1",children:"CATALOG"}),(0,mN.jsx)("br",{}),(0,mN.jsx)("span",{className:"line2",children:"BOOKS"})]})})})]})})}),(0,mN.jsx)("div",{className:"text-sorotan-full-animasi-home"}),(0,mN.jsxs)("section",{className:"hero",children:[(0,mN.jsx)("h1",{children:(0,mN.jsx)(Yr.cU,{words:["Temukan buku favorit anda"],loop:!0,cursor:!0,cursorStyle:"|",typeSpeed:70,deleteSpeed:50,delaySpeed:1e3})}),(0,mN.jsx)("p",{children:"Jelajahi ribuan buku dari berbagai genre. Dari bestseller hingga karya tersembunyi, temukan cerita yang menginspirasi."}),(0,mN.jsx)("input",{type:"text",placeholder:"Cari judul buku",value:n,onChange:e=>r(e.target.value),"aria-label":"Cari buku"})]}),(0,mN.jsxs)("section",{className:"list-buku",children:[(0,mN.jsx)("div",{className:"header",children:(0,mN.jsx)("h2",{children:"Semua Buku"})}),(0,mN.jsx)("div",{className:"grid-buku",children:h.length>0?h.map((e,t)=>(0,mN.jsxs)("div",{className:"card-buku",style:{animationDelay:"".concat(.25*t,"s")},children:[(0,mN.jsx)("span",{className:"kategori",children:e.kategori}),(0,mN.jsx)("div",{className:"cover",children:(0,mN.jsx)("img",{src:e.cover||"/placeholder-book.jpg",alt:"Sampul buku: ".concat(e.judul),onError:e=>{e.target.src="/placeholder-book.jpg"}})}),(0,mN.jsxs)("div",{className:"info",children:[(0,mN.jsx)("h3",{children:e.judul}),(0,mN.jsxs)("p",{children:["oleh ",e.penulis]})]})]},e.id)):(0,mN.jsx)("p",{className:"no-books",children:"Tidak ada buku ditemukan."})})]}),(0,mN.jsxs)("footer",{className:"footer",children:[(0,mN.jsxs)("div",{className:"footer-container",children:[(0,mN.jsx)("div",{className:"flex items-center justify-center p-2",children:(0,mN.jsx)("img",{src:"b.png",alt:"logo",className:"w-32 md:w-40 lg:w-48 object-contain cursor-pointer transition-transform duration-300"})}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h2",{className:"footer-title",children:"\ud83d\udcda Jejak Buku"}),(0,mN.jsx)("p",{className:"footer-text",children:"Temukan ribuan koleksi buku menarik mulai dari fiksi, non-fiksi, hingga buku pelajaran. Jejak Buku adalah tempat terbaik untuk para pembaca sejati."})]}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h3",{className:"footer-subtitle",children:"Navigasi"}),(0,mN.jsxs)("ul",{className:"footer-links",children:[(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"/semua",children:"semua"})}),(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"/favorit",children:"Favorit"})}),(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"#",children:"Tentang"})})]})]}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h3",{className:"footer-subtitle",children:"Ikuti Kami"}),(0,mN.jsxs)("div",{className:"footer-socials",children:[(0,mN.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100081955621560",className:"social-icon-footer facebook",children:(0,mN.jsx)(pE,{})}),(0,mN.jsx)("a",{href:"https://www.instagram.com/berkat_bt/",className:"social-icon-footer instagram",children:(0,mN.jsx)(gE,{})}),(0,mN.jsx)("a",{href:"https://github.com/berkatbt",className:"social-icon-footer github",children:(0,mN.jsx)(mE,{})})]})]})]}),(0,mN.jsxs)("div",{className:"footer-bottom",children:["\xa9 ",(new Date).getFullYear()," katalog buku by Berkat_bt!. Semua hak dilindungi."]})]})]})}const kD=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ED=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var TD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CD=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ND=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:u}=e,d=o(e,CD);return(0,i.createElement)("svg",h(h(h({ref:t},TD),{},{width:r,height:r,stroke:n,strokeWidth:a?24*Number(s)/Number(r):s,className:ED("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),ID=["className"],PD=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:s}=n,a=o(n,ID);return(0,i.createElement)(ND,h({ref:r,iconNode:t,className:ED("lucide-".concat((l=kD(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},a));var l});return n.displayName=kD(e),n},AD=PD("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),RD=PD("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),DD=PD("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),OD=PD("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),LD=PD("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jD=PD("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const MD=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),h=ge();return(0,mN.jsxs)("div",{className:"login-container",children:[(0,mN.jsxs)("div",{className:"login-left",children:[(0,mN.jsxs)("div",{className:"hero-content",children:[(0,mN.jsxs)("div",{className:"logo",children:[(0,mN.jsx)(AD,{className:"logo-icon"}),(0,mN.jsx)("span",{className:"logo-text",children:"NexusRead"})]}),(0,mN.jsxs)("div",{className:"hero-main",children:[(0,mN.jsx)("h1",{children:"Welcome Back, Reader!"}),(0,mN.jsx)("p",{children:"Continue your literary journey. Access your personalized bookshelf and discover new stories."})]})]}),(0,mN.jsxs)("div",{className:"background-shapes",children:[(0,mN.jsx)("div",{className:"shape shape-1"}),(0,mN.jsx)("div",{className:"shape shape-2"}),(0,mN.jsx)("div",{className:"shape shape-3"})]})]}),(0,mN.jsx)("div",{className:"login-right",children:(0,mN.jsxs)("div",{className:"login-card",children:[(0,mN.jsxs)("div",{className:"card-header",children:[(0,mN.jsx)("h2",{children:"Welcome Back"}),(0,mN.jsx)("p",{children:"Sign in to your account"})]}),a&&(0,mN.jsxs)("div",{className:"error-message",children:[(0,mN.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,mN.jsx)("span",{children:a})]}),(0,mN.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(!0),l("");try{const t=await function(e,t,n){return lo(e.app)?Promise.reject(Mo(e)):Pl(Xi(e),ml.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Al(e),t})}(tE,e,n),r=t.user;await Jb(Yv(nE,"Users",r.uid),{email:r.email,displayName:r.displayName||"Tanpa Nama",isOnline:!0,lastLogin:(new Date).toISOString()},{merge:!0}),h("/")}catch(r){l("Email atau password salah!"),console.error(r)}finally{u(!1)}},className:"login-form",children:[(0,mN.jsx)("div",{className:"input-group",children:(0,mN.jsxs)("div",{className:"input-container",children:[(0,mN.jsx)(RD,{className:"input-icon",size:20}),(0,mN.jsx)("input",{type:"email",placeholder:"Email Address",value:e,onChange:e=>t(e.target.value),required:!0,className:"form-input"})]})}),(0,mN.jsx)("div",{className:"input-group",children:(0,mN.jsxs)("div",{className:"input-container",children:[(0,mN.jsx)(DD,{className:"input-icon",size:20}),(0,mN.jsx)("input",{type:s?"text":"password",placeholder:"Password",value:n,onChange:e=>r(e.target.value),required:!0,className:"form-input"}),(0,mN.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>o(!s),children:s?(0,mN.jsx)(OD,{size:20}):(0,mN.jsx)(LD,{size:20})})]})}),(0,mN.jsxs)("div",{className:"form-options",children:[(0,mN.jsxs)("label",{className:"remember-me",children:[(0,mN.jsx)("input",{type:"checkbox"}),(0,mN.jsx)("span",{className:"checkmark"}),"Remember me"]}),(0,mN.jsx)("a",{href:"#",className:"forgot-password",children:"Forgot password?"})]}),(0,mN.jsxs)("button",{type:"submit",disabled:c,className:"login-btn ".concat(c?"loading":""),children:[(0,mN.jsx)("span",{className:"btn-text",children:c?"Signing In...":"Sign In"}),!c&&(0,mN.jsx)(jD,{className:"btn-icon",size:20}),c&&(0,mN.jsx)("div",{className:"spinner"})]})]}),(0,mN.jsx)("div",{className:"divider",children:(0,mN.jsx)("span",{children:"Or continue with"})}),(0,mN.jsx)("div",{className:"social-buttons",children:(0,mN.jsxs)("button",{onClick:async()=>{try{const e=new bl,t=(await yc(tE,e)).user;await Jb(Yv(nE,"Users",t.uid),{email:t.email,displayName:t.displayName||"Users",isOnline:!0},{merge:!0}),h("/")}catch(e){l("Login Google gagal!"),console.error(e)}},className:"social-btn google-btn",children:[(0,mN.jsx)("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"social-icon"}),(0,mN.jsx)("span",{className:"social-text",children:"Google"})]})}),(0,mN.jsxs)("div",{className:"register-section",children:[(0,mN.jsx)("span",{children:"Don't have an account? "}),(0,mN.jsxs)(vt,{to:"/register",className:"register-link",children:["Sign up now",(0,mN.jsx)(jD,{className:"link-icon",size:16})]})]}),(0,mN.jsxs)("div",{className:"security-note",children:[(0,mN.jsx)("div",{className:"security-icon",children:"\ud83d\udd12"}),(0,mN.jsx)("span",{children:"Your data is securely encrypted"})]})]})})]})};function FD(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)("all"),[f,p]=(0,i.useState)("judul"),[m,g]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=Rl(tE,e=>{g(e)});return()=>e()},[]),(0,i.useEffect)(()=>{(async()=>{try{const e=await Qr.get("http://localhost:8000/api/buku");r(e.data),o(!1)}catch(e){console.error("Gagal mengambil data buku:",e),o(!1)}})()},[]);const y=n.filter(e=>{var t,n;const r=(null===(t=e.judul)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.penulis)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase())),i="all"===h||e.kategori===h;return r&&i}).sort((e,t)=>{var n;return"judul"===f?null===(n=e.judul)||void 0===n?void 0:n.localeCompare(t.judul):"tahun"===f?t.tahun_terbit-e.tahun_terbit:0}),v=["all",...new Set(n.map(e=>e.kategori).filter(Boolean))];if(s)return(0,mN.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,mN.jsx)(SD,{size:80,stroke:7,color:"#60A5FA",text:"Memuat data..."})});return(0,mN.jsxs)("div",{className:"semua-buku-page",children:[(0,mN.jsxs)("div",{className:"controls-section",children:[(0,mN.jsx)("div",{className:"search-box",children:(0,mN.jsx)("input",{type:"text",placeholder:"Cari judul atau penulis...",value:c,onChange:e=>u(e.target.value),className:"search-input"})}),(0,mN.jsx)("div",{className:"filter-controls w-64 mx-auto mb-6 justify-end  mr-[20px]",children:(0,mN.jsxs)("select",{value:h,onChange:e=>d(e.target.value),className:"w-full bg-white/20 backdrop-blur-md border border-white/30 rounded-xl px-4 py-2 text-gray-800 font-medium shadow-md hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-300 cursor-pointer",children:[(0,mN.jsx)("option",{value:"all",className:"bg-white/90 text-gray-800",children:"Semua Kategori"}),v.map(e=>"all"!==e&&(0,mN.jsx)("option",{value:e,className:"bg-white/90 text-gray-800",children:e},e))]})})]}),(0,mN.jsx)("div",{className:"books-container",children:0===y.length?(0,mN.jsxs)("div",{className:"empty-state",children:[(0,mN.jsx)("h3",{children:"Tidak ada buku ditemukan"}),(0,mN.jsx)("p",{children:"Coba ubah pencarian atau filter Anda"})]}):(0,mN.jsx)("div",{className:"books-grid",children:y.map((e,t)=>(0,mN.jsxs)("div",{className:"book-card",style:{animationDelay:"".concat(.25*t,"s")},children:[(0,mN.jsxs)("div",{className:"book-cover-container",children:[(0,mN.jsx)("img",{src:e.cover||"/placeholder-book.jpg",alt:e.judul,className:"book-cover",onError:e=>{e.target.src="https://via.placeholder.com/200x280/1e293b/ffffff?text=No+Cover"}}),(0,mN.jsx)("div",{className:"book-overlay",children:(0,mN.jsx)("span",{className:"view-details",onClick:()=>l(e),children:"Lihat Detail"})}),e.kategori&&(0,mN.jsx)("div",{className:"book-category",children:e.kategori})]}),(0,mN.jsxs)("div",{className:"book-info",children:[(0,mN.jsx)("h3",{className:"book-title",children:e.judul}),(0,mN.jsxs)("p",{className:"book-author",children:["oleh ",e.penulis]}),(0,mN.jsxs)("div",{className:"book-meta",children:[e.tahun_terbit&&(0,mN.jsx)("span",{className:"book-year",children:e.tahun_terbit}),e.penerbit&&(0,mN.jsx)("button",{onClick:()=>(async e=>{if(m)try{const t=await Qr.post("http://127.0.0.1:8000/api/favorite/add",{user_uid:m.uid,buku_id:e});alert(t.data.message)}catch(t){console.error("Gagal menambah ke favorit:",t),alert("Terjadi kesalahan saat menambah ke favorit!")}else alert("Kamu harus login dulu!")})(e.id),className:"btn-ravorit-semua-buku",children:"\u2661"})]})]})]},e.id))})}),a&&(0,mN.jsx)("div",{className:"modal-overlay-semua",onClick:()=>l(null),children:(0,mN.jsxs)("div",{className:"modal-content-semua",onClick:e=>e.stopPropagation(),children:[(0,mN.jsx)("button",{className:"modal-close-semua",onClick:()=>l(null),children:"\u2715"}),(0,mN.jsxs)("div",{className:"modal-body-semua",children:[(0,mN.jsx)("div",{className:"modal-cover-section-semua",children:(0,mN.jsx)("img",{src:a.cover||"/placeholder-book.jpg",alt:a.judul,className:"modal-cover-semua",onError:e=>{e.target.src="https://via.placeholder.com/300x420/1e293b/ffffff?text=No+Cover"}})}),(0,mN.jsxs)("div",{className:"modal-details-semua",children:[(0,mN.jsxs)("div",{className:"modal-header-semua",children:[(0,mN.jsx)("h2",{className:"modal-title-semua",children:a.judul}),a.kategori&&(0,mN.jsx)("div",{className:"modal-category-semua",children:a.kategori})]}),(0,mN.jsxs)("div",{className:"detail-grid-semua",children:[(0,mN.jsxs)("div",{className:"detail-item-semua",children:[(0,mN.jsx)("span",{className:"detail-label-semua",children:"Penulis"}),(0,mN.jsx)("span",{className:"detail-value-semua",children:a.penulis})]}),(0,mN.jsxs)("div",{className:"detail-item-semua",children:[(0,mN.jsx)("span",{className:"detail-label-semua",children:"Penerbit"}),(0,mN.jsx)("span",{className:"detail-value-semua",children:a.penerbit})]}),(0,mN.jsxs)("div",{className:"detail-item-semua",children:[(0,mN.jsx)("span",{className:"detail-label-semua",children:"Tahun Terbit"}),(0,mN.jsx)("span",{className:"detail-value-semua",children:a.tahun_terbit})]}),(0,mN.jsxs)("div",{className:"detail-item-semua",children:[(0,mN.jsx)("span",{className:"detail-label-semua",children:"Tebal Buku"}),(0,mN.jsxs)("span",{className:"detail-value-semua",children:[a.tebal_buku," halaman"]})]}),(0,mN.jsxs)("div",{className:"detail-item-semua",children:[(0,mN.jsx)("span",{className:"detail-label-semua",children:"Kategori"}),(0,mN.jsx)("span",{className:"detail-value-semua",children:a.kategori})]}),(0,mN.jsxs)("div",{className:"detail-item full-width-semua",children:[(0,mN.jsx)("span",{className:"detail-label-semua",children:"Deskripsi"}),(0,mN.jsx)("span",{className:"detail-value-semua",children:a.deskripsi})]})]})]})]})]})}),(0,mN.jsxs)("footer",{className:"footer",children:[(0,mN.jsxs)("div",{className:"footer-container",children:[(0,mN.jsx)("div",{className:"flex items-center justify-center p-2",children:(0,mN.jsx)("img",{src:"/b.png",alt:"logo",className:"w-32 md:w-40 lg:w-48 object-contain cursor-pointer transition-transform duration-300"})}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h2",{className:"footer-title",children:"\ud83d\udcda Jejak Buku"}),(0,mN.jsx)("p",{className:"footer-text",children:"Temukan ribuan koleksi buku menarik mulai dari fiksi, non-fiksi, hingga buku pelajaran. Jejak Buku adalah tempat terbaik untuk para pembaca sejati."})]}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h3",{className:"footer-subtitle",children:"Navigasi"}),(0,mN.jsxs)("ul",{className:"footer-links",children:[(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"/semua",children:"semua"})}),(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"/favorit",children:"Favorit"})}),(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"#",children:"Tentang"})})]})]}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h3",{className:"footer-subtitle",children:"Ikuti Kami"}),(0,mN.jsxs)("div",{className:"footer-socials",children:[(0,mN.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100081955621560",className:"social-icon-footer facebook",children:(0,mN.jsx)(pE,{})}),(0,mN.jsx)("a",{href:"https://www.instagram.com/berkat_bt/",className:"social-icon-footer instagram",children:(0,mN.jsx)(gE,{})}),(0,mN.jsx)("a",{href:"https://github.com/berkatbt",className:"social-icon-footer github",children:(0,mN.jsx)(mE,{})})]})]})]}),(0,mN.jsxs)("div",{className:"footer-bottom",children:["\xa9 ",(new Date).getFullYear()," katalog buku by Berkat_bt!. Semua hak dilindungi."]})]})]})}const UD=PD("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const VD=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(!1),f=ge();return(0,mN.jsxs)("div",{className:"register-container",children:[(0,mN.jsxs)("div",{className:"register-left",children:[(0,mN.jsxs)("div",{className:"hero-content",children:[(0,mN.jsxs)("div",{className:"logo",children:[(0,mN.jsx)(AD,{className:"logo-icon"}),(0,mN.jsx)("span",{className:"logo-text",children:"NexusRead"})]}),(0,mN.jsxs)("div",{className:"hero-main",children:[(0,mN.jsx)("h1",{children:"Join Our Reading Community"}),(0,mN.jsx)("p",{children:"Discover thousands of books and connect with fellow readers. Start your literary journey today."})]})]}),(0,mN.jsxs)("div",{className:"background-shapes",children:[(0,mN.jsx)("div",{className:"shape shape-1"}),(0,mN.jsx)("div",{className:"shape shape-2"}),(0,mN.jsx)("div",{className:"shape shape-3"})]})]}),(0,mN.jsx)("div",{className:"register-right",children:(0,mN.jsxs)("div",{className:"register-card",children:[(0,mN.jsxs)("div",{className:"card-header",children:[(0,mN.jsx)("h2",{children:"Create Your Account"}),(0,mN.jsx)("p",{children:"Join thousands of readers today"})]}),c&&(0,mN.jsxs)("div",{className:"error-message",children:[(0,mN.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,mN.jsx)("span",{children:c})]}),(0,mN.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(!0),u(""),s.length<6)return u("Password minimal 6 karakter."),void d(!1);try{const t=await async function(e,t,n){if(lo(e.app))return Promise.reject(Mo(e));const r=Ha(e),i=el(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sl,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Al(e),t}),o=await xl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(tE,n,s);await Jb(Yv(nE,"pengguna",t.user.uid),{nama:e,email:n,status:"user",createdAt:rw(),updatedAt:rw(),last_login:null}),f("/login")}catch(r){u("Gagal membuat akun: "+r.message)}finally{d(!1)}},className:"register-form",children:[(0,mN.jsx)("div",{className:"input-group",children:(0,mN.jsxs)("div",{className:"input-container",children:[(0,mN.jsx)(UD,{className:"input-icon",size:20}),(0,mN.jsx)("input",{type:"text",placeholder:"Full Name",value:e,onChange:e=>t(e.target.value),required:!0,className:"form-input"})]})}),(0,mN.jsx)("div",{className:"input-group",children:(0,mN.jsxs)("div",{className:"input-container",children:[(0,mN.jsx)(RD,{className:"input-icon",size:20}),(0,mN.jsx)("input",{type:"email",placeholder:"Email Address",value:n,onChange:e=>r(e.target.value),required:!0,className:"form-input"})]})}),(0,mN.jsx)("div",{className:"input-group",children:(0,mN.jsxs)("div",{className:"input-container",children:[(0,mN.jsx)(DD,{className:"input-icon",size:20}),(0,mN.jsx)("input",{type:a?"text":"password",placeholder:"Password (min 6 characters)",value:s,onChange:e=>o(e.target.value),required:!0,className:"form-input"}),(0,mN.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>l(!a),children:a?(0,mN.jsx)(OD,{size:20}):(0,mN.jsx)(LD,{size:20})})]})}),(0,mN.jsxs)("button",{type:"submit",disabled:h,className:"register-btn ".concat(h?"loading":""),children:[(0,mN.jsx)("span",{className:"btn-text",children:h?"Creating Account...":"Create Account"}),!h&&(0,mN.jsx)(jD,{className:"btn-icon",size:20}),h&&(0,mN.jsx)("div",{className:"spinner"})]})]}),(0,mN.jsx)("div",{className:"divider",children:(0,mN.jsx)("span",{children:"Already have an account?"})}),(0,mN.jsx)("div",{className:"login-section",children:(0,mN.jsxs)(vt,{to:"/login",className:"login-link",children:[(0,mN.jsx)("span",{children:"Sign in to your account"}),(0,mN.jsx)(jD,{className:"link-icon",size:16})]})}),(0,mN.jsxs)("div",{className:"terms",children:["By creating an account, you agree to our"," ",(0,mN.jsx)("a",{href:"#",className:"terms-link",children:"Terms of Service"})," and"," ",(0,mN.jsx)("a",{href:"#",className:"terms-link",children:"Privacy Policy"})]})]})})]})};const zD=function(){const[e,t]=(0,i.useState)(null),n=ge(),[r,s]=(0,i.useState)(!1),[o,a]=(0,i.useState)({judul:"",penulis:"",penerbit:"",kategori:"",deskripsi:"",tahun_terbit:"",tebal_buku:"",cover:""});return(0,i.useEffect)(()=>{const e=Rl(tE,e=>{t(e),e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")});return()=>e()},[]),(0,i.useEffect)(()=>{const t=()=>{if(e)try{navigator.sendBeacon("https://firestore.googleapis.com/v1/projects/".concat(nE.app.options.projectId,"/databases/(default)/documents/Users/").concat(e.uid,"?updateMask.fieldPaths=isOnline"),JSON.stringify({fields:{isOnline:{booleanValue:!1}}}))}catch(t){console.warn("Gagal update status offline:",t)}};return window.addEventListener("beforeunload",t),()=>window.removeEventListener("beforeunload",t)},[e]),(0,mN.jsxs)("div",{className:"fixed flex min-h-screen bg-white",children:[(0,mN.jsxs)("div",{className:"w-64 bg-gradient-to-b from-blue-400 to-indigo-900 text-white shadow-xl flex flex-col",children:[(0,mN.jsx)("div",{className:"p-6 border-b border-indigo-600",children:(0,mN.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mN.jsxs)("div",{className:"relative",children:[(0,mN.jsx)("img",{src:(null===e||void 0===e?void 0:e.photoURL)||"/Users-person.png",alt:"Foto Profil",className:"w-12 h-12 rounded-full border-2 border-white shadow-md object-cover"}),(0,mN.jsx)("span",{className:"absolute bottom-0 right-0 bg-green-500 w-3 h-3 rounded-full border-2 border-white"})]}),(0,mN.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mN.jsx)("h3",{className:"text-sm font-semibold truncate",children:(null===e||void 0===e?void 0:e.displayName)||"Admin"}),(0,mN.jsx)("p",{className:"text-xs text-blue-200 truncate",children:(null===e||void 0===e?void 0:e.email)||"belum login"})]})]})}),(0,mN.jsx)("div",{className:"px-6 py-4",children:(0,mN.jsx)("h2",{className:"text-lg font-bold text-white tracking-wide",children:"Dashboard"})}),(0,mN.jsxs)("nav",{className:"flex-1 px-4 py-2",children:[(0,mN.jsxs)("ul",{className:"space-y-1",children:[(0,mN.jsx)("li",{children:(0,mN.jsxs)(vt,{to:"/dashboard",className:"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-white/10 hover:translate-x-1 group",children:[(0,mN.jsx)("img",{src:"/svg/stats.svg",alt:"Dashboard Icon",className:"w-5 h-5 mr-3 filter brightness-0 invert"}),(0,mN.jsx)("span",{children:"Dashboard"})]})}),(0,mN.jsx)("li",{children:(0,mN.jsxs)(vt,{to:"",className:"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 hover:bg-white/10 hover:translate-x-1 group",onClick:()=>s(!r),children:[(0,mN.jsx)("img",{src:"/svg/add.svg",alt:"Dashboard Icon",className:"w-5 h-5 mr-3 filter brightness-0 invert"}),(0,mN.jsx)("span",{children:"Tambah"})]})})]}),(0,mN.jsxs)("div",{className:"px-5 py-4 bg-white rounded-xl shadow-lg mx-3 mb-4 text-gray-700 animate-slide-down overflow-y-auto max-h-[70vh]",children:[(0,mN.jsx)("h3",{className:"font-bold text-blue-600 text-center mb-3",children:"Tambah Buku"}),(0,mN.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Qr.post("http://localhost:8000/api/buku",o),alert("Buku berhasil ditambahkan!"),a({judul:"",penulis:"",penerbit:"",kategori:"",deskripsi:"",tahun_terbit:"",tebal_buku:"",cover:""})}catch(Sw){console.error("Gagal menambah buku:",Sw),alert("Gagal menambah buku!")}},className:"space-y-2",children:[(0,mN.jsx)("input",{type:"text",name:"judul",placeholder:"Judul Buku",value:o.judul,onChange:e=>a(h(h({},o),{},{judul:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400",required:!0}),(0,mN.jsx)("input",{type:"text",name:"penulis",placeholder:"Penulis",value:o.penulis,onChange:e=>a(h(h({},o),{},{penulis:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400",required:!0}),(0,mN.jsx)("input",{type:"text",name:"penerbit",placeholder:"Penerbit",value:o.penerbit,onChange:e=>a(h(h({},o),{},{penerbit:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400"}),(0,mN.jsxs)("select",{name:"kategori",value:o.kategori,onChange:e=>a(h(h({},o),{},{kategori:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400",children:[(0,mN.jsx)("option",{value:"",children:"Pilih Kategori"}),(0,mN.jsx)("option",{value:"Fiksi",children:"Fiksi"}),(0,mN.jsx)("option",{value:"Non-Fiksi",children:"Non-Fiksi"}),(0,mN.jsx)("option",{value:"Pelajaran",children:"Pelajaran"}),(0,mN.jsx)("option",{value:"Komik",children:"Komik"}),(0,mN.jsx)("option",{value:"Sejarah",children:"Sejarah"})]}),(0,mN.jsx)("textarea",{name:"deskripsi",placeholder:"Deskripsi",value:o.deskripsi,onChange:e=>a(h(h({},o),{},{deskripsi:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400"}),(0,mN.jsx)("input",{type:"number",name:"tahun_terbit",placeholder:"Tahun Terbit",value:o.tahun_terbit,onChange:e=>a(h(h({},o),{},{tahun_terbit:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400"}),(0,mN.jsx)("input",{type:"number",name:"tebal_buku",placeholder:"Tebal Buku (halaman)",value:o.tebal_buku,onChange:e=>a(h(h({},o),{},{tebal_buku:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400"}),(0,mN.jsx)("input",{type:"text",name:"cover",placeholder:"URL Cover Buku",value:o.cover,onChange:e=>a(h(h({},o),{},{cover:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-400"}),(0,mN.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-md font-semibold transition",children:"Simpan Buku"})]})]})]}),(0,mN.jsxs)("div",{className:"p-6 border-t border-indigo-600/50 mb-[100px] relative",children:[(0,mN.jsxs)(_D.button,{onClick:async()=>{if(e)try{await Zb(Yv(nE,"Users",e.uid),{isOnline:!1}),await Dl(tE),localStorage.removeItem("user"),n("/loginAdmin")}catch(Sw){console.error("Gagal logout:",Sw)}},whileHover:{scale:1.05,y:-2,transition:{type:"spring",stiffness:400,damping:25}},whileTap:{scale:.95,transition:{duration:.1}},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"w-full relative flex items-center justify-center px-6 py-4 text-sm font-semibold text-white bg-gradient-to-r from-red-500/20 to-pink-500/20 rounded-2xl backdrop-blur-xl border border-red-400/30 hover:border-red-300/50 shadow-lg hover:shadow-red-500/20 overflow-hidden group",children:[(0,mN.jsx)(_D.div,{className:"absolute inset-0 bg-gradient-to-r from-red-500 to-pink-500 opacity-0 group-hover:opacity-100",initial:!1,transition:{duration:.4}}),(0,mN.jsx)(_D.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100",initial:!1,children:[...Array(5)].map((e,t)=>(0,mN.jsx)(_D.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-70",initial:{x:200*Math.random()-100,y:100*Math.random()-50,scale:0},whileHover:{scale:[0,1,0],opacity:[0,.8,0],transition:{duration:1.5,delay:.2*t,repeat:1/0,repeatType:"loop"}}},t))}),(0,mN.jsx)(_D.div,{className:"absolute inset-0 rounded-2xl bg-red-400 blur-xl opacity-0 group-hover:opacity-30",initial:!1,transition:{duration:.5}}),(0,mN.jsx)(_D.div,{className:"absolute inset-0 rounded-2xl border-2 border-transparent bg-gradient-to-r from-red-500 via-pink-500 to-red-500 bg-[length:200%_100%]",initial:{backgroundPosition:"100% 0%"},whileHover:{backgroundPosition:"0% 0%",transition:{duration:.8,ease:"easeInOut"}}}),(0,mN.jsxs)("div",{className:"relative z-10 flex items-center justify-center",children:[(0,mN.jsxs)(_D.div,{className:"relative",whileHover:{rotate:[0,-10,10,-5,0],transition:{duration:.6,ease:"easeInOut"}},children:[(0,mN.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 filter drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,mN.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,mN.jsx)(_D.div,{className:"absolute inset-0 bg-red-400 blur-md opacity-0 group-hover:opacity-60",initial:!1,transition:{duration:.3}})]}),(0,mN.jsx)(_D.span,{className:"tracking-wide drop-shadow-sm",initial:!1,whileHover:{x:[0,2,0],transition:{duration:.6,ease:"easeInOut"}},children:"Keluar"}),(0,mN.jsx)(_D.div,{className:"ml-2 opacity-0 group-hover:opacity-100",initial:!1,animate:{scale:[1,1.2,1],rotate:[0,180,360],transition:{duration:1.5,repeat:1/0,ease:"linear"}},children:(0,mN.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mN.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),(0,mN.jsx)(_D.div,{className:"absolute inset-0 rounded-2xl bg-white opacity-0",whileTap:{opacity:.3,scale:1.1,transition:{duration:.2}}})]}),(0,mN.jsxs)(_D.div,{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg opacity-0 pointer-events-none",initial:!1,whileHover:{opacity:1,y:-2},transition:{duration:.3},children:["Logout dari sistem",(0,mN.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1 w-2 h-2 bg-gray-900 rotate-45"})]})]})]}),(0,mN.jsx)("div",{className:"flex-1 flex flex-col",children:(0,mN.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,mN.jsx)(Oe,{})})})]})};const BD=function(){const[e,t]=(0,i.useState)(""),n=ge();return(0,mN.jsxs)("div",{className:"login-container-admin",children:[(0,mN.jsxs)("div",{className:"animated-bg-admin",children:[(0,mN.jsx)("div",{className:"grid-lines"}),(0,mN.jsx)("div",{className:"bg-circle"}),(0,mN.jsx)("div",{className:"bg-circle"}),(0,mN.jsx)("div",{className:"bg-circle"}),(0,mN.jsx)("div",{className:"particle"}),(0,mN.jsx)("div",{className:"particle"}),(0,mN.jsx)("div",{className:"particle"}),(0,mN.jsx)("div",{className:"particle"}),(0,mN.jsx)("div",{className:"particle"})]}),(0,mN.jsxs)("div",{className:"login-left-admin",children:[(0,mN.jsxs)("div",{className:"hero-content-admin",children:[(0,mN.jsxs)("div",{className:"logo-admin",children:[(0,mN.jsx)(AD,{className:"logo-icon-admin"}),(0,mN.jsx)("span",{className:"logo-text-admin",children:"inBook"})]}),(0,mN.jsx)("div",{className:"hero-main-admin",children:(0,mN.jsx)("h1",{children:"Login sebagai Admin"})})]}),(0,mN.jsxs)("div",{className:"login-card-admin",children:[(0,mN.jsxs)("div",{className:"card-header-admin",children:[(0,mN.jsx)("h2",{children:"Welcome Back"}),(0,mN.jsx)("p",{children:"Sign in to your account"})]}),(0,mN.jsxs)("div",{className:"social-buttons-admin",children:[(0,mN.jsxs)("button",{onClick:async()=>{try{const e=new bl,t=(await yc(tE,e)).user;await Jb(Yv(nE,"Users",t.uid),{email:t.email,displayName:t.displayName||"Users",isOnline:!0},{merge:!0}),n("/dashboard")}catch(e){t("Login Google gagal!"),console.error(e)}},className:"social-btn-admin google-btn-admin",children:[(0,mN.jsx)("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"social-icon-admin"}),(0,mN.jsx)("span",{className:"social-text-admin",children:"Google"})]}),(0,mN.jsxs)("div",{className:"register-section",children:[(0,mN.jsx)("span",{children:"log in as "}),(0,mN.jsxs)(vt,{to:"/login",className:"register-link",style:{color:"black"},children:["users",(0,mN.jsx)(jD,{className:"link-icon",size:16})]})]})]}),(0,mN.jsxs)("div",{className:"security-note-admin",children:[(0,mN.jsx)("div",{className:"security-icon-admin",children:"\ud83d\udd12"}),(0,mN.jsx)("span",{children:"Your data is securely encrypted"})]})]}),(0,mN.jsxs)("div",{className:"background-shapes",children:[(0,mN.jsx)("div",{className:"shape shape-1-admin"}),(0,mN.jsx)("div",{className:"shape shape-2-admin"}),(0,mN.jsx)("div",{className:"shape shape-3-admin"})]})]})]})};function qD(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function HD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=qD(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():qD(t[e],null)}}}}(...t),t)}class WD extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=rD(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KD(e){let{children:t,isPresent:n,anchorX:r,root:s}=e;const o=(0,i.useId)(),a=(0,i.useRef)(null),l=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,i.useContext)(vN),u=HD(a,null===t||void 0===t?void 0:t.ref);return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:u,right:h}=l.current;if(n||!a.current||!e||!t)return;const d="left"===r?"left: ".concat(u):"right: ".concat(h);a.current.dataset.motionPopId=o;const f=document.createElement("style");c&&(f.nonce=c);const p=null!==s&&void 0!==s?s:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(i,"px !important;\n          }\n        ")),()=>{p.contains(f)&&p.removeChild(f)}},[n]),(0,mN.jsx)(WD,{isPresent:n,childRef:a,sizeRef:l,children:i.cloneElement(t,{ref:u})})}const GD=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l,anchorX:c,root:u}=e;const d=ON(QD),f=(0,i.useId)();let p=!0,m=(0,i.useMemo)(()=>(p=!1,{id:f,initial:n,isPresent:r,custom:o,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;s&&s()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[r,d,s]);return a&&p&&(m=h({},m)),(0,i.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[r]),i.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),"popLayout"===l&&(t=(0,mN.jsx)(KD,{isPresent:r,anchorX:c,root:u,children:t})),(0,mN.jsx)(DN.Provider,{value:m,children:t})};function QD(){return new Map}const YD=e=>e.key||"";function XD(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}const $D=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[h,d]=FA(l),f=(0,i.useMemo)(()=>XD(t),[t]),p=l&&!h?[]:f.map(YD),m=(0,i.useRef)(!0),g=(0,i.useRef)(f),y=ON(()=>new Map),[v,b]=(0,i.useState)(f),[w,_]=(0,i.useState)(f);KN(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=YD(w[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[w,p.length,p.join("-")]);const S=[];if(f!==v){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=YD(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===a&&S.length&&(e=S),_(XD(e)),b(f),null}const{forceRender:x}=(0,i.useContext)(gN);return(0,mN.jsx)(mN.Fragment,{children:w.map(e=>{const t=YD(e),i=!(l&&!h)&&(f===w||p.includes(t));return(0,mN.jsx)(GD,{isPresent:i,initial:!(m.current&&!r)&&void 0,custom:n,presenceAffectsLayout:o,mode:a,root:u,onExitComplete:i?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===x||void 0===x||x(),_(g.current),l&&(null===d||void 0===d||d()),s&&s())},anchorX:c,children:e},t)})})};function JD(e){let{buku:t,onClose:n}=e;return t?(0,mN.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,mN.jsxs)(_D.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"bg-white rounded-3xl p-6 max-w-lg w-full shadow-2xl relative",children:[(0,mN.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 font-bold",children:"\u2716"}),(0,mN.jsx)("img",{src:t.cover||"/placeholder-book.jpg",alt:t.judul,className:"w-full h-64 object-cover rounded-xl mb-4 shadow-lg"}),(0,mN.jsx)("h2",{className:"text-2xl font-bold mb-2 text-blue-600",children:t.judul}),(0,mN.jsxs)("p",{className:"text-gray-600 mb-1",children:["Penulis: ",t.penulis]}),(0,mN.jsxs)("p",{className:"text-gray-500 text-sm mb-3",children:["Kategori: ",t.kategori]}),(0,mN.jsx)("p",{className:"text-gray-700",children:t.deskripsi||"Tidak ada deskripsi tersedia."})]})}):null}function ZD(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)("Semua");(0,i.useEffect)(()=>{const e=tE.onAuthStateChanged(e=>{e?(async e=>{try{const n=await Qr.get("http://127.0.0.1:8000/api/favorite/".concat(e));t(n.data)}catch(n){console.error("Gagal mengambil data favorit",n)}finally{r(!1)}})(e.uid):r(!1)});return()=>e()},[]);(0,i.useEffect)(()=>{(async()=>{if(tE.currentUser)try{const e=await Qr.get("http://127.0.0.1:8000/api/favorite/count/".concat(tE.currentUser.uid));o(e.data.total_favorit)}catch(e){console.error(e)}})()},[]);const h=["Semua",...new Set(e.map(e=>e.buku.kategori))],d="Semua"===c?e:e.filter(e=>e.buku.kategori===c);return n?(0,mN.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,mN.jsx)(SD,{size:80,stroke:7,color:"#60A5FA",text:"Memuat data..."})}):(0,mN.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 font-sans",children:[(0,mN.jsxs)("section",{className:"relative bg-gradient-to-r from-indigo-200 to-white text-[#111] py-20 overflow-hidden",children:[(0,mN.jsxs)(_D.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto px-4 text-center",children:[(0,mN.jsx)("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4",children:"Buku Favoritmu"}),(0,mN.jsx)("p",{className:"text-[#111] text-xl mb-8",children:"Temukan koleksi buku pilihan yang paling kamu sukai!"}),(0,mN.jsx)("div",{className:"flex justify-center gap-6",children:(0,mN.jsxs)("span",{className:"bg-white/20 backdrop-blur-lg px-6 py-3 rounded-full text-lg font-medium shadow-lg",children:["Total Favorit: ",(0,mN.jsx)("span",{className:"text-blue-400",children:s})]})})]}),(0,mN.jsx)("div",{className:"absolute -top-16 -left-16 w-40 h-40 bg-blue-500/20 rounded-full animate-pulse"}),(0,mN.jsx)("div",{className:"absolute -bottom-20 -right-16 w-60 h-60 bg-indigo-500/20 rounded-full animate-pulse"})]}),(0,mN.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-10",children:[(0,mN.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:h.map(e=>(0,mN.jsx)(_D.button,{onClick:()=>u(e),whileHover:{scale:1.1},className:"px-5 py-2 rounded-full font-semibold transition-colors duration-300 ".concat(c===e?"bg-white text-[#111] shadow-lg":"bg-white text-[#111]"),children:e},e))}),(0,mN.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:d.map((e,n)=>(0,mN.jsxs)(_D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl overflow-hidden cursor-pointer relative group hover:scale-105 transition-transform duration-500",onClick:()=>l(e.buku),children:[(0,mN.jsxs)("div",{className:"relative h-72",children:[(0,mN.jsx)("img",{src:e.buku.cover||"/placeholder-book.jpg",alt:e.buku.judul,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 rounded-t-3xl"}),(0,mN.jsx)("span",{className:"absolute top-4 left-4 bg-blue-500/80 text-white px-3 py-1 rounded-full text-sm font-medium",children:e.buku.kategori})]}),(0,mN.jsxs)("div",{className:"p-6 flex flex-col justify-between h-48",children:[(0,mN.jsx)("h3",{className:"text-2xl font-bold text-[#111] mb-2 line-clamp-2",children:e.buku.judul}),(0,mN.jsxs)("p",{className:"text-gray-700 mb-4",children:["penulis: ",e.buku.penulis]}),(0,mN.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mN.jsx)("span",{className:"text-gray-500 text-sm",children:new Date(e.created_at).toLocaleDateString("id-ID")}),(0,mN.jsxs)("button",{onClick:n=>{n.stopPropagation(),(async e=>{if(!tE.currentUser)return alert("Kamu harus login dulu!");try{const n=await Qr.delete("http://127.0.0.1:8000/api/favorite/remove",{data:{user_uid:tE.currentUser.uid,buku_id:e}});alert(n.data.message),t(t=>t.filter(t=>t.buku.id!==e)),o(e=>e-1)}catch(n){console.error(n),alert("Gagal menghapus favorit")}})(e.buku.id)},className:"text-red-500 hover:text-red-600 flex items-center gap-1 font-medium transition-colors duration-300",children:[(0,mN.jsx)(vE,{}),"Hapus"]})]})]})]},e.id))})]}),(0,mN.jsx)($D,{children:a&&(0,mN.jsx)(JD,{buku:a,onClose:()=>l(null)})}),(0,mN.jsx)("div",{className:"max-w-4xl mx-auto text-center py-16",children:(0,mN.jsxs)(_D.a,{href:"/semua",whileHover:{scale:1.05},className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-blue-600 font-bold rounded-3xl shadow-2xl hover:shadow-xl transition-all duration-300",children:[(0,mN.jsx)(yE,{})," Jelajahi Lebih Banyak"]})}),(0,mN.jsx)(eO,{})]})}function eO(){return(0,mN.jsxs)("footer",{className:"footer",children:[(0,mN.jsxs)("div",{className:"footer-container",children:[(0,mN.jsx)("div",{className:"flex items-center justify-center p-2",children:(0,mN.jsx)("img",{src:"/b.png",alt:"logo",className:"w-32 md:w-40 lg:w-48 object-contain cursor-pointer transition-transform duration-300"})}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h2",{className:"footer-title",children:"\ud83d\udcda Jejak Buku"}),(0,mN.jsx)("p",{className:"footer-text",children:"Temukan ribuan koleksi buku menarik mulai dari fiksi, non-fiksi, hingga buku pelajaran. Jejak Buku adalah tempat terbaik untuk para pembaca sejati."})]}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h3",{className:"footer-subtitle",children:"Navigasi"}),(0,mN.jsxs)("ul",{className:"footer-links",children:[(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"/semua",children:"semua"})}),(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"/favorit",children:"Favorit"})}),(0,mN.jsx)("li",{children:(0,mN.jsx)("a",{href:"#",children:"Tentang"})})]})]}),(0,mN.jsxs)("div",{className:"footer-section",children:[(0,mN.jsx)("h3",{className:"footer-subtitle",children:"Ikuti Kami"}),(0,mN.jsxs)("div",{className:"footer-socials",children:[(0,mN.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100081955621560",className:"social-icon-footer facebook",children:(0,mN.jsx)(pE,{})}),(0,mN.jsx)("a",{href:"https://www.instagram.com/berkat_bt/",className:"social-icon-footer instagram",children:(0,mN.jsx)(gE,{})}),(0,mN.jsx)("a",{href:"https://github.com/berkatbt",className:"social-icon-footer github",children:(0,mN.jsx)(mE,{})})]})]})]}),(0,mN.jsxs)("div",{className:"footer-bottom",children:["\xa9 ",(new Date).getFullYear()," katalog buku by Berkat_bt!. Semua hak dilindungi."]})]})}function tO(){const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)(0),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),[d,f]=(0,i.useState)([]),[p,m]=(0,i.useState)({id:"",judul:"",penulis:"",penerbit:"",kategori:"",deskripsi:"",tahun_terbit:"",tebal_buku:"",cover:""}),[g,y]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[w,_]=(0,i.useState)([]),S=Zk(),x=tu().currentUser;(0,i.useEffect)(()=>{const e=ew(Qv(nE,"Users"),e=>{const t=e.docs.map(e=>h({id:e.id},e.data()));_(t),l(!1)});return()=>e()},[]),(0,i.useEffect)(()=>{if(!x)return;const e=Kk(S,"/status/".concat(x.uid));return(async()=>{try{await Qk(e,{state:"online",last_changed:Date.now()}),function(e){return e=Xi(e),new qk(e._repo,e._path)}(e).set({state:"offline",last_changed:Date.now()}),await Zb(Yv(nE,"Users",x.uid),{isOnline:!0})}catch(c){console.error("Gagal update status:",c)}})(),async()=>{try{await Qk(e,{state:"offline",last_changed:Date.now()}),await Zb(Yv(nE,"Users",x.uid),{isOnline:!1})}catch(sO){}}},[x,S]);const k=async e=>{var t;if(window.confirm("Yakin ingin menghapus user ini?"))try{await(t=Yv(nE,"Users",e),tw(lh(t.firestore,eb),[new Mp(t._key,kp.none())])),alert("User berhasil dihapus!")}catch(c){console.error("Gagal menghapus user:",c),alert("Terjadi kesalahan saat menghapus user.")}};(0,i.useEffect)(()=>{(async()=>{try{l(!0),u(null);const[e,n,i]=await Promise.all([Qr.get("http://127.0.0.1:8000/api/jumlahBuku").catch(e=>(console.error("Error fetching books:",e),{data:{jumlah:0}})),$b(Qv(nE,"pengguna")).catch(e=>(console.error("Error fetching users:",e),{size:0})),$b(jb(Qv(nE,"Users"),Fb("isOnline","==",!0))).catch(e=>(console.error("Error fetching active users:",e),{size:0}))]);t(e.data.jumlah),r(n.size),o(i.size)}catch(c){console.error("Error in fetchData:",c),u("Gagal memuat data dashboard")}finally{l(!1)}})()},[]);const E=async()=>{try{const e=await Qr.get("http://localhost:8000/api/buku");f(e.data)}catch(e){console.error("Gagal Mengambil data buku:",e)}finally{l(!1)}};(0,i.useEffect)(()=>{E()},[]);const T=e=>{m(h(h({},p),{},{[e.target.name]:e.target.value}))},C=()=>{m({id:"",judul:"",penulis:"",penerbit:"",kategori:"",deskripsi:"",tahun_terbit:"",tebal_buku:"",cover:""}),b(!1)};return a?(0,mN.jsxs)("div",{className:"p-5 font-sans flex flex-col items-center justify-center min-h-screen",children:[(0,mN.jsxs)("div",{className:"animate-pulse",children:[(0,mN.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),(0,mN.jsxs)("div",{className:"flex gap-5",children:[(0,mN.jsx)("div",{className:"w-32 h-24 bg-gray-200 rounded"}),(0,mN.jsx)("div",{className:"w-32 h-24 bg-gray-200 rounded"}),(0,mN.jsx)("div",{className:"w-32 h-24 bg-gray-200 rounded"})]})]}),(0,mN.jsx)("div",{className:"min-h-[200px] flex items-center justify-center",children:a?(0,mN.jsx)(SD,{size:80,stroke:7,color:"#60A5FA",text:"Memuat data..."}):(0,mN.jsx)("div",{children:"Konten"})})]}):c?(0,mN.jsx)("div",{className:"p-5 font-sans flex flex-col items-center justify-center min-h-screen",children:(0,mN.jsx)("div",{className:"text-red-500 text-lg",children:c})}):(0,mN.jsxs)("div",{className:"fixed flex items-center min-h-screen justify-end bg-wite w-[1630px]",children:[(0,mN.jsxs)("div",{className:"fixed w-[1600px] h-screen text-white flex justify-start ",children:[(0,mN.jsxs)("div",{className:"fixed text-center h-[110px] w-[600px] rounded-2xl mt-8 ml-8",children:[(0,mN.jsx)("h1",{className:"text-3xl font-extrabold text-blue-500 mt-4 tracking-wide",children:"Dashboard Manajemen Perpustakaan"}),(0,mN.jsx)("p",{className:"text-gray-500 mt-1 text-sm italic",children:"Ringkasan cepat dan metrik utama sistem Anda"})]}),(0,mN.jsxs)("div",{className:"fixed flex mt-32 ml-10 gap-6 bg-blue-[] h-[90px] w-[700px]",children:[(0,mN.jsxs)("div",{className:"flex items-center bg-white text-black h-[90px] w-[220px] rounded-2xl shadow-lg hover:shadow-blue-500/40 transition-all duration-300 transform hover:-translate-y-2",children:[(0,mN.jsx)("div",{className:"bg-blue-500 h-[50px] w-[50px] rounded-full flex justify-center items-center ml-4 shadow-md ",children:(0,mN.jsx)("svg",{className:"w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mN.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,mN.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,mN.jsx)("h3",{className:"text-blue-600 text-sm font-semibold",children:"Jumlah Buku"}),(0,mN.jsx)("p",{className:"text-gray-800 text-2xl font-extrabold",children:e})]})]}),(0,mN.jsxs)("div",{className:"flex items-center bg-white text-black h-[90px] w-[220px] rounded-2xl shadow-lg hover:shadow-blue-500/40 transition-all duration-300 transform hover:-translate-y-2",children:[(0,mN.jsx)("div",{className:"bg-yellow-400 h-[50px] w-[50px] rounded-full flex justify-center items-center ml-4 shadow-md ",children:(0,mN.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mN.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,mN.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,mN.jsx)("h3",{className:"text-yellow-400 text-sm font-semibold",children:"Users"}),(0,mN.jsx)("p",{className:"text-gray-800 text-2xl font-extrabold",children:n})]})]}),(0,mN.jsxs)("div",{className:"flex items-center bg-white text-black h-[90px] w-[220px] rounded-2xl shadow-lg hover:shadow-blue-500/40 transition-all duration-300 transform hover:-translate-y-2",children:[(0,mN.jsx)("div",{className:"bg-green-500 h-[50px] w-[50px] rounded-full flex justify-center items-center ml-4 shadow-md ",children:(0,mN.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mN.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,mN.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,mN.jsx)("h3",{className:"text-green-600 text-sm font-semibold",children:"Online"}),(0,mN.jsx)("p",{className:"text-gray-800 text-2xl font-extrabold",children:s})]})]})]}),(0,mN.jsxs)("section",{className:" fixed mt-[250px] h-[650px] w-[700px] rounded-2xl bg-white shadow-2xl ml-10",children:[(0,mN.jsx)("p",{className:"text-blue-400 text-3xl font-bold mt-3 ml-5",children:"Online/Offline"}),(0,mN.jsx)("div",{className:"space-y-3 overflow-y-auto max-h-[580px] mt-4 px-1 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-800/50 scrollbar-thumb-rounded-full",children:w.map((e,t)=>(0,mN.jsxs)(_D.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:1,scale:1},transition:{delay:.03*t,duration:.4,ease:[.15,.36,.45,.94],y:{type:"spring",stiffness:200,damping:24}},whileHover:{transition:{ease:"easeOut"}},whileTap:{scale:.98,transition:{duration:.1}},className:"flex justify-between items-center bg-white from-slate-700/70 to-slate-600/50   p-3 rounded-2xl shadow-lg border border-slate-600/30 transition-all group",children:[(0,mN.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mN.jsxs)(_D.div,{whileHover:{scale:1.1,rotate:5,transition:{duration:.3}},className:"relative",children:[(0,mN.jsx)("img",{src:"/Users-person.png",alt:"Foto Profil",className:"w-12 h-12 rounded-full border-2 border-blue-400/80 object-cover shadow-md"}),(0,mN.jsx)(_D.span,{initial:{scale:0},animate:{scale:1},transition:{delay:.03*t+.2},className:"absolute -bottom-1 -right-1 h-4 w-4 rounded-full border-2 border-slate-800 ".concat(e.isOnline?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-gray-400 to-gray-500"," shadow-sm")})]}),(0,mN.jsxs)(_D.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.03*t+.1},className:"space-y-1",children:[(0,mN.jsx)("h3",{className:"text-black font-semibold  group-hover:text-blue-400 transition-colors duration-300",children:e.displayName||"Users"}),(0,mN.jsx)("p",{className:"text-gray-700 text-sm font-light group-hover:text-blue-500 transition-colors duration-300",children:e.email||"Tidak ada email"})]})]}),(0,mN.jsxs)(_D.div,{className:"flex items-center gap-3",initial:{opacity:0,x:10},animate:{opacity:2,x:0},children:[(0,mN.jsxs)(_D.div,{className:"flex flex-col items-center",children:[(0,mN.jsx)("span",{className:"h-4 w-4 rounded-full shadow-sm ".concat(e.isOnline?"bg-green-400 animate-pulse":"bg-gray-400"),title:e.isOnline?"Online":"Offline"}),(0,mN.jsx)("span",{className:"text-xs text-gray-700 mt-1 opacity-0 group-hover:opacity-50 transition-opacity duration-100",children:e.isOnline?"Online":"Offline"})]}),(0,mN.jsxs)(_D.button,{onClick:()=>k(e.id),whileHover:{scale:1.05,backgroundColor:"#dc2626",transition:{duration:.2}},whileTap:{scale:.95,transition:{duration:.1}},initial:{opacity:0},animate:{opacity:1},transition:{delay:.03*t+.2},className:"bg-red-600/90 hover:bg-red-700 text-white text-sm px-4 py-2 rounded-xl shadow-lg hover:shadow-red-500/20 transition-all duration-300 backdrop-blur-sm font-medium flex items-center gap-2 group/button",children:[(0,mN.jsx)(_D.svg,{whileHover:{rotate:90},transition:{duration:.3},xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mN.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Hapus"]})]})]},e.id))})]})]}),(0,mN.jsxs)("section",{className:"bg-white w-[830px] h-[850px] fixed rounded-xl shadow-2xl justify-center",children:[(0,mN.jsx)("h3",{className:"text-blue-500 font-bold text-3xl ml-5 mt-3",children:"data buku"}),a?(0,mN.jsx)("p",{className:"text-center text-gray-500",children:"Memuat data buku..."}):(0,mN.jsx)(_D.div,{className:"max-h-[800px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-blue-500 scrollbar-track-gray-200 rounded-xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:d.length>0?d.map((e,t)=>(0,mN.jsxs)(_D.div,{className:"flex items-center justify-between bg-white p-4 mb-3 rounded-lg shadow-md hover:shadow-xl transition-all hover:scale-[1.02]",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.4},children:[(0,mN.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mN.jsx)("img",{src:e.cover||"/default-book.jpg",alt:e.judul,className:"w-16 h-20 object-cover rounded-md shadow-sm"}),(0,mN.jsxs)("div",{children:[(0,mN.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:e.judul}),(0,mN.jsx)("p",{className:"text-gray-600 text-sm",children:e.penulis}),(0,mN.jsx)("p",{className:"text-gray-500 text-xs italic",children:e.kategori})]})]}),(0,mN.jsxs)("div",{className:"flex gap-2",children:[(0,mN.jsx)("button",{onClick:()=>(e=>{m(e),b(!0),y(!0)})(e),className:"bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded-md text-sm transition",children:"Edit"}),(0,mN.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Apakah kamu yakin ingin menghapus buku ini?"))try{await Qr.delete("http://localhost:8000/api/buku/".concat(e)),alert("\ud83d\uddd1\ufe0f Buku berhasil dihapus!"),E()}catch(t){console.error("Gagal menghapus buku:",t),alert("Gagal menghapus buku!")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm transition",children:"Hapus"})]})]},e.id)):(0,mN.jsx)("p",{className:"text-center text-gray-400",children:"Tidak ada data buku."})})]}),g&&(0,mN.jsx)("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:(0,mN.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-[500px] max-w-[90%] animate-fadeIn",children:[(0,mN.jsx)("h2",{className:"text-xl font-bold text-blue-400 mb-4 text-center",children:"\u270f\ufe0f Edit Data Buku"}),(0,mN.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Qr.put("http://localhost:8000/api/buku/".concat(p.id),p),alert("Buku berhasil diperbarui!"),y(!1),E(),C()}catch(t){console.error("Gagal mengedit buku:",t),alert("Gagal memperbarui buku!")}},className:"space-y-3",children:[(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Judul Buku"}),(0,mN.jsx)("input",{type:"text",name:"judul",value:p.judul,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,mN.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Penulis"}),(0,mN.jsx)("input",{type:"text",name:"penulis",value:p.penulis,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400"})]}),(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Penerbit"}),(0,mN.jsx)("input",{type:"text",name:"penerbit",value:p.penerbit,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400"})]})]}),(0,mN.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Tahun Terbit"}),(0,mN.jsx)("input",{type:"number",name:"tahun_terbit",value:p.tahun_terbit,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400"})]}),(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Tebal Buku"}),(0,mN.jsx)("input",{type:"text",name:"tebal_buku",value:p.tebal_buku,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400"})]})]}),(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Kategori"}),(0,mN.jsxs)("select",{name:"kategori",value:p.kategori,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400 bg-white",children:[(0,mN.jsx)("option",{value:"",children:"-- Pilih Kategori --"}),(0,mN.jsx)("option",{value:"Fiksi",children:"Fiksi"}),(0,mN.jsx)("option",{value:"Non-Fiksi",children:"Non-Fiksi"}),(0,mN.jsx)("option",{value:"Edukasi",children:"Edukasi"}),(0,mN.jsx)("option",{value:"Komik",children:"Komik"}),(0,mN.jsx)("option",{value:"Biografi",children:"Biografi"}),(0,mN.jsx)("option",{value:"Religi",children:"Religi"}),(0,mN.jsx)("option",{value:"Teknologi",children:"Teknologi"}),(0,mN.jsx)("option",{value:"Novel",children:"Novel"}),(0,mN.jsx)("option",{value:"Sejarah",children:"Sejarah"})]})]}),(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Deskripsi"}),(0,mN.jsx)("textarea",{name:"deskripsi",value:p.deskripsi,onChange:T,rows:"3",className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400"})]}),(0,mN.jsxs)("div",{children:[(0,mN.jsx)("label",{className:"text-sm text-gray-700 font-semibold",children:"Link Cover Buku"}),(0,mN.jsx)("input",{type:"text",name:"cover",value:p.cover,onChange:T,className:"w-full border border-blue-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400"})]}),(0,mN.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,mN.jsx)("button",{type:"button",onClick:()=>y(!1),className:"bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition",children:"Batal"}),(0,mN.jsx)("button",{type:"submit",className:"bg-blue-400 text-white py-2 px-4 rounded-lg hover:bg-blue-500 transition",children:"Simpan Perubahan"})]})]})]})})]})}const nO=function(){return(0,mN.jsxs)(Me,{children:[(0,mN.jsx)(Le,{path:"/",element:(0,mN.jsx)(xD,{})}),(0,mN.jsx)(Le,{path:"/login",element:(0,mN.jsx)(MD,{})}),(0,mN.jsx)(Le,{path:"/semua",element:(0,mN.jsx)(FD,{})}),(0,mN.jsx)(Le,{path:"/register",element:(0,mN.jsx)(VD,{})}),(0,mN.jsx)(Le,{path:"/loginAdmin",element:(0,mN.jsx)(BD,{})}),(0,mN.jsx)(Le,{path:"/favorit",element:(0,mN.jsx)(ZD,{})}),(0,mN.jsx)(Le,{path:"/dashboard",element:(0,mN.jsx)(zD,{}),children:(0,mN.jsx)(Le,{index:!0,element:(0,mN.jsx)(tO,{})})})]})},rO=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};s.createRoot(document.getElementById("root")).render((0,mN.jsx)(i.StrictMode,{children:(0,mN.jsx)(gt,{children:(0,mN.jsx)(nO,{})})})),rO()})();
//# sourceMappingURL=main.8fe343b5.js.map